(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ns(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const op="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",lp=Ns(op);function Sr(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Re(r)?dp(r):Sr(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Re(t))return t;if(Te(t))return t}}const cp=/;(?![^(]*\))/g,hp=/:([^]+)/,up=/\/\*.*?\*\//gs;function dp(t){const e={};return t.replace(up,"").split(cp).forEach(n=>{if(n){const r=n.split(hp);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Cr(t){let e="";if(Re(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const r=Cr(t[n]);r&&(e+=r+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function fp(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Re(e)&&(t.class=Cr(e)),n&&(t.style=Sr(n)),t}const pp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gp=Ns(pp);function Wh(t){return!!t||t===""}function mp(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=rn(t[r],e[r]);return n}function rn(t,e){if(t===e)return!0;let n=Gl(t),r=Gl(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ci(t),r=ci(e),n||r)return t===e;if(n=te(t),r=te(e),n||r)return n&&r?mp(t,e):!1;if(n=Te(t),r=Te(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!rn(t[a],e[a]))return!1}}return String(t)===String(e)}function Fs(t,e){return t.findIndex(n=>rn(n,e))}const Cn=t=>Re(t)?t:t==null?"":te(t)||Te(t)&&(t.toString===Vh||!oe(t.toString))?JSON.stringify(t,zh,2):String(t),zh=(t,e)=>e&&e.__v_isRef?zh(t,e.value):nr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Gn(e)?{[`Set(${e.size})`]:[...e.values()]}:Te(e)&&!te(e)&&!Kh(e)?String(e):e,Ee={},tr=[],ut=()=>{},vp=()=>!1,_p=/^on[^a-z]/,Ci=t=>_p.test(t),No=t=>t.startsWith("onUpdate:"),Le=Object.assign,Fo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},yp=Object.prototype.hasOwnProperty,me=(t,e)=>yp.call(t,e),te=Array.isArray,nr=t=>Ei(t)==="[object Map]",Gn=t=>Ei(t)==="[object Set]",Gl=t=>Ei(t)==="[object Date]",oe=t=>typeof t=="function",Re=t=>typeof t=="string",ci=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Bo=t=>Te(t)&&oe(t.then)&&oe(t.catch),Vh=Object.prototype.toString,Ei=t=>Vh.call(t),bp=t=>Ei(t).slice(8,-1),Kh=t=>Ei(t)==="[object Object]",Go=t=>Re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kr=Ns(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bs=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},wp=/-(\w)/g,Xe=Bs(t=>t.replace(wp,(e,n)=>n?n.toUpperCase():"")),Sp=/\B([A-Z])/g,at=Bs(t=>t.replace(Sp,"-$1").toLowerCase()),Ti=Bs(t=>t.charAt(0).toUpperCase()+t.slice(1)),qr=Bs(t=>t?`on${Ti(t)}`:""),dr=(t,e)=>!Object.is(t,e),rr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},_s=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Mt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $l;const Cp=()=>$l||($l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ze;class $o{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ze,!e&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}run(e){if(this.active){const n=Ze;try{return Ze=this,e()}finally{Ze=n}}}on(){Ze=this}off(){Ze=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}}}function Ep(t){return new $o(t)}function qh(t,e=Ze){e&&e.active&&e.effects.push(t)}function Tp(){return Ze}function kp(t){Ze&&Ze.cleanups.push(t)}const Uo=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Yh=t=>(t.w&sn)>0,Xh=t=>(t.n&sn)>0,Ip=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=sn},Pp=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Yh(i)&&!Xh(i)?i.delete(t):e[n++]=i,i.w&=~sn,i.n&=~sn}e.length=n}},Ka=new WeakMap;let Gr=0,sn=1;const qa=30;let ht;const In=Symbol(""),Ya=Symbol("");class ki{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,qh(this,r)}run(){if(!this.active)return this.fn();let e=ht,n=Qt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ht,ht=this,Qt=!0,sn=1<<++Gr,Gr<=qa?Ip(this):Ul(this),this.fn()}finally{Gr<=qa&&Pp(this),sn=1<<--Gr,ht=this.parent,Qt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ht===this?this.deferStop=!0:this.active&&(Ul(this),this.onStop&&this.onStop(),this.active=!1)}}function Ul(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function Ap(t,e){t.effect&&(t=t.effect.fn);const n=new ki(t);e&&(Le(n,e),e.scope&&qh(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function xp(t){t.effect.stop()}let Qt=!0;const Jh=[];function Er(){Jh.push(Qt),Qt=!1}function Tr(){const t=Jh.pop();Qt=t===void 0?!0:t}function it(t,e,n){if(Qt&&ht){let r=Ka.get(t);r||Ka.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Uo()),Zh(i)}}function Zh(t,e){let n=!1;Gr<=qa?Xh(t)||(t.n|=sn,n=!Yh(t)):n=!t.has(ht),n&&(t.add(ht),ht.deps.push(t))}function Lt(t,e,n,r,i,s){const a=Ka.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&te(t)){const l=Mt(r);a.forEach((c,h)=>{(h==="length"||h>=l)&&o.push(c)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":te(t)?Go(n)&&o.push(a.get("length")):(o.push(a.get(In)),nr(t)&&o.push(a.get(Ya)));break;case"delete":te(t)||(o.push(a.get(In)),nr(t)&&o.push(a.get(Ya)));break;case"set":nr(t)&&o.push(a.get(In));break}if(o.length===1)o[0]&&Xa(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);Xa(Uo(l))}}function Xa(t,e){const n=te(t)?t:[...t];for(const r of n)r.computed&&Hl(r);for(const r of n)r.computed||Hl(r)}function Hl(t,e){(t!==ht||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Rp=Ns("__proto__,__v_isRef,__isVue"),Qh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ci)),Op=Gs(),Mp=Gs(!1,!0),Lp=Gs(!0),Dp=Gs(!0,!0),jl=Np();function Np(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ve(this);for(let s=0,a=this.length;s<a;s++)it(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(ve)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Er();const r=ve(this)[e].apply(this,n);return Tr(),r}}),t}function Gs(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?au:su:e?iu:ru).get(r))return r;const a=te(r);if(!t&&a&&me(jl,i))return Reflect.get(jl,i,s);const o=Reflect.get(r,i,s);return(ci(i)?Qh.has(i):Rp(i))||(t||it(r,"get",i),e)?o:Ue(o)?a&&Go(i)?o:o.value:Te(o)?t?jo(o):kr(o):o}}const Fp=eu(),Bp=eu(!0);function eu(t=!1){return function(n,r,i,s){let a=n[r];if(Mn(a)&&Ue(a)&&!Ue(i))return!1;if(!t&&(!hi(i)&&!Mn(i)&&(a=ve(a),i=ve(i)),!te(n)&&Ue(a)&&!Ue(i)))return a.value=i,!0;const o=te(n)&&Go(r)?Number(r)<n.length:me(n,r),l=Reflect.set(n,r,i,s);return n===ve(s)&&(o?dr(i,a)&&Lt(n,"set",r,i):Lt(n,"add",r,i)),l}}function Gp(t,e){const n=me(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Lt(t,"delete",e,void 0),r}function $p(t,e){const n=Reflect.has(t,e);return(!ci(e)||!Qh.has(e))&&it(t,"has",e),n}function Up(t){return it(t,"iterate",te(t)?"length":In),Reflect.ownKeys(t)}const tu={get:Op,set:Fp,deleteProperty:Gp,has:$p,ownKeys:Up},nu={get:Lp,set(t,e){return!0},deleteProperty(t,e){return!0}},Hp=Le({},tu,{get:Mp,set:Bp}),jp=Le({},nu,{get:Dp}),Ho=t=>t,$s=t=>Reflect.getPrototypeOf(t);function Bi(t,e,n=!1,r=!1){t=t.__v_raw;const i=ve(t),s=ve(e);n||(e!==s&&it(i,"get",e),it(i,"get",s));const{has:a}=$s(i),o=r?Ho:n?Vo:ui;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function Gi(t,e=!1){const n=this.__v_raw,r=ve(n),i=ve(t);return e||(t!==i&&it(r,"has",t),it(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function $i(t,e=!1){return t=t.__v_raw,!e&&it(ve(t),"iterate",In),Reflect.get(t,"size",t)}function Wl(t){t=ve(t);const e=ve(this);return $s(e).has.call(e,t)||(e.add(t),Lt(e,"add",t,t)),this}function zl(t,e){e=ve(e);const n=ve(this),{has:r,get:i}=$s(n);let s=r.call(n,t);s||(t=ve(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?dr(e,a)&&Lt(n,"set",t,e):Lt(n,"add",t,e),this}function Vl(t){const e=ve(this),{has:n,get:r}=$s(e);let i=n.call(e,t);i||(t=ve(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Lt(e,"delete",t,void 0),s}function Kl(){const t=ve(this),e=t.size!==0,n=t.clear();return e&&Lt(t,"clear",void 0,void 0),n}function Ui(t,e){return function(r,i){const s=this,a=s.__v_raw,o=ve(a),l=e?Ho:t?Vo:ui;return!t&&it(o,"iterate",In),a.forEach((c,h)=>r.call(i,l(c),l(h),s))}}function Hi(t,e,n){return function(...r){const i=this.__v_raw,s=ve(i),a=nr(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),h=n?Ho:e?Vo:ui;return!e&&it(s,"iterate",l?Ya:In),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:o?[h(u[0]),h(u[1])]:h(u),done:d}},[Symbol.iterator](){return this}}}}function $t(t){return function(...e){return t==="delete"?!1:this}}function Wp(){const t={get(s){return Bi(this,s)},get size(){return $i(this)},has:Gi,add:Wl,set:zl,delete:Vl,clear:Kl,forEach:Ui(!1,!1)},e={get(s){return Bi(this,s,!1,!0)},get size(){return $i(this)},has:Gi,add:Wl,set:zl,delete:Vl,clear:Kl,forEach:Ui(!1,!0)},n={get(s){return Bi(this,s,!0)},get size(){return $i(this,!0)},has(s){return Gi.call(this,s,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:Ui(!0,!1)},r={get(s){return Bi(this,s,!0,!0)},get size(){return $i(this,!0)},has(s){return Gi.call(this,s,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:Ui(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Hi(s,!1,!1),n[s]=Hi(s,!0,!1),e[s]=Hi(s,!1,!0),r[s]=Hi(s,!0,!0)}),[t,n,e,r]}const[zp,Vp,Kp,qp]=Wp();function Us(t,e){const n=e?t?qp:Kp:t?Vp:zp;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(me(n,i)&&i in r?n:r,i,s)}const Yp={get:Us(!1,!1)},Xp={get:Us(!1,!0)},Jp={get:Us(!0,!1)},Zp={get:Us(!0,!0)},ru=new WeakMap,iu=new WeakMap,su=new WeakMap,au=new WeakMap;function Qp(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eg(t){return t.__v_skip||!Object.isExtensible(t)?0:Qp(bp(t))}function kr(t){return Mn(t)?t:Hs(t,!1,tu,Yp,ru)}function ou(t){return Hs(t,!1,Hp,Xp,iu)}function jo(t){return Hs(t,!0,nu,Jp,su)}function tg(t){return Hs(t,!0,jp,Zp,au)}function Hs(t,e,n,r,i){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=eg(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function Pn(t){return Mn(t)?Pn(t.__v_raw):!!(t&&t.__v_isReactive)}function Mn(t){return!!(t&&t.__v_isReadonly)}function hi(t){return!!(t&&t.__v_isShallow)}function Wo(t){return Pn(t)||Mn(t)}function ve(t){const e=t&&t.__v_raw;return e?ve(e):t}function zo(t){return _s(t,"__v_skip",!0),t}const ui=t=>Te(t)?kr(t):t,Vo=t=>Te(t)?jo(t):t;function Ko(t){Qt&&ht&&(t=ve(t),Zh(t.dep||(t.dep=Uo())))}function js(t,e){t=ve(t),t.dep&&Xa(t.dep)}function Ue(t){return!!(t&&t.__v_isRef===!0)}function Yr(t){return cu(t,!1)}function lu(t){return cu(t,!0)}function cu(t,e){return Ue(t)?t:new ng(t,e)}class ng{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ve(e),this._value=n?e:ui(e)}get value(){return Ko(this),this._value}set value(e){const n=this.__v_isShallow||hi(e)||Mn(e);e=n?e:ve(e),dr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ui(e),js(this))}}function rg(t){js(t)}function An(t){return Ue(t)?t.value:t}const ig={get:(t,e,n)=>An(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ue(i)&&!Ue(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function qo(t){return Pn(t)?t:new Proxy(t,ig)}class sg{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Ko(this),()=>js(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function ag(t){return new sg(t)}function og(t){const e=te(t)?new Array(t.length):{};for(const n in t)e[n]=hu(t,n);return e}class lg{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function hu(t,e,n){const r=t[e];return Ue(r)?r:new lg(t,e,n)}var uu;class cg{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[uu]=!1,this._dirty=!0,this.effect=new ki(e,()=>{this._dirty||(this._dirty=!0,js(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=ve(this);return Ko(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}uu="__v_isReadonly";function hg(t,e,n=!1){let r,i;const s=oe(t);return s?(r=t,i=ut):(r=t.get,i=t.set),new cg(r,i,s||!i,n)}function ug(t,...e){}function Ot(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){$n(s,e,n)}return i}function nt(t,e,n,r){if(oe(t)){const s=Ot(t,e,n,r);return s&&Bo(s)&&s.catch(a=>{$n(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(nt(t[s],e,n,r));return i}function $n(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Ot(l,null,10,[t,a,o]);return}}dg(t,n,i,r)}function dg(t,e,n,r=!0){console.error(t)}let di=!1,Ja=!1;const We=[];let _t=0;const ir=[];let Pt=null,En=0;const du=Promise.resolve();let Yo=null;function Ws(t){const e=Yo||du;return t?e.then(this?t.bind(this):t):e}function fg(t){let e=_t+1,n=We.length;for(;e<n;){const r=e+n>>>1;fi(We[r])<t?e=r+1:n=r}return e}function zs(t){(!We.length||!We.includes(t,di&&t.allowRecurse?_t+1:_t))&&(t.id==null?We.push(t):We.splice(fg(t.id),0,t),fu())}function fu(){!di&&!Ja&&(Ja=!0,Yo=du.then(pu))}function pg(t){const e=We.indexOf(t);e>_t&&We.splice(e,1)}function Xo(t){te(t)?ir.push(...t):(!Pt||!Pt.includes(t,t.allowRecurse?En+1:En))&&ir.push(t),fu()}function ql(t,e=di?_t+1:0){for(;e<We.length;e++){const n=We[e];n&&n.pre&&(We.splice(e,1),e--,n())}}function ys(t){if(ir.length){const e=[...new Set(ir)];if(ir.length=0,Pt){Pt.push(...e);return}for(Pt=e,Pt.sort((n,r)=>fi(n)-fi(r)),En=0;En<Pt.length;En++)Pt[En]();Pt=null,En=0}}const fi=t=>t.id==null?1/0:t.id,gg=(t,e)=>{const n=fi(t)-fi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function pu(t){Ja=!1,di=!0,We.sort(gg);const e=ut;try{for(_t=0;_t<We.length;_t++){const n=We[_t];n&&n.active!==!1&&Ot(n,null,14)}}finally{_t=0,We.length=0,ys(),di=!1,Yo=null,(We.length||ir.length)&&pu()}}let Jn,ji=[];function gu(t,e){var n,r;Jn=t,Jn?(Jn.enabled=!0,ji.forEach(({event:i,args:s})=>Jn.emit(i,...s)),ji=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{gu(s,e)}),setTimeout(()=>{Jn||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ji=[])},3e3)):ji=[]}function mg(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ee;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:d}=r[h]||Ee;d&&(i=n.map(p=>Re(p)?p.trim():p)),u&&(i=n.map(Mt))}let o,l=r[o=qr(e)]||r[o=qr(Xe(e))];!l&&s&&(l=r[o=qr(at(e))]),l&&nt(l,t,6,i);const c=r[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,nt(c,t,6,i)}}function mu(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!oe(t)){const l=c=>{const h=mu(c,e,!0);h&&(o=!0,Le(a,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(Te(t)&&r.set(t,null),null):(te(s)?s.forEach(l=>a[l]=null):Le(a,s),Te(t)&&r.set(t,a),a)}function Vs(t,e){return!t||!Ci(e)?!1:(e=e.slice(2).replace(/Once$/,""),me(t,e[0].toLowerCase()+e.slice(1))||me(t,at(e))||me(t,e))}let je=null,Ks=null;function pi(t){const e=je;return je=t,Ks=t&&t.type.__scopeId||null,e}function vg(t){Ks=t}function _g(){Ks=null}const yg=t=>Jo;function Jo(t,e=je,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&io(-1);const s=pi(e);let a;try{a=t(...i)}finally{pi(s),r._d&&io(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function os(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:c,render:h,renderCache:u,data:d,setupState:p,ctx:f,inheritAttrs:v}=t;let _,b;const g=pi(t);try{if(n.shapeFlag&4){const S=i||r;_=Qe(h.call(S,S,u,s,p,d,f)),b=l}else{const S=e;_=Qe(S.length>1?S(s,{attrs:l,slots:o,emit:c}):S(s,null)),b=e.props?l:wg(l)}}catch(S){Qr.length=0,$n(S,t,1),_=Ae(ze)}let y=_;if(b&&v!==!1){const S=Object.keys(b),{shapeFlag:I}=y;S.length&&I&7&&(a&&S.some(No)&&(b=Sg(b,a)),y=Ct(y,b))}return n.dirs&&(y=Ct(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),_=y,pi(g),_}function bg(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(an(r)){if(r.type!==ze||r.children==="v-if"){if(e)return;e=r}}else return}return e}const wg=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ci(n))&&((e||(e={}))[n]=t[n]);return e},Sg=(t,e)=>{const n={};for(const r in t)(!No(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Cg(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Yl(r,a,c):!!a;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const d=h[u];if(a[d]!==r[d]&&!Vs(c,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Yl(r,a,c):!0:!!a;return!1}function Yl(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Vs(n,s))return!0}return!1}function Zo({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const vu=t=>t.__isSuspense,Eg={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,a,o,l,c){t==null?kg(e,n,r,i,s,a,o,l,c):Ig(t,e,n,r,i,a,o,l,c)},hydrate:Pg,create:Qo,normalize:Ag},Tg=Eg;function gi(t,e){const n=t.props&&t.props[e];oe(n)&&n()}function kg(t,e,n,r,i,s,a,o,l){const{p:c,o:{createElement:h}}=l,u=h("div"),d=t.suspense=Qo(t,i,r,e,u,n,s,a,o,l);c(null,d.pendingBranch=t.ssContent,u,null,r,d,s,a),d.deps>0?(gi(t,"onPending"),gi(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,a),sr(d,t.ssFallback)):d.resolve()}function Ig(t,e,n,r,i,s,a,o,{p:l,um:c,o:{createElement:h}}){const u=e.suspense=t.suspense;u.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:f,pendingBranch:v,isInFallback:_,isHydrating:b}=u;if(v)u.pendingBranch=d,yt(d,v)?(l(v,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0?u.resolve():_&&(l(f,p,n,r,i,null,s,a,o),sr(u,p))):(u.pendingId++,b?(u.isHydrating=!1,u.activeBranch=v):c(v,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=h("div"),_?(l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0?u.resolve():(l(f,p,n,r,i,null,s,a,o),sr(u,p))):f&&yt(d,f)?(l(f,d,n,r,i,u,s,a,o),u.resolve(!0)):(l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0&&u.resolve()));else if(f&&yt(d,f))l(f,d,n,r,i,u,s,a,o),sr(u,d);else if(gi(e,"onPending"),u.pendingBranch=d,u.pendingId++,l(null,d,u.hiddenContainer,null,i,u,s,a,o),u.deps<=0)u.resolve();else{const{timeout:g,pendingId:y}=u;g>0?setTimeout(()=>{u.pendingId===y&&u.fallback(p)},g):g===0&&u.fallback(p)}}function Qo(t,e,n,r,i,s,a,o,l,c,h=!1){const{p:u,m:d,um:p,n:f,o:{parentNode:v,remove:_}}=c,b=Mt(t.props&&t.props.timeout),g={vnode:t,parent:e,parentComponent:n,isSVG:a,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(y=!1){const{vnode:S,activeBranch:I,pendingBranch:k,pendingId:R,effects:T,parentComponent:L,container:M}=g;if(g.isHydrating)g.isHydrating=!1;else if(!y){const A=I&&k.transition&&k.transition.mode==="out-in";A&&(I.transition.afterLeave=()=>{R===g.pendingId&&d(k,M,P,0)});let{anchor:P}=g;I&&(P=f(I),p(I,L,g,!0)),A||d(k,M,P,0)}sr(g,k),g.pendingBranch=null,g.isInFallback=!1;let N=g.parent,F=!1;for(;N;){if(N.pendingBranch){N.effects.push(...T),F=!0;break}N=N.parent}F||Xo(T),g.effects=[],gi(S,"onResolve")},fallback(y){if(!g.pendingBranch)return;const{vnode:S,activeBranch:I,parentComponent:k,container:R,isSVG:T}=g;gi(S,"onFallback");const L=f(I),M=()=>{g.isInFallback&&(u(null,y,R,L,k,null,T,o,l),sr(g,y))},N=y.transition&&y.transition.mode==="out-in";N&&(I.transition.afterLeave=M),g.isInFallback=!0,p(I,k,null,!0),N||M()},move(y,S,I){g.activeBranch&&d(g.activeBranch,y,S,I),g.container=y},next(){return g.activeBranch&&f(g.activeBranch)},registerDep(y,S){const I=!!g.pendingBranch;I&&g.deps++;const k=y.vnode.el;y.asyncDep.catch(R=>{$n(R,y,0)}).then(R=>{if(y.isUnmounted||g.isUnmounted||g.pendingId!==y.suspenseId)return;y.asyncResolved=!0;const{vnode:T}=y;so(y,R,!1),k&&(T.el=k);const L=!k&&y.subTree.el;S(y,T,v(k||y.subTree.el),k?null:f(y.subTree),g,a,l),L&&_(L),Zo(y,T.el),I&&--g.deps===0&&g.resolve()})},unmount(y,S){g.isUnmounted=!0,g.activeBranch&&p(g.activeBranch,n,y,S),g.pendingBranch&&p(g.pendingBranch,n,y,S)}};return g}function Pg(t,e,n,r,i,s,a,o,l){const c=e.suspense=Qo(e,r,n,t.parentNode,document.createElement("div"),null,i,s,a,o,!0),h=l(t,c.pendingBranch=e.ssContent,n,c,s,a);return c.deps===0&&c.resolve(),h}function Ag(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Xl(r?n.default:n),t.ssFallback=r?Xl(n.fallback):Ae(ze)}function Xl(t){let e;if(oe(t)){const n=Nn&&t._c;n&&(t._d=!1,pt()),t=t(),n&&(t._d=!0,e=Ye,Vu())}return te(t)&&(t=bg(t)),t=Qe(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function _u(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):Xo(t)}function sr(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,Zo(r,i))}function Xr(t,e){if(Be){let n=Be.provides;const r=Be.parent&&Be.parent.provides;r===n&&(n=Be.provides=Object.create(r)),n[t]=e}}function bt(t,e,n=!1){const r=Be||je;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&oe(e)?e.call(r.proxy):e}}function xg(t,e){return Ii(t,null,e)}function yu(t,e){return Ii(t,null,{flush:"post"})}function Rg(t,e){return Ii(t,null,{flush:"sync"})}const Wi={};function ar(t,e,n){return Ii(t,e,n)}function Ii(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=Ee){const o=Be;let l,c=!1,h=!1;if(Ue(t)?(l=()=>t.value,c=hi(t)):Pn(t)?(l=()=>t,r=!0):te(t)?(h=!0,c=t.some(y=>Pn(y)||hi(y)),l=()=>t.map(y=>{if(Ue(y))return y.value;if(Pn(y))return kn(y);if(oe(y))return Ot(y,o,2)})):oe(t)?e?l=()=>Ot(t,o,2):l=()=>{if(!(o&&o.isUnmounted))return u&&u(),nt(t,o,3,[d])}:l=ut,e&&r){const y=l;l=()=>kn(y())}let u,d=y=>{u=b.onStop=()=>{Ot(y,o,4)}},p;if(gr)if(d=ut,e?n&&nt(e,o,3,[l(),h?[]:void 0,d]):l(),i==="sync"){const y=id();p=y.__watcherHandles||(y.__watcherHandles=[])}else return ut;let f=h?new Array(t.length).fill(Wi):Wi;const v=()=>{if(b.active)if(e){const y=b.run();(r||c||(h?y.some((S,I)=>dr(S,f[I])):dr(y,f)))&&(u&&u(),nt(e,o,3,[y,f===Wi?void 0:h&&f[0]===Wi?[]:f,d]),f=y)}else b.run()};v.allowRecurse=!!e;let _;i==="sync"?_=v:i==="post"?_=()=>He(v,o&&o.suspense):(v.pre=!0,o&&(v.id=o.uid),_=()=>zs(v));const b=new ki(l,_);e?n?v():f=b.run():i==="post"?He(b.run.bind(b),o&&o.suspense):b.run();const g=()=>{b.stop(),o&&o.scope&&Fo(o.scope.effects,b)};return p&&p.push(g),g}function Og(t,e,n){const r=this.proxy,i=Re(t)?t.includes(".")?bu(r,t):()=>r[t]:t.bind(r,r);let s;oe(e)?s=e:(s=e.handler,n=e);const a=Be;on(this);const o=Ii(i,s.bind(r),n);return a?on(a):en(),o}function bu(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function kn(t,e){if(!Te(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ue(t))kn(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)kn(t[n],e);else if(Gn(t)||nr(t))t.forEach(n=>{kn(n,e)});else if(Kh(t))for(const n in t)kn(t[n],e);return t}function el(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xi(()=>{t.isMounted=!0}),Js(()=>{t.isUnmounting=!0}),t}const st=[Function,Array],Mg={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:st,onEnter:st,onAfterEnter:st,onEnterCancelled:st,onBeforeLeave:st,onLeave:st,onAfterLeave:st,onLeaveCancelled:st,onBeforeAppear:st,onAppear:st,onAfterAppear:st,onAppearCancelled:st},setup(t,{slots:e}){const n=hn(),r=el();let i;return()=>{const s=e.default&&qs(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const v of s)if(v.type!==ze){a=v;break}}const o=ve(t),{mode:l}=o;if(r.isLeaving)return ga(a);const c=Jl(a);if(!c)return ga(a);const h=fr(c,o,r,n);Ln(c,h);const u=n.subTree,d=u&&Jl(u);let p=!1;const{getTransitionKey:f}=c.type;if(f){const v=f();i===void 0?i=v:v!==i&&(i=v,p=!0)}if(d&&d.type!==ze&&(!yt(c,d)||p)){const v=fr(d,o,r,n);if(Ln(d,v),l==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},ga(a);l==="in-out"&&c.type!==ze&&(v.delayLeave=(_,b,g)=>{const y=wu(r,d);y[String(d.key)]=d,_._leaveCb=()=>{b(),_._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=g})}return a}}},tl=Mg;function wu(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function fr(t,e,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:u,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:v,onAppear:_,onAfterAppear:b,onAppearCancelled:g}=e,y=String(t.key),S=wu(n,t),I=(T,L)=>{T&&nt(T,r,9,L)},k=(T,L)=>{const M=L[1];I(T,L),te(T)?T.every(N=>N.length<=1)&&M():T.length<=1&&M()},R={mode:s,persisted:a,beforeEnter(T){let L=o;if(!n.isMounted)if(i)L=v||o;else return;T._leaveCb&&T._leaveCb(!0);const M=S[y];M&&yt(t,M)&&M.el._leaveCb&&M.el._leaveCb(),I(L,[T])},enter(T){let L=l,M=c,N=h;if(!n.isMounted)if(i)L=_||l,M=b||c,N=g||h;else return;let F=!1;const A=T._enterCb=P=>{F||(F=!0,P?I(N,[T]):I(M,[T]),R.delayedLeave&&R.delayedLeave(),T._enterCb=void 0)};L?k(L,[T,A]):A()},leave(T,L){const M=String(t.key);if(T._enterCb&&T._enterCb(!0),n.isUnmounting)return L();I(u,[T]);let N=!1;const F=T._leaveCb=A=>{N||(N=!0,L(),A?I(f,[T]):I(p,[T]),T._leaveCb=void 0,S[M]===t&&delete S[M])};S[M]=t,d?k(d,[T,F]):F()},clone(T){return fr(T,e,n,r)}};return R}function ga(t){if(Ai(t))return t=Ct(t),t.children=null,t}function Jl(t){return Ai(t)?t.children?t.children[0]:void 0:t}function Ln(t,e){t.shapeFlag&6&&t.component?Ln(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qs(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let a=t[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===$e?(a.patchFlag&128&&i++,r=r.concat(qs(a.children,e,o))):(e||a.type!==ze)&&r.push(o!=null?Ct(a,{key:o}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Pi(t){return oe(t)?{setup:t,name:t.name}:t}const xn=t=>!!t.type.__asyncLoader;function Lg(t){oe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:a=!0,onError:o}=t;let l=null,c,h=0;const u=()=>(h++,l=null,d()),d=()=>{let p;return l||(p=l=e().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),o)return new Promise((v,_)=>{o(f,()=>v(u()),()=>_(f),h+1)});throw f}).then(f=>p!==l&&l?l:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),c=f,f)))};return Pi({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const p=Be;if(c)return()=>ma(c,p);const f=g=>{l=null,$n(g,p,13,!r)};if(a&&p.suspense||gr)return d().then(g=>()=>ma(g,p)).catch(g=>(f(g),()=>r?Ae(r,{error:g}):null));const v=Yr(!1),_=Yr(),b=Yr(!!i);return i&&setTimeout(()=>{b.value=!1},i),s!=null&&setTimeout(()=>{if(!v.value&&!_.value){const g=new Error(`Async component timed out after ${s}ms.`);f(g),_.value=g}},s),d().then(()=>{v.value=!0,p.parent&&Ai(p.parent.vnode)&&zs(p.parent.update)}).catch(g=>{f(g),_.value=g}),()=>{if(v.value&&c)return ma(c,p);if(_.value&&r)return Ae(r,{error:_.value});if(n&&!b.value)return Ae(n)}}})}function ma(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,a=Ae(t,r,i);return a.ref=n,a.ce=s,delete e.vnode.ce,a}const Ai=t=>t.type.__isKeepAlive,Dg={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=hn(),r=n.ctx;if(!r.renderer)return()=>{const g=e.default&&e.default();return g&&g.length===1?g[0]:g};const i=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:c,um:h,o:{createElement:u}}}=r,d=u("div");r.activate=(g,y,S,I,k)=>{const R=g.component;c(g,y,S,0,o),l(R.vnode,g,y,S,R,o,I,g.slotScopeIds,k),He(()=>{R.isDeactivated=!1,R.a&&rr(R.a);const T=g.props&&g.props.onVnodeMounted;T&&qe(T,R.parent,g)},o)},r.deactivate=g=>{const y=g.component;c(g,d,null,1,o),He(()=>{y.da&&rr(y.da);const S=g.props&&g.props.onVnodeUnmounted;S&&qe(S,y.parent,g),y.isDeactivated=!0},o)};function p(g){va(g),h(g,n,o,!0)}function f(g){i.forEach((y,S)=>{const I=oo(y.type);I&&(!g||!g(I))&&v(S)})}function v(g){const y=i.get(g);!a||y.type!==a.type?p(y):a&&va(a),i.delete(g),s.delete(g)}ar(()=>[t.include,t.exclude],([g,y])=>{g&&f(S=>$r(g,S)),y&&f(S=>!$r(y,S))},{flush:"post",deep:!0});let _=null;const b=()=>{_!=null&&i.set(_,_a(n.subTree))};return xi(b),Xs(b),Js(()=>{i.forEach(g=>{const{subTree:y,suspense:S}=n,I=_a(y);if(g.type===I.type){va(I);const k=I.component.da;k&&He(k,S);return}p(g)})}),()=>{if(_=null,!e.default)return null;const g=e.default(),y=g[0];if(g.length>1)return a=null,g;if(!an(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return a=null,y;let S=_a(y);const I=S.type,k=oo(xn(S)?S.type.__asyncResolved||{}:I),{include:R,exclude:T,max:L}=t;if(R&&(!k||!$r(R,k))||T&&k&&$r(T,k))return a=S,y;const M=S.key==null?I:S.key,N=i.get(M);return S.el&&(S=Ct(S),y.shapeFlag&128&&(y.ssContent=S)),_=M,N?(S.el=N.el,S.component=N.component,S.transition&&Ln(S,S.transition),S.shapeFlag|=512,s.delete(M),s.add(M)):(s.add(M),L&&s.size>parseInt(L,10)&&v(s.values().next().value)),S.shapeFlag|=256,a=S,vu(y.type)?y:S}}},Ng=Dg;function $r(t,e){return te(t)?t.some(n=>$r(n,e)):Re(t)?t.split(",").includes(e):t.test?t.test(e):!1}function Su(t,e){Eu(t,"a",e)}function Cu(t,e){Eu(t,"da",e)}function Eu(t,e,n=Be){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ys(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ai(i.parent.vnode)&&Fg(r,e,n,i),i=i.parent}}function Fg(t,e,n,r){const i=Ys(e,t,r,!0);Zs(()=>{Fo(r[e],i)},n)}function va(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function _a(t){return t.shapeFlag&128?t.ssContent:t}function Ys(t,e,n=Be,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Er(),on(n);const o=nt(e,n,t,a);return en(),Tr(),o});return r?i.unshift(s):i.push(s),s}}const Nt=t=>(e,n=Be)=>(!gr||t==="sp")&&Ys(t,(...r)=>e(...r),n),Tu=Nt("bm"),xi=Nt("m"),ku=Nt("bu"),Xs=Nt("u"),Js=Nt("bum"),Zs=Nt("um"),Iu=Nt("sp"),Pu=Nt("rtg"),Au=Nt("rtc");function xu(t,e=Be){Ys("ec",t,e)}function Bg(t,e){const n=je;if(n===null)return t;const r=ea(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,c=Ee]=e[s];a&&(oe(a)&&(a={mounted:a,updated:a}),a.deep&&kn(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function vt(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(Er(),nt(l,n,8,[t.el,o,t,e]),Tr())}}const nl="components",Gg="directives";function Ru(t,e){return rl(nl,t,!0,e)||t}const Ou=Symbol();function $g(t){return Re(t)?rl(nl,t,!1)||t:t||Ou}function Ug(t){return rl(Gg,t)}function rl(t,e,n=!0,r=!1){const i=je||Be;if(i){const s=i.type;if(t===nl){const o=oo(s,!1);if(o&&(o===e||o===Xe(e)||o===Ti(Xe(e))))return s}const a=Zl(i[t]||s[t],e)||Zl(i.appContext[t],e);return!a&&r?s:a}}function Zl(t,e){return t&&(t[e]||t[Xe(e)]||t[Ti(Xe(e))])}function Hg(t,e,n,r){let i;const s=n&&n[r];if(te(t)||Re(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Te(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const c=a[o];i[o]=e(t[c],c,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function jg(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(te(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function pr(t,e,n={},r,i){if(je.isCE||je.parent&&xn(je.parent)&&je.parent.isCE)return e!=="default"&&(n.name=e),Ae("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),pt();const a=s&&Mu(s(n)),o=ol($e,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Mu(t){return t.some(e=>an(e)?!(e.type===ze||e.type===$e&&!Mu(e.children)):!0)?t:null}function Lu(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:qr(r)]=t[r];return n}const Za=t=>t?Zu(t)?ea(t)||t.proxy:Za(t.parent):null,Jr=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Za(t.parent),$root:t=>Za(t.root),$emit:t=>t.emit,$options:t=>il(t),$forceUpdate:t=>t.f||(t.f=()=>zs(t.update)),$nextTick:t=>t.n||(t.n=Ws.bind(t.proxy)),$watch:t=>Og.bind(t)}),ya=(t,e)=>t!==Ee&&!t.__isScriptSetup&&me(t,e),Qa={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(ya(r,e))return a[e]=1,r[e];if(i!==Ee&&me(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&me(c,e))return a[e]=3,s[e];if(n!==Ee&&me(n,e))return a[e]=4,n[e];eo&&(a[e]=0)}}const h=Jr[e];let u,d;if(h)return e==="$attrs"&&it(t,"get",e),h(t);if((u=o.__cssModules)&&(u=u[e]))return u;if(n!==Ee&&me(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,me(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return ya(i,e)?(i[e]=n,!0):r!==Ee&&me(r,e)?(r[e]=n,!0):me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==Ee&&me(t,a)||ya(e,a)||(o=s[0])&&me(o,a)||me(r,a)||me(Jr,a)||me(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Wg=Le({},Qa,{get(t,e){if(e!==Symbol.unscopables)return Qa.get(t,e,t)},has(t,e){return e[0]!=="_"&&!lp(e)}});let eo=!0;function zg(t){const e=il(t),n=t.proxy,r=t.ctx;eo=!1,e.beforeCreate&&Ql(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:c,created:h,beforeMount:u,mounted:d,beforeUpdate:p,updated:f,activated:v,deactivated:_,beforeDestroy:b,beforeUnmount:g,destroyed:y,unmounted:S,render:I,renderTracked:k,renderTriggered:R,errorCaptured:T,serverPrefetch:L,expose:M,inheritAttrs:N,components:F,directives:A,filters:P}=e;if(c&&Vg(c,r,null,t.appContext.config.unwrapInjectedRef),a)for(const Z in a){const re=a[Z];oe(re)&&(r[Z]=re.bind(n))}if(i){const Z=i.call(n,n);Te(Z)&&(t.data=kr(Z))}if(eo=!0,s)for(const Z in s){const re=s[Z],ue=oe(re)?re.bind(n,n):oe(re.get)?re.get.bind(n,n):ut,ee=!oe(re)&&oe(re.set)?re.set.bind(n):ut,ce=et({get:ue,set:ee});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>ce.value,set:de=>ce.value=de})}if(o)for(const Z in o)Du(o[Z],r,n,Z);if(l){const Z=oe(l)?l.call(n):l;Reflect.ownKeys(Z).forEach(re=>{Xr(re,Z[re])})}h&&Ql(h,t,"c");function $(Z,re){te(re)?re.forEach(ue=>Z(ue.bind(n))):re&&Z(re.bind(n))}if($(Tu,u),$(xi,d),$(ku,p),$(Xs,f),$(Su,v),$(Cu,_),$(xu,T),$(Au,k),$(Pu,R),$(Js,g),$(Zs,S),$(Iu,L),te(M))if(M.length){const Z=t.exposed||(t.exposed={});M.forEach(re=>{Object.defineProperty(Z,re,{get:()=>n[re],set:ue=>n[re]=ue})})}else t.exposed||(t.exposed={});I&&t.render===ut&&(t.render=I),N!=null&&(t.inheritAttrs=N),F&&(t.components=F),A&&(t.directives=A)}function Vg(t,e,n=ut,r=!1){te(t)&&(t=to(t));for(const i in t){const s=t[i];let a;Te(s)?"default"in s?a=bt(s.from||i,s.default,!0):a=bt(s.from||i):a=bt(s),Ue(a)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[i]=a}}function Ql(t,e,n){nt(te(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Du(t,e,n,r){const i=r.includes(".")?bu(n,r):()=>n[r];if(Re(t)){const s=e[t];oe(s)&&ar(i,s)}else if(oe(t))ar(i,t.bind(n));else if(Te(t))if(te(t))t.forEach(s=>Du(s,e,n,r));else{const s=oe(t.handler)?t.handler.bind(n):e[t.handler];oe(s)&&ar(i,s,t)}}function il(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>bs(l,c,a,!0)),bs(l,e,a)),Te(e)&&s.set(e,l),l}function bs(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&bs(t,s,n,!0),i&&i.forEach(a=>bs(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=Kg[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Kg={data:ec,props:wn,emits:wn,methods:wn,computed:wn,beforeCreate:Ke,created:Ke,beforeMount:Ke,mounted:Ke,beforeUpdate:Ke,updated:Ke,beforeDestroy:Ke,beforeUnmount:Ke,destroyed:Ke,unmounted:Ke,activated:Ke,deactivated:Ke,errorCaptured:Ke,serverPrefetch:Ke,components:wn,directives:wn,watch:Yg,provide:ec,inject:qg};function ec(t,e){return e?t?function(){return Le(oe(t)?t.call(this,this):t,oe(e)?e.call(this,this):e)}:e:t}function qg(t,e){return wn(to(t),to(e))}function to(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ke(t,e){return t?[...new Set([].concat(t,e))]:e}function wn(t,e){return t?Le(Le(Object.create(null),t),e):e}function Yg(t,e){if(!t)return e;if(!e)return t;const n=Le(Object.create(null),t);for(const r in e)n[r]=Ke(t[r],e[r]);return n}function Xg(t,e,n,r=!1){const i={},s={};_s(s,Qs,1),t.propsDefaults=Object.create(null),Nu(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:ou(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Jg(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=ve(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=t.vnode.dynamicProps;for(let u=0;u<h.length;u++){let d=h[u];if(Vs(t.emitsOptions,d))continue;const p=e[d];if(l)if(me(s,d))p!==s[d]&&(s[d]=p,c=!0);else{const f=Xe(d);i[f]=no(l,o,f,p,t,!1)}else p!==s[d]&&(s[d]=p,c=!0)}}}else{Nu(t,e,i,s)&&(c=!0);let h;for(const u in o)(!e||!me(e,u)&&((h=at(u))===u||!me(e,h)))&&(l?n&&(n[u]!==void 0||n[h]!==void 0)&&(i[u]=no(l,o,u,void 0,t,!0)):delete i[u]);if(s!==o)for(const u in s)(!e||!me(e,u))&&(delete s[u],c=!0)}c&&Lt(t,"set","$attrs")}function Nu(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Kr(l))continue;const c=e[l];let h;i&&me(i,h=Xe(l))?!s||!s.includes(h)?n[h]=c:(o||(o={}))[h]=c:Vs(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=ve(n),c=o||Ee;for(let h=0;h<s.length;h++){const u=s[h];n[u]=no(i,l,u,c[u],t,!me(c,u))}}return a}function no(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=me(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&oe(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(on(i),r=c[n]=l.call(null,e),en())}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===at(n))&&(r=!0))}return r}function Fu(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!oe(t)){const h=u=>{l=!0;const[d,p]=Fu(u,e,!0);Le(a,d),p&&o.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Te(t)&&r.set(t,tr),tr;if(te(s))for(let h=0;h<s.length;h++){const u=Xe(s[h]);tc(u)&&(a[u]=Ee)}else if(s)for(const h in s){const u=Xe(h);if(tc(u)){const d=s[h],p=a[u]=te(d)||oe(d)?{type:d}:Object.assign({},d);if(p){const f=ic(Boolean,p.type),v=ic(String,p.type);p[0]=f>-1,p[1]=v<0||f<v,(f>-1||me(p,"default"))&&o.push(u)}}}const c=[a,o];return Te(t)&&r.set(t,c),c}function tc(t){return t[0]!=="$"}function nc(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function rc(t,e){return nc(t)===nc(e)}function ic(t,e){return te(e)?e.findIndex(n=>rc(n,t)):oe(e)&&rc(e,t)?0:-1}const Bu=t=>t[0]==="_"||t==="$stable",sl=t=>te(t)?t.map(Qe):[Qe(t)],Zg=(t,e,n)=>{if(e._n)return e;const r=Jo((...i)=>sl(e(...i)),n);return r._c=!1,r},Gu=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Bu(i))continue;const s=t[i];if(oe(s))e[i]=Zg(i,s,r);else if(s!=null){const a=sl(s);e[i]=()=>a}}},$u=(t,e)=>{const n=sl(e);t.slots.default=()=>n},Qg=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ve(e),_s(e,"_",n)):Gu(e,t.slots={})}else t.slots={},e&&$u(t,e);_s(t.slots,Qs,1)},em=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=Ee;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Le(i,e),!n&&o===1&&delete i._):(s=!e.$stable,Gu(e,i)),a=e}else e&&($u(t,e),a={default:1});if(s)for(const o in i)!Bu(o)&&!(o in a)&&delete i[o]};function Uu(){return{app:null,config:{isNativeTag:vp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tm=0;function nm(t,e){return function(r,i=null){oe(r)||(r=Object.assign({},r)),i!=null&&!Te(i)&&(i=null);const s=Uu(),a=new Set;let o=!1;const l=s.app={_uid:tm++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:ad,get config(){return s.config},set config(c){},use(c,...h){return a.has(c)||(c&&oe(c.install)?(a.add(c),c.install(l,...h)):oe(c)&&(a.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,u){if(!o){const d=Ae(r,i);return d.appContext=s,h&&e?e(d,c):t(d,c,u),o=!0,l._container=c,c.__vue_app__=l,ea(d.component)||d.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l}};return l}}function ws(t,e,n,r,i=!1){if(te(t)){t.forEach((d,p)=>ws(d,e&&(te(e)?e[p]:e),n,r,i));return}if(xn(r)&&!i)return;const s=r.shapeFlag&4?ea(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t,c=e&&e.r,h=o.refs===Ee?o.refs={}:o.refs,u=o.setupState;if(c!=null&&c!==l&&(Re(c)?(h[c]=null,me(u,c)&&(u[c]=null)):Ue(c)&&(c.value=null)),oe(l))Ot(l,o,12,[a,h]);else{const d=Re(l),p=Ue(l);if(d||p){const f=()=>{if(t.f){const v=d?me(u,l)?u[l]:h[l]:l.value;i?te(v)&&Fo(v,s):te(v)?v.includes(s)||v.push(s):d?(h[l]=[s],me(u,l)&&(u[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else d?(h[l]=a,me(u,l)&&(u[l]=a)):p&&(l.value=a,t.k&&(h[t.k]=a))};a?(f.id=-1,He(f,n)):f()}}}let Ut=!1;const zi=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Vi=t=>t.nodeType===8;function rm(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:o,insert:l,createComment:c}}=t,h=(b,g)=>{if(!g.hasChildNodes()){n(null,b,g),ys(),g._vnode=b;return}Ut=!1,u(g.firstChild,b,null,null,null),ys(),g._vnode=b,Ut&&console.error("Hydration completed but contains mismatches.")},u=(b,g,y,S,I,k=!1)=>{const R=Vi(b)&&b.data==="[",T=()=>v(b,g,y,S,I,R),{type:L,ref:M,shapeFlag:N,patchFlag:F}=g;let A=b.nodeType;g.el=b,F===-2&&(k=!1,g.dynamicChildren=null);let P=null;switch(L){case Dn:A!==3?g.children===""?(l(g.el=i(""),a(b),b),P=b):P=T():(b.data!==g.children&&(Ut=!0,b.data=g.children),P=s(b));break;case ze:A!==8||R?P=T():P=s(b);break;case Rn:if(R&&(b=s(b),A=b.nodeType),A===1||A===3){P=b;const Y=!g.children.length;for(let $=0;$<g.staticCount;$++)Y&&(g.children+=P.nodeType===1?P.outerHTML:P.data),$===g.staticCount-1&&(g.anchor=P),P=s(P);return R?s(P):P}else T();break;case $e:R?P=f(b,g,y,S,I,k):P=T();break;default:if(N&1)A!==1||g.type.toLowerCase()!==b.tagName.toLowerCase()?P=T():P=d(b,g,y,S,I,k);else if(N&6){g.slotScopeIds=I;const Y=a(b);if(e(g,Y,null,y,S,zi(Y),k),P=R?_(b):s(b),P&&Vi(P)&&P.data==="teleport end"&&(P=s(P)),xn(g)){let $;R?($=Ae($e),$.anchor=P?P.previousSibling:Y.lastChild):$=b.nodeType===3?ll(""):Ae("div"),$.el=b,g.component.subTree=$}}else N&64?A!==8?P=T():P=g.type.hydrate(b,g,y,S,I,k,t,p):N&128&&(P=g.type.hydrate(b,g,y,S,zi(a(b)),I,k,t,u))}return M!=null&&ws(M,null,S,g),P},d=(b,g,y,S,I,k)=>{k=k||!!g.dynamicChildren;const{type:R,props:T,patchFlag:L,shapeFlag:M,dirs:N}=g,F=R==="input"&&N||R==="option";if(F||L!==-1){if(N&&vt(g,null,y,"created"),T)if(F||!k||L&48)for(const P in T)(F&&P.endsWith("value")||Ci(P)&&!Kr(P))&&r(b,P,null,T[P],!1,void 0,y);else T.onClick&&r(b,"onClick",null,T.onClick,!1,void 0,y);let A;if((A=T&&T.onVnodeBeforeMount)&&qe(A,y,g),N&&vt(g,null,y,"beforeMount"),((A=T&&T.onVnodeMounted)||N)&&_u(()=>{A&&qe(A,y,g),N&&vt(g,null,y,"mounted")},S),M&16&&!(T&&(T.innerHTML||T.textContent))){let P=p(b.firstChild,g,b,y,S,I,k);for(;P;){Ut=!0;const Y=P;P=P.nextSibling,o(Y)}}else M&8&&b.textContent!==g.children&&(Ut=!0,b.textContent=g.children)}return b.nextSibling},p=(b,g,y,S,I,k,R)=>{R=R||!!g.dynamicChildren;const T=g.children,L=T.length;for(let M=0;M<L;M++){const N=R?T[M]:T[M]=Qe(T[M]);if(b)b=u(b,N,S,I,k,R);else{if(N.type===Dn&&!N.children)continue;Ut=!0,n(null,N,y,null,S,I,zi(y),k)}}return b},f=(b,g,y,S,I,k)=>{const{slotScopeIds:R}=g;R&&(I=I?I.concat(R):R);const T=a(b),L=p(s(b),g,T,y,S,I,k);return L&&Vi(L)&&L.data==="]"?s(g.anchor=L):(Ut=!0,l(g.anchor=c("]"),T,L),L)},v=(b,g,y,S,I,k)=>{if(Ut=!0,g.el=null,k){const L=_(b);for(;;){const M=s(b);if(M&&M!==L)o(M);else break}}const R=s(b),T=a(b);return o(b),n(null,g,T,R,y,S,zi(T),I),R},_=b=>{let g=0;for(;b;)if(b=s(b),b&&Vi(b)&&(b.data==="["&&g++,b.data==="]")){if(g===0)return s(b);g--}return b};return[h,u]}const He=_u;function Hu(t){return Wu(t)}function ju(t){return Wu(t,rm)}function Wu(t,e){const n=Cp();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:d,setScopeId:p=ut,insertStaticContent:f}=t,v=(m,C,x,D=null,B=null,z=null,J=!1,W=null,q=!!C.dynamicChildren)=>{if(m===C)return;m&&!yt(m,C)&&(D=K(m),de(m,B,z,!0),m=null),C.patchFlag===-2&&(q=!1,C.dynamicChildren=null);const{type:U,ref:ie,shapeFlag:ne}=C;switch(U){case Dn:_(m,C,x,D);break;case ze:b(m,C,x,D);break;case Rn:m==null&&g(C,x,D,J);break;case $e:F(m,C,x,D,B,z,J,W,q);break;default:ne&1?I(m,C,x,D,B,z,J,W,q):ne&6?A(m,C,x,D,B,z,J,W,q):(ne&64||ne&128)&&U.process(m,C,x,D,B,z,J,W,q,fe)}ie!=null&&B&&ws(ie,m&&m.ref,z,C||m,!C)},_=(m,C,x,D)=>{if(m==null)r(C.el=o(C.children),x,D);else{const B=C.el=m.el;C.children!==m.children&&c(B,C.children)}},b=(m,C,x,D)=>{m==null?r(C.el=l(C.children||""),x,D):C.el=m.el},g=(m,C,x,D)=>{[m.el,m.anchor]=f(m.children,C,x,D,m.el,m.anchor)},y=({el:m,anchor:C},x,D)=>{let B;for(;m&&m!==C;)B=d(m),r(m,x,D),m=B;r(C,x,D)},S=({el:m,anchor:C})=>{let x;for(;m&&m!==C;)x=d(m),i(m),m=x;i(C)},I=(m,C,x,D,B,z,J,W,q)=>{J=J||C.type==="svg",m==null?k(C,x,D,B,z,J,W,q):L(m,C,B,z,J,W,q)},k=(m,C,x,D,B,z,J,W)=>{let q,U;const{type:ie,props:ne,shapeFlag:se,transition:le,dirs:pe}=m;if(q=m.el=a(m.type,z,ne&&ne.is,ne),se&8?h(q,m.children):se&16&&T(m.children,q,null,D,B,z&&ie!=="foreignObject",J,W),pe&&vt(m,null,D,"created"),ne){for(const Se in ne)Se!=="value"&&!Kr(Se)&&s(q,Se,null,ne[Se],z,m.children,D,B,V);"value"in ne&&s(q,"value",null,ne.value),(U=ne.onVnodeBeforeMount)&&qe(U,D,m)}R(q,m,m.scopeId,J,D),pe&&vt(m,null,D,"beforeMount");const Ie=(!B||B&&!B.pendingBranch)&&le&&!le.persisted;Ie&&le.beforeEnter(q),r(q,C,x),((U=ne&&ne.onVnodeMounted)||Ie||pe)&&He(()=>{U&&qe(U,D,m),Ie&&le.enter(q),pe&&vt(m,null,D,"mounted")},B)},R=(m,C,x,D,B)=>{if(x&&p(m,x),D)for(let z=0;z<D.length;z++)p(m,D[z]);if(B){let z=B.subTree;if(C===z){const J=B.vnode;R(m,J,J.scopeId,J.slotScopeIds,B.parent)}}},T=(m,C,x,D,B,z,J,W,q=0)=>{for(let U=q;U<m.length;U++){const ie=m[U]=W?Kt(m[U]):Qe(m[U]);v(null,ie,C,x,D,B,z,J,W)}},L=(m,C,x,D,B,z,J)=>{const W=C.el=m.el;let{patchFlag:q,dynamicChildren:U,dirs:ie}=C;q|=m.patchFlag&16;const ne=m.props||Ee,se=C.props||Ee;let le;x&&vn(x,!1),(le=se.onVnodeBeforeUpdate)&&qe(le,x,C,m),ie&&vt(C,m,x,"beforeUpdate"),x&&vn(x,!0);const pe=B&&C.type!=="foreignObject";if(U?M(m.dynamicChildren,U,W,x,D,pe,z):J||re(m,C,W,null,x,D,pe,z,!1),q>0){if(q&16)N(W,C,ne,se,x,D,B);else if(q&2&&ne.class!==se.class&&s(W,"class",null,se.class,B),q&4&&s(W,"style",ne.style,se.style,B),q&8){const Ie=C.dynamicProps;for(let Se=0;Se<Ie.length;Se++){const Ne=Ie[Se],ct=ne[Ne],Kn=se[Ne];(Kn!==ct||Ne==="value")&&s(W,Ne,ct,Kn,B,m.children,x,D,V)}}q&1&&m.children!==C.children&&h(W,C.children)}else!J&&U==null&&N(W,C,ne,se,x,D,B);((le=se.onVnodeUpdated)||ie)&&He(()=>{le&&qe(le,x,C,m),ie&&vt(C,m,x,"updated")},D)},M=(m,C,x,D,B,z,J)=>{for(let W=0;W<C.length;W++){const q=m[W],U=C[W],ie=q.el&&(q.type===$e||!yt(q,U)||q.shapeFlag&70)?u(q.el):x;v(q,U,ie,null,D,B,z,J,!0)}},N=(m,C,x,D,B,z,J)=>{if(x!==D){if(x!==Ee)for(const W in x)!Kr(W)&&!(W in D)&&s(m,W,x[W],null,J,C.children,B,z,V);for(const W in D){if(Kr(W))continue;const q=D[W],U=x[W];q!==U&&W!=="value"&&s(m,W,U,q,J,C.children,B,z,V)}"value"in D&&s(m,"value",x.value,D.value)}},F=(m,C,x,D,B,z,J,W,q)=>{const U=C.el=m?m.el:o(""),ie=C.anchor=m?m.anchor:o("");let{patchFlag:ne,dynamicChildren:se,slotScopeIds:le}=C;le&&(W=W?W.concat(le):le),m==null?(r(U,x,D),r(ie,x,D),T(C.children,x,ie,B,z,J,W,q)):ne>0&&ne&64&&se&&m.dynamicChildren?(M(m.dynamicChildren,se,x,B,z,J,W),(C.key!=null||B&&C===B.subTree)&&al(m,C,!0)):re(m,C,x,ie,B,z,J,W,q)},A=(m,C,x,D,B,z,J,W,q)=>{C.slotScopeIds=W,m==null?C.shapeFlag&512?B.ctx.activate(C,x,D,J,q):P(C,x,D,B,z,J,q):Y(m,C,q)},P=(m,C,x,D,B,z,J)=>{const W=m.component=Ju(m,D,B);if(Ai(m)&&(W.ctx.renderer=fe),Qu(W),W.asyncDep){if(B&&B.registerDep(W,$),!m.el){const q=W.subTree=Ae(ze);b(null,q,C,x)}return}$(W,m,C,x,B,z,J)},Y=(m,C,x)=>{const D=C.component=m.component;if(Cg(m,C,x))if(D.asyncDep&&!D.asyncResolved){Z(D,C,x);return}else D.next=C,pg(D.update),D.update();else C.el=m.el,D.vnode=C},$=(m,C,x,D,B,z,J)=>{const W=()=>{if(m.isMounted){let{next:ie,bu:ne,u:se,parent:le,vnode:pe}=m,Ie=ie,Se;vn(m,!1),ie?(ie.el=pe.el,Z(m,ie,J)):ie=pe,ne&&rr(ne),(Se=ie.props&&ie.props.onVnodeBeforeUpdate)&&qe(Se,le,ie,pe),vn(m,!0);const Ne=os(m),ct=m.subTree;m.subTree=Ne,v(ct,Ne,u(ct.el),K(ct),m,B,z),ie.el=Ne.el,Ie===null&&Zo(m,Ne.el),se&&He(se,B),(Se=ie.props&&ie.props.onVnodeUpdated)&&He(()=>qe(Se,le,ie,pe),B)}else{let ie;const{el:ne,props:se}=C,{bm:le,m:pe,parent:Ie}=m,Se=xn(C);if(vn(m,!1),le&&rr(le),!Se&&(ie=se&&se.onVnodeBeforeMount)&&qe(ie,Ie,C),vn(m,!0),ne&&he){const Ne=()=>{m.subTree=os(m),he(ne,m.subTree,m,B,null)};Se?C.type.__asyncLoader().then(()=>!m.isUnmounted&&Ne()):Ne()}else{const Ne=m.subTree=os(m);v(null,Ne,x,D,m,B,z),C.el=Ne.el}if(pe&&He(pe,B),!Se&&(ie=se&&se.onVnodeMounted)){const Ne=C;He(()=>qe(ie,Ie,Ne),B)}(C.shapeFlag&256||Ie&&xn(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&m.a&&He(m.a,B),m.isMounted=!0,C=x=D=null}},q=m.effect=new ki(W,()=>zs(U),m.scope),U=m.update=()=>q.run();U.id=m.uid,vn(m,!0),U()},Z=(m,C,x)=>{C.component=m;const D=m.vnode.props;m.vnode=C,m.next=null,Jg(m,C.props,D,x),em(m,C.children,x),Er(),ql(),Tr()},re=(m,C,x,D,B,z,J,W,q=!1)=>{const U=m&&m.children,ie=m?m.shapeFlag:0,ne=C.children,{patchFlag:se,shapeFlag:le}=C;if(se>0){if(se&128){ee(U,ne,x,D,B,z,J,W,q);return}else if(se&256){ue(U,ne,x,D,B,z,J,W,q);return}}le&8?(ie&16&&V(U,B,z),ne!==U&&h(x,ne)):ie&16?le&16?ee(U,ne,x,D,B,z,J,W,q):V(U,B,z,!0):(ie&8&&h(x,""),le&16&&T(ne,x,D,B,z,J,W,q))},ue=(m,C,x,D,B,z,J,W,q)=>{m=m||tr,C=C||tr;const U=m.length,ie=C.length,ne=Math.min(U,ie);let se;for(se=0;se<ne;se++){const le=C[se]=q?Kt(C[se]):Qe(C[se]);v(m[se],le,x,null,B,z,J,W,q)}U>ie?V(m,B,z,!0,!1,ne):T(C,x,D,B,z,J,W,q,ne)},ee=(m,C,x,D,B,z,J,W,q)=>{let U=0;const ie=C.length;let ne=m.length-1,se=ie-1;for(;U<=ne&&U<=se;){const le=m[U],pe=C[U]=q?Kt(C[U]):Qe(C[U]);if(yt(le,pe))v(le,pe,x,null,B,z,J,W,q);else break;U++}for(;U<=ne&&U<=se;){const le=m[ne],pe=C[se]=q?Kt(C[se]):Qe(C[se]);if(yt(le,pe))v(le,pe,x,null,B,z,J,W,q);else break;ne--,se--}if(U>ne){if(U<=se){const le=se+1,pe=le<ie?C[le].el:D;for(;U<=se;)v(null,C[U]=q?Kt(C[U]):Qe(C[U]),x,pe,B,z,J,W,q),U++}}else if(U>se)for(;U<=ne;)de(m[U],B,z,!0),U++;else{const le=U,pe=U,Ie=new Map;for(U=pe;U<=se;U++){const Je=C[U]=q?Kt(C[U]):Qe(C[U]);Je.key!=null&&Ie.set(Je.key,U)}let Se,Ne=0;const ct=se-pe+1;let Kn=!1,Nl=0;const xr=new Array(ct);for(U=0;U<ct;U++)xr[U]=0;for(U=le;U<=ne;U++){const Je=m[U];if(Ne>=ct){de(Je,B,z,!0);continue}let mt;if(Je.key!=null)mt=Ie.get(Je.key);else for(Se=pe;Se<=se;Se++)if(xr[Se-pe]===0&&yt(Je,C[Se])){mt=Se;break}mt===void 0?de(Je,B,z,!0):(xr[mt-pe]=U+1,mt>=Nl?Nl=mt:Kn=!0,v(Je,C[mt],x,null,B,z,J,W,q),Ne++)}const Fl=Kn?im(xr):tr;for(Se=Fl.length-1,U=ct-1;U>=0;U--){const Je=pe+U,mt=C[Je],Bl=Je+1<ie?C[Je+1].el:D;xr[U]===0?v(null,mt,x,Bl,B,z,J,W,q):Kn&&(Se<0||U!==Fl[Se]?ce(mt,x,Bl,2):Se--)}}},ce=(m,C,x,D,B=null)=>{const{el:z,type:J,transition:W,children:q,shapeFlag:U}=m;if(U&6){ce(m.component.subTree,C,x,D);return}if(U&128){m.suspense.move(C,x,D);return}if(U&64){J.move(m,C,x,fe);return}if(J===$e){r(z,C,x);for(let ne=0;ne<q.length;ne++)ce(q[ne],C,x,D);r(m.anchor,C,x);return}if(J===Rn){y(m,C,x);return}if(D!==2&&U&1&&W)if(D===0)W.beforeEnter(z),r(z,C,x),He(()=>W.enter(z),B);else{const{leave:ne,delayLeave:se,afterLeave:le}=W,pe=()=>r(z,C,x),Ie=()=>{ne(z,()=>{pe(),le&&le()})};se?se(z,pe,Ie):Ie()}else r(z,C,x)},de=(m,C,x,D=!1,B=!1)=>{const{type:z,props:J,ref:W,children:q,dynamicChildren:U,shapeFlag:ie,patchFlag:ne,dirs:se}=m;if(W!=null&&ws(W,null,x,m,!0),ie&256){C.ctx.deactivate(m);return}const le=ie&1&&se,pe=!xn(m);let Ie;if(pe&&(Ie=J&&J.onVnodeBeforeUnmount)&&qe(Ie,C,m),ie&6)O(m.component,x,D);else{if(ie&128){m.suspense.unmount(x,D);return}le&&vt(m,null,C,"beforeUnmount"),ie&64?m.type.remove(m,C,x,B,fe,D):U&&(z!==$e||ne>0&&ne&64)?V(U,C,x,!1,!0):(z===$e&&ne&384||!B&&ie&16)&&V(q,C,x),D&&_e(m)}(pe&&(Ie=J&&J.onVnodeUnmounted)||le)&&He(()=>{Ie&&qe(Ie,C,m),le&&vt(m,null,C,"unmounted")},x)},_e=m=>{const{type:C,el:x,anchor:D,transition:B}=m;if(C===$e){Fe(x,D);return}if(C===Rn){S(m);return}const z=()=>{i(x),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(m.shapeFlag&1&&B&&!B.persisted){const{leave:J,delayLeave:W}=B,q=()=>J(x,z);W?W(m.el,z,q):q()}else z()},Fe=(m,C)=>{let x;for(;m!==C;)x=d(m),i(m),m=x;i(C)},O=(m,C,x)=>{const{bum:D,scope:B,update:z,subTree:J,um:W}=m;D&&rr(D),B.stop(),z&&(z.active=!1,de(J,m,C,x)),W&&He(W,C),He(()=>{m.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},V=(m,C,x,D=!1,B=!1,z=0)=>{for(let J=z;J<m.length;J++)de(m[J],C,x,D,B)},K=m=>m.shapeFlag&6?K(m.component.subTree):m.shapeFlag&128?m.suspense.next():d(m.anchor||m.el),X=(m,C,x)=>{m==null?C._vnode&&de(C._vnode,null,null,!0):v(C._vnode||null,m,C,null,null,null,x),ql(),ys(),C._vnode=m},fe={p:v,um:de,m:ce,r:_e,mt:P,mc:T,pc:re,pbc:M,n:K,o:t};let xe,he;return e&&([xe,he]=e(fe)),{render:X,hydrate:xe,createApp:nm(X,xe)}}function vn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function al(t,e,n=!1){const r=t.children,i=e.children;if(te(r)&&te(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=Kt(i[s]),o.el=a.el),n||al(a,o)),o.type===Dn&&(o.el=a.el)}}function im(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<c?s=o+1:a=o;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const sm=t=>t.__isTeleport,Zr=t=>t&&(t.disabled||t.disabled===""),sc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ro=(t,e)=>{const n=t&&t.to;return Re(n)?e?e(n):null:n},am={__isTeleport:!0,process(t,e,n,r,i,s,a,o,l,c){const{mc:h,pc:u,pbc:d,o:{insert:p,querySelector:f,createText:v,createComment:_}}=c,b=Zr(e.props);let{shapeFlag:g,children:y,dynamicChildren:S}=e;if(t==null){const I=e.el=v(""),k=e.anchor=v("");p(I,n,r),p(k,n,r);const R=e.target=ro(e.props,f),T=e.targetAnchor=v("");R&&(p(T,R),a=a||sc(R));const L=(M,N)=>{g&16&&h(y,M,N,i,s,a,o,l)};b?L(n,k):R&&L(R,T)}else{e.el=t.el;const I=e.anchor=t.anchor,k=e.target=t.target,R=e.targetAnchor=t.targetAnchor,T=Zr(t.props),L=T?n:k,M=T?I:R;if(a=a||sc(k),S?(d(t.dynamicChildren,S,L,i,s,a,o),al(t,e,!0)):l||u(t,e,L,M,i,s,a,o,!1),b)T||Ki(e,n,I,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=ro(e.props,f);N&&Ki(e,N,null,c,0)}else T&&Ki(e,k,R,c,1)}zu(e)},remove(t,e,n,r,{um:i,o:{remove:s}},a){const{shapeFlag:o,children:l,anchor:c,targetAnchor:h,target:u,props:d}=t;if(u&&s(h),(a||!Zr(d))&&(s(c),o&16))for(let p=0;p<l.length;p++){const f=l[p];i(f,e,n,!0,!!f.dynamicChildren)}},move:Ki,hydrate:om};function Ki(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:h}=t,u=s===2;if(u&&r(a,e,n),(!u||Zr(h))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);u&&r(o,e,n)}function om(t,e,n,r,i,s,{o:{nextSibling:a,parentNode:o,querySelector:l}},c){const h=e.target=ro(e.props,l);if(h){const u=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Zr(e.props))e.anchor=c(a(t),e,o(t),n,r,i,s),e.targetAnchor=u;else{e.anchor=a(t);let d=u;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(u,e,h,n,r,i,s)}zu(e)}return e.anchor&&a(e.anchor)}const lm=am;function zu(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const $e=Symbol(void 0),Dn=Symbol(void 0),ze=Symbol(void 0),Rn=Symbol(void 0),Qr=[];let Ye=null;function pt(t=!1){Qr.push(Ye=t?null:[])}function Vu(){Qr.pop(),Ye=Qr[Qr.length-1]||null}let Nn=1;function io(t){Nn+=t}function Ku(t){return t.dynamicChildren=Nn>0?Ye||tr:null,Vu(),Nn>0&&Ye&&Ye.push(t),t}function cn(t,e,n,r,i,s){return Ku(ge(t,e,n,r,i,s,!0))}function ol(t,e,n,r,i){return Ku(Ae(t,e,n,r,i,!0))}function an(t){return t?t.__v_isVNode===!0:!1}function yt(t,e){return t.type===e.type&&t.key===e.key}function cm(t){}const Qs="__vInternal",qu=({key:t})=>t??null,ls=({ref:t,ref_key:e,ref_for:n})=>t!=null?Re(t)||Ue(t)||oe(t)?{i:je,r:t,k:e,f:!!n}:t:null;function ge(t,e=null,n=null,r=0,i=null,s=t===$e?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qu(e),ref:e&&ls(e),scopeId:Ks,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:je};return o?(cl(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Re(n)?8:16),Nn>0&&!a&&Ye&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ye.push(l),l}const Ae=hm;function hm(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Ou)&&(t=ze),an(t)){const o=Ct(t,e,!0);return n&&cl(o,n),Nn>0&&!s&&Ye&&(o.shapeFlag&6?Ye[Ye.indexOf(t)]=o:Ye.push(o)),o.patchFlag|=-2,o}if(_m(t)&&(t=t.__vccOpts),e){e=Yu(e);let{class:o,style:l}=e;o&&!Re(o)&&(e.class=Cr(o)),Te(l)&&(Wo(l)&&!te(l)&&(l=Le({},l)),e.style=Sr(l))}const a=Re(t)?1:vu(t)?128:sm(t)?64:Te(t)?4:oe(t)?2:0;return ge(t,e,n,r,i,a,s,!0)}function Yu(t){return t?Wo(t)||Qs in t?Le({},t):t:null}function Ct(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?hl(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&qu(o),ref:e&&e.ref?n&&i?te(i)?i.concat(ls(e)):[i,ls(e)]:ls(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ct(t.ssContent),ssFallback:t.ssFallback&&Ct(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function ll(t=" ",e=0){return Ae(Dn,null,t,e)}function Xu(t,e){const n=Ae(Rn,null,t);return n.staticCount=e,n}function um(t="",e=!1){return e?(pt(),ol(ze,null,t)):Ae(ze,null,t)}function Qe(t){return t==null||typeof t=="boolean"?Ae(ze):te(t)?Ae($e,null,t.slice()):typeof t=="object"?Kt(t):Ae(Dn,null,String(t))}function Kt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ct(t)}function cl(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),cl(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Qs in e)?e._ctx=je:i===3&&je&&(je.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:je},n=32):(e=String(e),r&64?(n=16,e=[ll(e)]):n=8);t.children=e,t.shapeFlag|=n}function hl(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Cr([e.class,r.class]));else if(i==="style")e.style=Sr([e.style,r.style]);else if(Ci(i)){const s=e[i],a=r[i];a&&s!==a&&!(te(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function qe(t,e,n,r=null){nt(t,e,7,[n,r])}const dm=Uu();let fm=0;function Ju(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||dm,s={uid:fm++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new $o(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fu(r,i),emitsOptions:mu(r,i),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:r.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=mg.bind(null,s),t.ce&&t.ce(s),s}let Be=null;const hn=()=>Be||je,on=t=>{Be=t,t.scope.on()},en=()=>{Be&&Be.scope.off(),Be=null};function Zu(t){return t.vnode.shapeFlag&4}let gr=!1;function Qu(t,e=!1){gr=e;const{props:n,children:r}=t.vnode,i=Zu(t);Xg(t,n,i,e),Qg(t,r);const s=i?pm(t,e):void 0;return gr=!1,s}function pm(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=zo(new Proxy(t.ctx,Qa));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?td(t):null;on(t),Er();const s=Ot(r,t,0,[t.props,i]);if(Tr(),en(),Bo(s)){if(s.then(en,en),e)return s.then(a=>{so(t,a,e)}).catch(a=>{$n(a,t,0)});t.asyncDep=s}else so(t,s,e)}else ed(t,e)}function so(t,e,n){oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=qo(e)),ed(t,n)}let Ss,ao;function gm(t){Ss=t,ao=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Wg))}}const mm=()=>!Ss;function ed(t,e,n){const r=t.type;if(!t.render){if(!e&&Ss&&!r.render){const i=r.template||il(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,c=Le(Le({isCustomElement:s,delimiters:o},a),l);r.render=Ss(i,c)}}t.render=r.render||ut,ao&&ao(t)}on(t),Er(),zg(t),Tr(),en()}function vm(t){return new Proxy(t.attrs,{get(e,n){return it(t,"get","$attrs"),e[n]}})}function td(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=vm(t))},slots:t.slots,emit:t.emit,expose:e}}function ea(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(qo(zo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Jr)return Jr[n](t)},has(e,n){return n in e||n in Jr}}))}function oo(t,e=!0){return oe(t)?t.displayName||t.name:t.name||e&&t.__name}function _m(t){return oe(t)&&"__vccOpts"in t}const et=(t,e)=>hg(t,e,gr);function ym(){return null}function bm(){return null}function wm(t){}function Sm(t,e){return null}function Cm(){return nd().slots}function Em(){return nd().attrs}function nd(){const t=hn();return t.setupContext||(t.setupContext=td(t))}function Tm(t,e){const n=te(t)?t.reduce((r,i)=>(r[i]={},r),{}):t;for(const r in e){const i=n[r];i?te(i)||oe(i)?n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(n[r]={default:e[r]})}return n}function km(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Im(t){const e=hn();let n=t();return en(),Bo(n)&&(n=n.catch(r=>{throw on(e),r})),[n,()=>on(e)]}function ta(t,e,n){const r=arguments.length;return r===2?Te(e)&&!te(e)?an(e)?Ae(t,null,[e]):Ae(t,e):Ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&an(n)&&(n=[n]),Ae(t,e,n))}const rd=Symbol(""),id=()=>bt(rd);function Pm(){}function Am(t,e,n,r){const i=n[r];if(i&&sd(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function sd(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(dr(n[r],e[r]))return!1;return Nn>0&&Ye&&Ye.push(t),!0}const ad="3.2.45",xm={createComponentInstance:Ju,setupComponent:Qu,renderComponentRoot:os,setCurrentRenderingInstance:pi,isVNode:an,normalizeVNode:Qe},Rm=xm,Om=null,Mm=null,Lm="http://www.w3.org/2000/svg",Tn=typeof document<"u"?document:null,ac=Tn&&Tn.createElement("template"),Dm={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Tn.createElementNS(Lm,t):Tn.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Tn.createTextNode(t),createComment:t=>Tn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ac.innerHTML=r?`<svg>${t}</svg>`:t;const o=ac.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Nm(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Fm(t,e,n){const r=t.style,i=Re(n);if(n&&!i){for(const s in n)lo(r,s,n[s]);if(e&&!Re(e))for(const s in e)n[s]==null&&lo(r,s,"")}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const oc=/\s*!important$/;function lo(t,e,n){if(te(n))n.forEach(r=>lo(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Bm(t,e);oc.test(n)?t.setProperty(at(r),n.replace(oc,""),"important"):t[r]=n}}const lc=["Webkit","Moz","ms"],ba={};function Bm(t,e){const n=ba[e];if(n)return n;let r=Xe(e);if(r!=="filter"&&r in t)return ba[e]=r;r=Ti(r);for(let i=0;i<lc.length;i++){const s=lc[i]+r;if(s in t)return ba[e]=s}return e}const cc="http://www.w3.org/1999/xlink";function Gm(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(cc,e.slice(6,e.length)):t.setAttributeNS(cc,e,n);else{const s=gp(e);n==null||s&&!Wh(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function $m(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Wh(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(e)}function At(t,e,n,r){t.addEventListener(e,n,r)}function Um(t,e,n,r){t.removeEventListener(e,n,r)}function Hm(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=jm(e);if(r){const c=s[e]=Vm(r,i);At(t,o,c,l)}else a&&(Um(t,o,a,l),s[e]=void 0)}}const hc=/(?:Once|Passive|Capture)$/;function jm(t){let e;if(hc.test(t)){e={};let r;for(;r=t.match(hc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):at(t.slice(2)),e]}let wa=0;const Wm=Promise.resolve(),zm=()=>wa||(Wm.then(()=>wa=0),wa=Date.now());function Vm(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nt(Km(r,n.value),e,5,[r])};return n.value=t,n.attached=zm(),n}function Km(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const uc=/^on[a-z]/,qm=(t,e,n,r,i=!1,s,a,o,l)=>{e==="class"?Nm(t,r,i):e==="style"?Fm(t,n,r):Ci(e)?No(e)||Hm(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ym(t,e,r,i))?$m(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Gm(t,e,r,i))};function Ym(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&uc.test(e)&&oe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||uc.test(e)&&Re(n)?!1:e in t}function od(t,e){const n=Pi(t);class r extends na{constructor(s){super(n,s,e)}}return r.def=n,r}const Xm=t=>od(t,Sd),Jm=typeof HTMLElement<"u"?HTMLElement:class{};class na extends Jm{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ws(()=>{this._connected||(uo(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:a}=r;let o;if(s&&!te(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Mt(this._props[l])),(o||(o=Object.create(null)))[Xe(l)]=!0)}this._numberProps=o,i&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=te(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Xe))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Xe(e);this._numberProps&&this._numberProps[r]&&(n=Mt(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(at(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(at(e),n+""):n||this.removeAttribute(at(e))))}_update(){uo(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Ae(this._def,Le({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};n.emit=(s,...a)=>{r(s,a),at(s)!==s&&r(at(s),a)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof na){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function Zm(t="$style"){{const e=hn();if(!e)return Ee;const n=e.type.__cssModules;if(!n)return Ee;const r=n[t];return r||Ee}}function Qm(t){const e=hn();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>ho(s,i))},r=()=>{const i=t(e.proxy);co(e.subTree,i),n(i)};yu(r),xi(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Zs(()=>i.disconnect())})}function co(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{co(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ho(t.el,e);else if(t.type===$e)t.children.forEach(n=>co(n,e));else if(t.type===Rn){let{el:n,anchor:r}=t;for(;n&&(ho(n,e),n!==r);)n=n.nextSibling}}function ho(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const Ht="transition",Rr="animation",ul=(t,{slots:e})=>ta(tl,cd(t),e);ul.displayName="Transition";const ld={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ev=ul.props=Le({},tl.props,ld),_n=(t,e=[])=>{te(t)?t.forEach(n=>n(...e)):t&&t(...e)},dc=t=>t?te(t)?t.some(e=>e.length>1):t.length>1:!1;function cd(t){const e={};for(const F in t)F in ld||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=a,appearToClass:h=o,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,f=tv(i),v=f&&f[0],_=f&&f[1],{onBeforeEnter:b,onEnter:g,onEnterCancelled:y,onLeave:S,onLeaveCancelled:I,onBeforeAppear:k=b,onAppear:R=g,onAppearCancelled:T=y}=e,L=(F,A,P)=>{zt(F,A?h:o),zt(F,A?c:a),P&&P()},M=(F,A)=>{F._isLeaving=!1,zt(F,u),zt(F,p),zt(F,d),A&&A()},N=F=>(A,P)=>{const Y=F?R:g,$=()=>L(A,F,P);_n(Y,[A,$]),fc(()=>{zt(A,F?l:s),kt(A,F?h:o),dc(Y)||pc(A,r,v,$)})};return Le(e,{onBeforeEnter(F){_n(b,[F]),kt(F,s),kt(F,a)},onBeforeAppear(F){_n(k,[F]),kt(F,l),kt(F,c)},onEnter:N(!1),onAppear:N(!0),onLeave(F,A){F._isLeaving=!0;const P=()=>M(F,A);kt(F,u),ud(),kt(F,d),fc(()=>{F._isLeaving&&(zt(F,u),kt(F,p),dc(S)||pc(F,r,_,P))}),_n(S,[F,P])},onEnterCancelled(F){L(F,!1),_n(y,[F])},onAppearCancelled(F){L(F,!0),_n(T,[F])},onLeaveCancelled(F){M(F),_n(I,[F])}})}function tv(t){if(t==null)return null;if(Te(t))return[Sa(t.enter),Sa(t.leave)];{const e=Sa(t);return[e,e]}}function Sa(t){return Mt(t)}function kt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function zt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function fc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nv=0;function pc(t,e,n,r){const i=t._endId=++nv,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=hd(t,e);if(!a)return r();const c=a+"end";let h=0;const u=()=>{t.removeEventListener(c,d),s()},d=p=>{p.target===t&&++h>=l&&u()};setTimeout(()=>{h<l&&u()},o+1),t.addEventListener(c,d)}function hd(t,e){const n=window.getComputedStyle(t),r=f=>(n[f]||"").split(", "),i=r(`${Ht}Delay`),s=r(`${Ht}Duration`),a=gc(i,s),o=r(`${Rr}Delay`),l=r(`${Rr}Duration`),c=gc(o,l);let h=null,u=0,d=0;e===Ht?a>0&&(h=Ht,u=a,d=s.length):e===Rr?c>0&&(h=Rr,u=c,d=l.length):(u=Math.max(a,c),h=u>0?a>c?Ht:Rr:null,d=h?h===Ht?s.length:l.length:0);const p=h===Ht&&/\b(transform|all)(,|$)/.test(r(`${Ht}Property`).toString());return{type:h,timeout:u,propCount:d,hasTransform:p}}function gc(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>mc(n)+mc(t[r])))}function mc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ud(){return document.body.offsetHeight}const dd=new WeakMap,fd=new WeakMap,rv={name:"TransitionGroup",props:Le({},ev,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=hn(),r=el();let i,s;return Xs(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!lv(i[0].el,n.vnode.el,a))return;i.forEach(sv),i.forEach(av);const o=i.filter(ov);ud(),o.forEach(l=>{const c=l.el,h=c.style;kt(c,a),h.transform=h.webkitTransform=h.transitionDuration="";const u=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,zt(c,a))};c.addEventListener("transitionend",u)})}),()=>{const a=ve(t),o=cd(a);let l=a.tag||$e;i=s,s=e.default?qs(e.default()):[];for(let c=0;c<s.length;c++){const h=s[c];h.key!=null&&Ln(h,fr(h,o,r,n))}if(i)for(let c=0;c<i.length;c++){const h=i[c];Ln(h,fr(h,o,r,n)),dd.set(h,h.el.getBoundingClientRect())}return Ae(l,null,s)}}},iv=rv;function sv(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function av(t){fd.set(t,t.el.getBoundingClientRect())}function ov(t){const e=dd.get(t),n=fd.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function lv(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=hd(r);return i.removeChild(r),s}const ln=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>rr(e,n):e};function cv(t){t.target.composing=!0}function vc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Cs={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=ln(i);const s=r||i.props&&i.props.type==="number";At(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=Mt(o)),t._assign(o)}),n&&At(t,"change",()=>{t.value=t.value.trim()}),e||(At(t,"compositionstart",cv),At(t,"compositionend",vc),At(t,"change",vc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=ln(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Mt(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},dl={deep:!0,created(t,e,n){t._assign=ln(n),At(t,"change",()=>{const r=t._modelValue,i=mr(t),s=t.checked,a=t._assign;if(te(r)){const o=Fs(r,i),l=o!==-1;if(s&&!l)a(r.concat(i));else if(!s&&l){const c=[...r];c.splice(o,1),a(c)}}else if(Gn(r)){const o=new Set(r);s?o.add(i):o.delete(i),a(o)}else a(gd(t,s))})},mounted:_c,beforeUpdate(t,e,n){t._assign=ln(n),_c(t,e,n)}};function _c(t,{value:e,oldValue:n},r){t._modelValue=e,te(e)?t.checked=Fs(e,r.props.value)>-1:Gn(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=rn(e,gd(t,!0)))}const fl={created(t,{value:e},n){t.checked=rn(e,n.props.value),t._assign=ln(n),At(t,"change",()=>{t._assign(mr(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=ln(r),e!==n&&(t.checked=rn(e,r.props.value))}},pd={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Gn(e);At(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Mt(mr(a)):mr(a));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=ln(r)},mounted(t,{value:e}){yc(t,e)},beforeUpdate(t,e,n){t._assign=ln(n)},updated(t,{value:e}){yc(t,e)}};function yc(t,e){const n=t.multiple;if(!(n&&!te(e)&&!Gn(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],a=mr(s);if(n)te(e)?s.selected=Fs(e,a)>-1:s.selected=e.has(a);else if(rn(mr(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function mr(t){return"_value"in t?t._value:t.value}function gd(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const md={created(t,e,n){qi(t,e,n,null,"created")},mounted(t,e,n){qi(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){qi(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){qi(t,e,n,r,"updated")}};function vd(t,e){switch(t){case"SELECT":return pd;case"TEXTAREA":return Cs;default:switch(e){case"checkbox":return dl;case"radio":return fl;default:return Cs}}}function qi(t,e,n,r,i){const a=vd(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,r)}function hv(){Cs.getSSRProps=({value:t})=>({value:t}),fl.getSSRProps=({value:t},e)=>{if(e.props&&rn(e.props.value,t))return{checked:!0}},dl.getSSRProps=({value:t},e)=>{if(te(t)){if(e.props&&Fs(t,e.props.value)>-1)return{checked:!0}}else if(Gn(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},md.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=vd(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const uv=["ctrl","shift","alt","meta"],dv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uv.some(n=>t[`${n}Key`]&&!e.includes(n))},fv=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=dv[e[i]];if(s&&s(n,e))return}return t(n,...r)},pv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},gv=(t,e)=>n=>{if(!("key"in n))return;const r=at(n.key);if(e.some(i=>i===r||pv[i]===r))return t(n)},_d={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Or(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Or(t,!0),r.enter(t)):r.leave(t,()=>{Or(t,!1)}):Or(t,e))},beforeUnmount(t,{value:e}){Or(t,e)}};function Or(t,e){t.style.display=e?t._vod:"none"}function mv(){_d.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const yd=Le({patchProp:qm},Dm);let ei,bc=!1;function bd(){return ei||(ei=Hu(yd))}function wd(){return ei=bc?ei:ju(yd),bc=!0,ei}const uo=(...t)=>{bd().render(...t)},Sd=(...t)=>{wd().hydrate(...t)},Es=(...t)=>{const e=bd().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Cd(r);if(!i)return;const s=e._component;!oe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},vv=(...t)=>{const e=wd().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Cd(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function Cd(t){return Re(t)?document.querySelector(t):t}let wc=!1;const _v=()=>{wc||(wc=!0,hv(),mv())},yv=()=>{},bv=Object.freeze(Object.defineProperty({__proto__:null,compile:yv,EffectScope:$o,ReactiveEffect:ki,customRef:ag,effect:Ap,effectScope:Ep,getCurrentScope:Tp,isProxy:Wo,isReactive:Pn,isReadonly:Mn,isRef:Ue,isShallow:hi,markRaw:zo,onScopeDispose:kp,proxyRefs:qo,reactive:kr,readonly:jo,ref:Yr,shallowReactive:ou,shallowReadonly:tg,shallowRef:lu,stop:xp,toRaw:ve,toRef:hu,toRefs:og,triggerRef:rg,unref:An,camelize:Xe,capitalize:Ti,normalizeClass:Cr,normalizeProps:fp,normalizeStyle:Sr,toDisplayString:Cn,toHandlerKey:qr,BaseTransition:tl,Comment:ze,Fragment:$e,KeepAlive:Ng,Static:Rn,Suspense:Tg,Teleport:lm,Text:Dn,callWithAsyncErrorHandling:nt,callWithErrorHandling:Ot,cloneVNode:Ct,compatUtils:Mm,computed:et,createBlock:ol,createCommentVNode:um,createElementBlock:cn,createElementVNode:ge,createHydrationRenderer:ju,createPropsRestProxy:km,createRenderer:Hu,createSlots:jg,createStaticVNode:Xu,createTextVNode:ll,createVNode:Ae,defineAsyncComponent:Lg,defineComponent:Pi,defineEmits:bm,defineExpose:wm,defineProps:ym,get devtools(){return Jn},getCurrentInstance:hn,getTransitionRawChildren:qs,guardReactiveProps:Yu,h:ta,handleError:$n,initCustomFormatter:Pm,inject:bt,isMemoSame:sd,isRuntimeOnly:mm,isVNode:an,mergeDefaults:Tm,mergeProps:hl,nextTick:Ws,onActivated:Su,onBeforeMount:Tu,onBeforeUnmount:Js,onBeforeUpdate:ku,onDeactivated:Cu,onErrorCaptured:xu,onMounted:xi,onRenderTracked:Au,onRenderTriggered:Pu,onServerPrefetch:Iu,onUnmounted:Zs,onUpdated:Xs,openBlock:pt,popScopeId:_g,provide:Xr,pushScopeId:vg,queuePostFlushCb:Xo,registerRuntimeCompiler:gm,renderList:Hg,renderSlot:pr,resolveComponent:Ru,resolveDirective:Ug,resolveDynamicComponent:$g,resolveFilter:Om,resolveTransitionHooks:fr,setBlockTracking:io,setDevtoolsHook:gu,setTransitionHooks:Ln,ssrContextKey:rd,ssrUtils:Rm,toHandlers:Lu,transformVNodeArgs:cm,useAttrs:Em,useSSRContext:id,useSlots:Cm,useTransitionState:el,version:ad,warn:ug,watch:ar,watchEffect:xg,watchPostEffect:yu,watchSyncEffect:Rg,withAsyncContext:Im,withCtx:Jo,withDefaults:Sm,withDirectives:Bg,withMemo:Am,withScopeId:yg,Transition:ul,TransitionGroup:iv,VueElement:na,createApp:Es,createSSRApp:vv,defineCustomElement:od,defineSSRCustomElement:Xm,hydrate:Sd,initDirectivesForSSR:_v,render:uo,useCssModule:Zm,useCssVars:Qm,vModelCheckbox:dl,vModelDynamic:md,vModelRadio:fl,vModelSelect:pd,vModelText:Cs,vShow:_d,withKeys:gv,withModifiers:fv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,u=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),r.push(n[h],n[u],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ed(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||u==null)throw new Sv;const d=s<<2|o>>4;if(r.push(d),c!==64){const p=o<<4&240|c>>2;if(r.push(p),u!==64){const f=c<<6&192|u;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(t){const e=Ed(t);return Td.encodeByteArray(e,!0)},Ts=function(t){return Cv(t).replace(/\./g,"")},kd=function(t){try{return Td.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=()=>Ev().__FIREBASE_DEFAULTS__,kv=()=>{if(typeof process>"u"||typeof{}>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Iv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kd(t[1]);return e&&JSON.parse(e)},pl=()=>{try{return Tv()||kv()||Iv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Id=t=>{var e,n;return(n=(e=pl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pE=t=>{const e=Id(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pv=()=>{var t;return(t=pl())===null||t===void 0?void 0:t.config},Pd=t=>{var e;return(e=pl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),o="";return[Ts(JSON.stringify(n)),Ts(JSON.stringify(a)),o].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function Rv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ov(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mv(){const t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lv(){try{return typeof indexedDB=="object"}catch{return!1}}function Dv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="FirebaseError";class un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nv,Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ri.prototype.create)}}class Ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Fv(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new un(i,o,r)}}function Fv(t,e){return t.replace(Bv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Bv=/\{\$([^}]+)}/g;function Gv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Sc(s)&&Sc(a)){if(!ks(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ur(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $v(t,e){const n=new Uv(t,e);return n.subscribe.bind(n)}class Uv{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hv(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ca),i.error===void 0&&(i.error=Ca),i.complete===void 0&&(i.complete=Ca);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hv(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ca(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Av;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zv(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sn){return this.instances.has(e)}getOptions(e=Sn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wv(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sn){return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wv(t){return t===Sn?void 0:t}function zv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const Kv={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},qv=Pe.INFO,Yv={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Xv=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Yv[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ad{constructor(e){this.name=e,this._logLevel=qv,this._logHandler=Xv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Jv=(t,e)=>e.some(n=>t instanceof n);let Cc,Ec;function Zv(){return Cc||(Cc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qv(){return Ec||(Ec=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xd=new WeakMap,fo=new WeakMap,Rd=new WeakMap,Ea=new WeakMap,gl=new WeakMap;function e_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(tn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&xd.set(n,t)}).catch(()=>{}),gl.set(e,t),e}function t_(t){if(fo.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});fo.set(t,e)}let po={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fo.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n_(t){po=t(po)}function r_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ta(this),e,...n);return Rd.set(r,e.sort?e.sort():[e]),tn(r)}:Qv().includes(t)?function(...e){return t.apply(Ta(this),e),tn(xd.get(this))}:function(...e){return tn(t.apply(Ta(this),e))}}function i_(t){return typeof t=="function"?r_(t):(t instanceof IDBTransaction&&t_(t),Jv(t,Zv())?new Proxy(t,po):t)}function tn(t){if(t instanceof IDBRequest)return e_(t);if(Ea.has(t))return Ea.get(t);const e=i_(t);return e!==t&&(Ea.set(t,e),gl.set(e,t)),e}const Ta=t=>gl.get(t);function s_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=tn(a);return r&&a.addEventListener("upgradeneeded",l=>{r(tn(a.result),l.oldVersion,l.newVersion,tn(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}const a_=["get","getKey","getAll","getAllKeys","count"],o_=["put","add","delete","clear"],ka=new Map;function Tc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ka.get(e))return ka.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||a_.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return ka.set(e,s),s}n_(t=>({...t,get:(e,n,r)=>Tc(e,n)||t.get(e,n,r),has:(e,n)=>!!Tc(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function c_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const go="@firebase/app",kc="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Ad("@firebase/app"),h_="@firebase/app-compat",u_="@firebase/analytics-compat",d_="@firebase/analytics",f_="@firebase/app-check-compat",p_="@firebase/app-check",g_="@firebase/auth",m_="@firebase/auth-compat",v_="@firebase/database",__="@firebase/database-compat",y_="@firebase/functions",b_="@firebase/functions-compat",w_="@firebase/installations",S_="@firebase/installations-compat",C_="@firebase/messaging",E_="@firebase/messaging-compat",T_="@firebase/performance",k_="@firebase/performance-compat",I_="@firebase/remote-config",P_="@firebase/remote-config-compat",A_="@firebase/storage",x_="@firebase/storage-compat",R_="@firebase/firestore",O_="@firebase/firestore-compat",M_="firebase",L_="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]",D_={[go]:"fire-core",[h_]:"fire-core-compat",[d_]:"fire-analytics",[u_]:"fire-analytics-compat",[p_]:"fire-app-check",[f_]:"fire-app-check-compat",[g_]:"fire-auth",[m_]:"fire-auth-compat",[v_]:"fire-rtdb",[__]:"fire-rtdb-compat",[y_]:"fire-fn",[b_]:"fire-fn-compat",[w_]:"fire-iid",[S_]:"fire-iid-compat",[C_]:"fire-fcm",[E_]:"fire-fcm-compat",[T_]:"fire-perf",[k_]:"fire-perf-compat",[I_]:"fire-rc",[P_]:"fire-rc-compat",[A_]:"fire-gcs",[x_]:"fire-gcs-compat",[R_]:"fire-fst",[O_]:"fire-fst-compat","fire-js":"fire-js",[M_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Map,vo=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(vo.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;vo.set(e,t);for(const n of Is.values())N_(n,t);return!0}function Od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},nn=new Ri("app","Firebase",F_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=L_;function Md(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nn.create("bad-app-name",{appName:String(i)});if(n||(n=Pv()),!n)throw nn.create("no-options");const s=Is.get(i);if(s){if(ks(n,s.options)&&ks(r,s.config))return s;throw nn.create("duplicate-app",{appName:i})}const a=new Vv(i);for(const l of vo.values())a.addComponent(l);const o=new B_(n,r,a);return Is.set(i,o),o}function G_(t=mo){const e=Is.get(t);if(!e&&t===mo)return Md();if(!e)throw nn.create("no-app",{appName:t});return e}function or(t,e,n){var r;let i=(r=D_[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(o.join(" "));return}mi(new vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="firebase-heartbeat-database",U_=1,vi="firebase-heartbeat-store";let Ia=null;function Ld(){return Ia||(Ia=s_($_,U_,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vi)}}}).catch(t=>{throw nn.create("idb-open",{originalErrorMessage:t.message})})),Ia}async function H_(t){try{return(await Ld()).transaction(vi).objectStore(vi).get(Dd(t))}catch(e){if(e instanceof un)Fn.warn(e.message);else{const n=nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(n.message)}}}async function Ic(t,e){try{const r=(await Ld()).transaction(vi,"readwrite");return await r.objectStore(vi).put(e,Dd(t)),r.done}catch(n){if(n instanceof un)Fn.warn(n.message);else{const r=nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(r.message)}}}function Dd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=1024,W_=30*24*60*60*1e3;class z_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Pc();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=W_}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Pc(),{heartbeatsToSend:n,unsentEntries:r}=V_(this._heartbeatsCache.heartbeats),i=Ts(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Pc(){return new Date().toISOString().substring(0,10)}function V_(t,e=j_){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Ac(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ac(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lv()?Dv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await H_(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ic(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ic(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ac(t){return Ts(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){mi(new vr("platform-logger",e=>new l_(e),"PRIVATE")),mi(new vr("heartbeat",e=>new z_(e),"PRIVATE")),or(go,kc,t),or(go,kc,"esm2017"),or("fire-js","")}q_("");function ml(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nd(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y_=Nd,Fd=new Ri("auth","Firebase",Nd());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Ad("@firebase/auth");function cs(t,...e){xc.logLevel<=Pe.ERROR&&xc.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,...e){throw vl(t,...e)}function wt(t,...e){return vl(t,...e)}function X_(t,e,n){const r=Object.assign(Object.assign({},Y_()),{[e]:n});return new Ri("auth","Firebase",r).create(e,{appName:t.name})}function vl(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fd.create(t,...e)}function ae(t,e,...n){if(!t)throw vl(e,...n)}function xt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cs(e),new Error(e)}function Dt(t,e){t||xt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map;function Rt(t){Dt(t instanceof Function,"Expected a class definition");let e=Rc.get(t);return e?(Dt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rc.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t,e){const n=Od(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ks(s,e??{}))return i;dt(i,"already-initialized")}return n.initialize({options:e})}function Z_(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Q_(){return Oc()==="http:"||Oc()==="https:"}function Oc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q_()||Rv()||"connection"in navigator)?navigator.onLine:!0}function t0(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dt(n>e,"Short delay should be less than long delay!"),this.isMobile=xv()||Ov()}get(){return e0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t,e){Dt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Mi(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Li(t,e,n,r,i={}){return Gd(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Oi(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Bd.fetch()($d(t,t.config.apiHost,n,o),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Gd(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n0),e);try{const i=new i0(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Yi(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yi(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Yi(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Yi(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw X_(t,h,c);dt(t,h)}}catch(i){if(i instanceof un)throw i;dt(t,"internal-error",{message:String(i)})}}async function sa(t,e,n,r,i={}){const s=await Li(t,e,n,r,i);return"mfaPendingCredential"in s&&dt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $d(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_l(t.config,i):`${t.config.apiScheme}://${i}`}class i0{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wt(this.auth,"network-request-failed")),r0.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yi(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(t,e){return Li(t,"POST","/v1/accounts:delete",e)}async function a0(t,e){return Li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o0(t,e=!1){const n=dn(t),r=await n.getIdToken(e),i=yl(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ti(Pa(i.auth_time)),issuedAtTime:ti(Pa(i.iat)),expirationTime:ti(Pa(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pa(t){return Number(t)*1e3}function yl(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cs("JWT malformed, contained fewer than 3 sections"),null;try{const i=kd(n);return i?JSON.parse(i):(cs("Failed to decode base64 JWT payload"),null)}catch(i){return cs("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function l0(t){const e=yl(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof un&&c0(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c0({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ti(this.lastLoginAt),this.creationTime=ti(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _i(t,a0(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?f0(s.providerUserInfo):[],o=d0(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ud(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function u0(t){const e=dn(t);await Ps(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d0(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f0(t){return t.map(e=>{var{providerId:n}=e,r=ml(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0(t,e){const n=await Gd(t,{},async()=>{const r=Oi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=$d(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Bd.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await p0(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new yi;return r&&(ae(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yi,this.toJSON())}_performRefresh(){return xt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class On{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ml(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ud(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _i(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o0(this,e)}reload(){return u0(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new On(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ps(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _i(this,s0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(o=n.tenantId)!==null&&o!==void 0?o:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:S,isAnonymous:I,providerData:k,stsTokenManager:R}=n;ae(y&&R,e,"internal-error");const T=yi.fromJSON(this.name,R);ae(typeof y=="string",e,"internal-error"),jt(u,e.name),jt(d,e.name),ae(typeof S=="boolean",e,"internal-error"),ae(typeof I=="boolean",e,"internal-error"),jt(p,e.name),jt(f,e.name),jt(v,e.name),jt(_,e.name),jt(b,e.name),jt(g,e.name);const L=new On({uid:y,auth:e,email:d,emailVerified:S,displayName:u,isAnonymous:I,photoURL:f,phoneNumber:p,tenantId:v,stsTokenManager:T,createdAt:b,lastLoginAt:g});return k&&Array.isArray(k)&&(L.providerData=k.map(M=>Object.assign({},M))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new yi;i.updateFromServerResponse(n);const s=new On({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ps(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hd.type="NONE";const Mc=Hd;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e,n){return`firebase:${t}:${e}:${n}`}class lr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hs(this.userKey,i.apiKey,s),this.fullPersistenceKey=hs("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lr(Rt(Mc),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Rt(Mc);const a=hs(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){const u=On._fromJSON(e,h);c!==s&&(o=u),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lr(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new lr(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zd(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jd(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kd(e))return"Blackberry";if(qd(e))return"Webos";if(bl(e))return"Safari";if((e.includes("chrome/")||Wd(e))&&!e.includes("edge/"))return"Chrome";if(Vd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jd(t=Ve()){return/firefox\//i.test(t)}function bl(t=Ve()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wd(t=Ve()){return/crios\//i.test(t)}function zd(t=Ve()){return/iemobile/i.test(t)}function Vd(t=Ve()){return/android/i.test(t)}function Kd(t=Ve()){return/blackberry/i.test(t)}function qd(t=Ve()){return/webos/i.test(t)}function aa(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g0(t=Ve()){var e;return aa(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m0(){return Mv()&&document.documentMode===10}function Yd(t=Ve()){return aa(t)||Vd(t)||qd(t)||Kd(t)||/windows phone/i.test(t)||zd(t)}function v0(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e=[]){let n;switch(t){case"Browser":n=Lc(Ve());break;case"Worker":n=`${Lc(Ve())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dc(this),this.idTokenSubscription=new Dc(this),this.beforeStateQueue=new _0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fd,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rt(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await lr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ps(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dn(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rt(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rt(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await lr.create(this,[Rt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function oa(t){return dn(t)}class Dc{constructor(e){this.auth=e,this.observer=null,this.addObserver=$v(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function b0(t,e,n){const r=oa(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Jd(e),{host:a,port:o}=w0(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||S0()}function Jd(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w0(t){const e=Jd(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nc(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Nc(a)}}}function Nc(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S0(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xt("not implemented")}_getIdTokenResponse(e){return xt("not implemented")}_linkToIdToken(e,n){return xt("not implemented")}_getReauthenticationResolver(e){return xt("not implemented")}}async function C0(t,e){return Li(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(t,e){return sa(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(t,e){return sa(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function k0(t,e){return sa(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends wl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bi(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bi(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return E0(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return T0(e,{email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return C0(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return k0(e,{idToken:n,email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cr(t,e){return sa(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="http://localhost";class Bn extends wl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ml(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Bn(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cr(e,n)}buildRequest(){const e={requestUri:I0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function A0(t){const e=Ur(Hr(t)).link,n=e?Ur(Hr(e)).deep_link_id:null,r=Ur(Hr(t)).deep_link_id;return(r?Ur(Hr(r)).link:null)||r||n||e||t}class Sl{constructor(e){var n,r,i,s,a,o;const l=Ur(Hr(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,u=P0((i=l.mode)!==null&&i!==void 0?i:null);ae(c&&h&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=A0(e);try{return new Sl(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.providerId=Ir.PROVIDER_ID}static credential(e,n){return bi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sl.parseLink(n);return ae(r,"argument-error"),bi._fromEmailAndCode(e,r.code,r.tenantId)}}Ir.PROVIDER_ID="password";Ir.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ir.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Zd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends Di{constructor(){super("facebook.com")}static credential(e){return Bn._fromParams({providerId:Yt.PROVIDER_ID,signInMethod:Yt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yt.credentialFromTaggedObject(e)}static credentialFromError(e){return Yt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yt.credential(e.oauthAccessToken)}catch{return null}}}Yt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bn._fromParams({providerId:Xt.PROVIDER_ID,signInMethod:Xt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xt.credentialFromTaggedObject(e)}static credentialFromError(e){return Xt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xt.credential(n,r)}catch{return null}}}Xt.GOOGLE_SIGN_IN_METHOD="google.com";Xt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Di{constructor(){super("github.com")}static credential(e){return Bn._fromParams({providerId:Jt.PROVIDER_ID,signInMethod:Jt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jt.credentialFromTaggedObject(e)}static credentialFromError(e){return Jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jt.credential(e.oauthAccessToken)}catch{return null}}}Jt.GITHUB_SIGN_IN_METHOD="github.com";Jt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt extends Di{constructor(){super("twitter.com")}static credential(e,n){return Bn._fromParams({providerId:Zt.PROVIDER_ID,signInMethod:Zt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zt.credentialFromTaggedObject(e)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zt.credential(n,r)}catch{return null}}}Zt.TWITTER_SIGN_IN_METHOD="twitter.com";Zt.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await On._fromIdTokenResponse(e,r,i),a=Fc(r);return new _r({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fc(r);return new _r({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fc(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends un{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,As.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new As(e,n,r,i)}}function Qd(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?As._fromErrorAndOperation(t,s,e,r):s})}async function x0(t,e,n=!1){const r=await _i(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _r._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await _i(t,Qd(r,i,e,t),n);ae(s.idToken,r,"internal-error");const a=yl(s.idToken);ae(a,r,"internal-error");const{sub:o}=a;return ae(t.uid===o,r,"user-mismatch"),_r._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&dt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e,n=!1){const r="signIn",i=await Qd(t,r,e),s=await _r._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function O0(t,e){return ef(oa(t),e)}function mE(t,e,n){return O0(dn(t),Ir.credential(e,n))}function M0(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function L0(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function D0(t){return dn(t).signOut()}const xs="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){const t=Ve();return bl(t)||aa(t)}const F0=1e3,B0=10;class nf extends tf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=N0()&&v0(),this.fallbackToPolling=Yd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);m0()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B0):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nf.type="LOCAL";const G0=nf;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends tf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rf.type="SESSION";const sf=rf;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new la(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await $0(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}la.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=Cl("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(u){const d=u;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return window}function H0(t){St().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){return typeof St().WorkerGlobalScope<"u"&&typeof St().importScripts=="function"}async function j0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W0(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z0(){return af()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="firebaseLocalStorageDb",V0=1,Rs="firebaseLocalStorage",lf="fbase_key";class Ni{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ca(t,e){return t.transaction([Rs],e?"readwrite":"readonly").objectStore(Rs)}function K0(){const t=indexedDB.deleteDatabase(of);return new Ni(t).toPromise()}function yo(){const t=indexedDB.open(of,V0);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rs,{keyPath:lf})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rs)?e(r):(r.close(),await K0(),e(await yo()))})})}async function Bc(t,e,n){const r=ca(t,!0).put({[lf]:e,value:n});return new Ni(r).toPromise()}async function q0(t,e){const n=ca(t,!1).get(e),r=await new Ni(n).toPromise();return r===void 0?null:r.value}function Gc(t,e){const n=ca(t,!0).delete(e);return new Ni(n).toPromise()}const Y0=800,X0=3;class cf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yo(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return af()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=la._getInstance(z0()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j0(),!this.activeServiceWorker)return;this.sender=new U0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yo();return await Bc(e,xs,"1"),await Gc(e,xs),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bc(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>q0(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gc(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ca(i,!1).getAll();return new Ni(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cf.type="LOCAL";const J0=cf;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Q0(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Z0().appendChild(r)})}function ey(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Mi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){return e?Rt(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ny(t){return ef(t.auth,new El(t),t.bypassAuthState)}function ry(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),R0(n,new El(t),t.bypassAuthState)}async function iy(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),x0(n,new El(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ny;case"linkViaPopup":case"linkViaRedirect":return iy;case"reauthViaPopup":case"reauthViaRedirect":return ry;default:dt(this.auth,"internal-error")}}resolve(e){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Mi(2e3,1e4);class Qn extends hf{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Qn.currentPopupAction&&Qn.currentPopupAction.cancel(),Qn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Dt(this.filter.length===1,"Popup operations only handle one event");const e=Cl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,sy.get())};e()}}Qn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="pendingRedirect",us=new Map;class oy extends hf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=us.get(this.auth._key());if(!e){try{const r=await ly(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}us.set(this.auth._key(),e)}return this.bypassAuthState||us.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ly(t,e){const n=uy(e),r=hy(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cy(t,e){us.set(t._key(),e)}function hy(t){return Rt(t._redirectPersistence)}function uy(t){return hs(ay,t.config.apiKey,t.name)}async function dy(t,e,n=!1){const r=oa(t),i=ty(r,e),a=await new oy(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=10*60*1e3;class py{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gy(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uf(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fy&&this.cachedEventUids.clear(),this.cachedEventUids.has($c(e))}saveEventToCache(e){this.cachedEventUids.add($c(e)),this.lastProcessedEventTime=Date.now()}}function $c(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uf({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gy(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uf(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function my(t,e={}){return Li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_y=/^https?/;async function yy(t){if(t.config.emulator)return;const{authorizedDomains:e}=await my(t);for(const n of e)try{if(by(n))return}catch{}dt(t,"unauthorized-domain")}function by(t){const e=_o(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!_y.test(n))return!1;if(vy.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Mi(3e4,6e4);function Uc(){const t=St().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sy(t){return new Promise((e,n)=>{var r,i,s;function a(){Uc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uc(),n(wt(t,"network-request-failed"))},timeout:wy.get()})}if(!((i=(r=St().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=St().gapi)===null||s===void 0)&&s.load)a();else{const o=ey("iframefcb");return St()[o]=()=>{gapi.load?a():n(wt(t,"network-request-failed"))},Q0(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw ds=null,e})}let ds=null;function Cy(t){return ds=ds||Sy(t),ds}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new Mi(5e3,15e3),Ty="__/auth/iframe",ky="emulator/auth/iframe",Iy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Py=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ay(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_l(e,ky):`https://${t.config.authDomain}/${Ty}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=Py.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oi(r).slice(1)}`}async function xy(t){const e=await Cy(t),n=St().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:Ay(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iy,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=wt(t,"network-request-failed"),o=St().setTimeout(()=>{s(a)},Ey.get());function l(){St().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oy=500,My=600,Ly="_blank",Dy="http://localhost";class Hc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ny(t,e,n,r=Oy,i=My){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ry),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ve().toLowerCase();n&&(o=Wd(c)?Ly:n),jd(c)&&(e=e||Dy,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,f])=>`${d}${p}=${f},`,"");if(g0(c)&&o!=="_self")return Fy(e||"",o),new Hc(null);const u=window.open(e||"",o,h);ae(u,t,"popup-blocked");try{u.focus()}catch{}return new Hc(u)}function Fy(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__/auth/handler",Gy="emulator/auth/handler";function jc(t,e,n,r,i,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof Zd){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Gv(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))a[l]=c}if(e instanceof Di){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const l of Object.keys(o))o[l]===void 0&&delete o[l];return`${$y(t)}?${Oi(o).slice(1)}`}function $y({config:t}){return t.emulator?_l(t,Gy):`https://${t.authDomain}/${By}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="webStorageSupport";class Uy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sf,this._completeRedirectFn=dy,this._overrideRedirectResult=cy}async _openPopup(e,n,r,i){var s;Dt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=jc(e,n,r,_o(),i);return Ny(e,a,Cl())}async _openRedirect(e,n,r,i){return await this._originValidation(e),H0(jc(e,n,r,_o(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dt(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xy(e),r=new py(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Aa,{type:Aa},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Aa];a!==void 0&&n(!!a),dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yy(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yd()||bl()||aa()}}const Hy=Uy;var Wc="@firebase/auth",zc="0.21.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function zy(t){mi(new vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:a}=r.options;return((o,l)=>{ae(s&&!s.includes(":"),"invalid-api-key",{appName:o.name}),ae(!(a!=null&&a.includes(":")),"argument-error",{appName:o.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xd(t)},h=new y0(o,l,c);return Z_(h,n),h})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new vr("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(r=>new jy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Wc,zc,Wy(t)),or(Wc,zc,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=5*60,Ky=Pd("authIdTokenMaxAge")||Vy;let Vc=null;const qy=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ky)return;const i=n==null?void 0:n.token;Vc!==i&&(Vc=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yy(t=G_()){const e=Od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=J_(t,{popupRedirectResolver:Hy,persistence:[J0,G0,sf]}),r=Pd("authTokenSyncURL");if(r){const s=qy(r);L0(n,s,()=>s(n.currentUser)),M0(n,a=>s(a))}const i=Id("auth");return i&&b0(n,`http://${i}`),n}zy("Browser");/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Zn=typeof window<"u";function Xy(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const we=Object.assign;function xa(t,e){const n={};for(const r in e){const i=e[r];n[r]=ft(i)?i.map(t):t(i)}return n}const ni=()=>{},ft=Array.isArray,Jy=/\/$/,Zy=t=>t.replace(Jy,"");function Ra(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=nb(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function Qy(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Kc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eb(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&yr(e.matched[r],n.matched[i])&&df(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function yr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function df(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!tb(t[n],e[n]))return!1;return!0}function tb(t,e){return ft(t)?qc(t,e):ft(e)?qc(e,t):t===e}function qc(t,e){return ft(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function nb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var wi;(function(t){t.pop="pop",t.push="push"})(wi||(wi={}));var ri;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ri||(ri={}));function rb(t){if(!t)if(Zn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Zy(t)}const ib=/^[^#]+#/;function sb(t,e){return t.replace(ib,"#")+e}function ab(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ha=()=>({left:window.pageXOffset,top:window.pageYOffset});function ob(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=ab(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Yc(t,e){return(history.state?history.state.position-e:-1)+t}const bo=new Map;function lb(t,e){bo.set(t,e)}function cb(t){const e=bo.get(t);return bo.delete(t),e}let hb=()=>location.protocol+"//"+location.host;function ff(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),Kc(l,"")}return Kc(n,t)+r+i}function ub(t,e,n,r){let i=[],s=[],a=null;const o=({state:d})=>{const p=ff(t,location),f=n.value,v=e.value;let _=0;if(d){if(n.value=p,e.value=d,a&&a===f){a=null;return}_=v?d.position-v.position:0}else r(p);i.forEach(b=>{b(n.value,f,{delta:_,type:wi.pop,direction:_?_>0?ri.forward:ri.back:ri.unknown})})};function l(){a=n.value}function c(d){i.push(d);const p=()=>{const f=i.indexOf(d);f>-1&&i.splice(f,1)};return s.push(p),p}function h(){const{history:d}=window;d.state&&d.replaceState(we({},d.state,{scroll:ha()}),"")}function u(){for(const d of s)d();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",h),{pauseListeners:l,listen:c,destroy:u}}function Xc(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?ha():null}}function db(t){const{history:e,location:n}=window,r={value:ff(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const u=t.indexOf("#"),d=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+l:hb()+t+l;try{e[h?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[h?"replace":"assign"](d)}}function a(l,c){const h=we({},e.state,Xc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,h,!0),r.value=l}function o(l,c){const h=we({},i.value,e.state,{forward:l,scroll:ha()});s(h.current,h,!0);const u=we({},Xc(r.value,l,null),{position:h.position+1},c);s(l,u,!1),r.value=l}return{location:r,state:i,push:o,replace:a}}function fb(t){t=rb(t);const e=db(t),n=ub(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=we({location:"",base:t,go:r,createHref:sb.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function pb(t){return typeof t=="string"||t&&typeof t=="object"}function pf(t){return typeof t=="string"||typeof t=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gf=Symbol("");var Jc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Jc||(Jc={}));function br(t,e){return we(new Error,{type:t,[gf]:!0},e)}function Tt(t,e){return t instanceof Error&&gf in t&&(e==null||!!(t.type&e))}const Zc="[^/]+?",gb={sensitive:!1,strict:!1,start:!0,end:!0},mb=/[.+*?^${}()[\]/\\]/g;function vb(t,e){const n=we({},gb,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let u=0;u<c.length;u++){const d=c[u];let p=40+(n.sensitive?.25:0);if(d.type===0)u||(i+="/"),i+=d.value.replace(mb,"\\$&"),p+=40;else if(d.type===1){const{value:f,repeatable:v,optional:_,regexp:b}=d;s.push({name:f,repeatable:v,optional:_});const g=b||Zc;if(g!==Zc){p+=10;try{new RegExp(`(${g})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${f}" (${g}): `+S.message)}}let y=v?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;u||(y=_&&c.length<2?`(?:/${y})`:"/"+y),_&&(y+="?"),i+=y,p+=20,_&&(p+=-8),v&&(p+=-20),g===".*"&&(p+=-50)}h.push(p)}r.push(h)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function o(c){const h=c.match(a),u={};if(!h)return null;for(let d=1;d<h.length;d++){const p=h[d]||"",f=s[d-1];u[f.name]=p&&f.repeatable?p.split("/"):p}return u}function l(c){let h="",u=!1;for(const d of t){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const p of d)if(p.type===0)h+=p.value;else if(p.type===1){const{value:f,repeatable:v,optional:_}=p,b=f in c?c[f]:"";if(ft(b)&&!v)throw new Error(`Provided param "${f}" is an array but it is not repeatable (* or + modifiers)`);const g=ft(b)?b.join("/"):b;if(!g)if(_)d.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${f}"`);h+=g}}return h||"/"}return{re:a,score:r,keys:s,parse:o,stringify:l}}function _b(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function yb(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=_b(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Qc(r))return 1;if(Qc(i))return-1}return i.length-r.length}function Qc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bb={type:0,value:""},wb=/[a-zA-Z0-9_]/;function Sb(t){if(!t)return[[]];if(t==="/")return[[bb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o=0,l,c="",h="";function u(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&u(),a()):l===":"?(u(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:wb.test(l)?d():(u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:u(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),a(),i}function Cb(t,e,n){const r=vb(Sb(t.path),n),i=we(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Eb(t,e){const n=[],r=new Map;e=nh({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,u,d){const p=!d,f=Tb(h);f.aliasOf=d&&d.record;const v=nh(e,h),_=[f];if("alias"in h){const y=typeof h.alias=="string"?[h.alias]:h.alias;for(const S of y)_.push(we({},f,{components:d?d.record.components:f.components,path:S,aliasOf:d?d.record:f}))}let b,g;for(const y of _){const{path:S}=y;if(u&&S[0]!=="/"){const I=u.record.path,k=I[I.length-1]==="/"?"":"/";y.path=u.record.path+(S&&k+S)}if(b=Cb(y,u,v),d?d.alias.push(b):(g=g||b,g!==b&&g.alias.push(b),p&&h.name&&!th(b)&&a(h.name)),f.children){const I=f.children;for(let k=0;k<I.length;k++)s(I[k],b,d&&d.children[k])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return g?()=>{a(g)}:ni}function a(h){if(pf(h)){const u=r.get(h);u&&(r.delete(h),n.splice(n.indexOf(u),1),u.children.forEach(a),u.alias.forEach(a))}else{const u=n.indexOf(h);u>-1&&(n.splice(u,1),h.record.name&&r.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return n}function l(h){let u=0;for(;u<n.length&&yb(h,n[u])>=0&&(h.record.path!==n[u].record.path||!mf(h,n[u]));)u++;n.splice(u,0,h),h.record.name&&!th(h)&&r.set(h.record.name,h)}function c(h,u){let d,p={},f,v;if("name"in h&&h.name){if(d=r.get(h.name),!d)throw br(1,{location:h});v=d.record.name,p=we(eh(u.params,d.keys.filter(g=>!g.optional).map(g=>g.name)),h.params&&eh(h.params,d.keys.map(g=>g.name))),f=d.stringify(p)}else if("path"in h)f=h.path,d=n.find(g=>g.re.test(f)),d&&(p=d.parse(f),v=d.record.name);else{if(d=u.name?r.get(u.name):n.find(g=>g.re.test(u.path)),!d)throw br(1,{location:h,currentLocation:u});v=d.record.name,p=we({},u.params,h.params),f=d.stringify(p)}const _=[];let b=d;for(;b;)_.unshift(b.record),b=b.parent;return{name:v,path:f,params:p,matched:_,meta:Ib(_)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:a,getRoutes:o,getRecordMatcher:i}}function eh(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Tb(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:kb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function kb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function th(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ib(t){return t.reduce((e,n)=>we(e,n.meta),{})}function nh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function mf(t,e){return e.children.some(n=>n===t||mf(t,n))}const vf=/#/g,Pb=/&/g,Ab=/\//g,xb=/=/g,Rb=/\?/g,_f=/\+/g,Ob=/%5B/g,Mb=/%5D/g,yf=/%5E/g,Lb=/%60/g,bf=/%7B/g,Db=/%7C/g,wf=/%7D/g,Nb=/%20/g;function Tl(t){return encodeURI(""+t).replace(Db,"|").replace(Ob,"[").replace(Mb,"]")}function Fb(t){return Tl(t).replace(bf,"{").replace(wf,"}").replace(yf,"^")}function wo(t){return Tl(t).replace(_f,"%2B").replace(Nb,"+").replace(vf,"%23").replace(Pb,"%26").replace(Lb,"`").replace(bf,"{").replace(wf,"}").replace(yf,"^")}function Bb(t){return wo(t).replace(xb,"%3D")}function Gb(t){return Tl(t).replace(vf,"%23").replace(Rb,"%3F")}function $b(t){return t==null?"":Gb(t).replace(Ab,"%2F")}function Os(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Ub(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(_f," "),a=s.indexOf("="),o=Os(a<0?s:s.slice(0,a)),l=a<0?null:Os(s.slice(a+1));if(o in e){let c=e[o];ft(c)||(c=e[o]=[c]),c.push(l)}else e[o]=l}return e}function rh(t){let e="";for(let n in t){const r=t[n];if(n=Bb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ft(r)?r.map(s=>s&&wo(s)):[r&&wo(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Hb(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ft(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const jb=Symbol(""),ih=Symbol(""),kl=Symbol(""),Sf=Symbol(""),So=Symbol("");function Mr(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function qt(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,o)=>{const l=u=>{u===!1?o(br(4,{from:n,to:e})):u instanceof Error?o(u):pb(u)?o(br(2,{from:e,to:u})):(s&&r.enterCallbacks[i]===s&&typeof u=="function"&&s.push(u),a())},c=t.call(r&&r.instances[i],e,n,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(u=>o(u))})}function Oa(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let o=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(Wb(o)){const c=(o.__vccOpts||o)[e];c&&i.push(qt(c,n,r,s,a))}else{let l=o();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const h=Xy(c)?c.default:c;s.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&qt(d,n,r,s,a)()}))}}return i}function Wb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sh(t){const e=bt(kl),n=bt(Sf),r=et(()=>e.resolve(An(t.to))),i=et(()=>{const{matched:l}=r.value,{length:c}=l,h=l[c-1],u=n.matched;if(!h||!u.length)return-1;const d=u.findIndex(yr.bind(null,h));if(d>-1)return d;const p=ah(l[c-2]);return c>1&&ah(h)===p&&u[u.length-1].path!==p?u.findIndex(yr.bind(null,l[c-2])):d}),s=et(()=>i.value>-1&&qb(n.params,r.value.params)),a=et(()=>i.value>-1&&i.value===n.matched.length-1&&df(n.params,r.value.params));function o(l={}){return Kb(l)?e[An(t.replace)?"replace":"push"](An(t.to)).catch(ni):Promise.resolve()}return{route:r,href:et(()=>r.value.href),isActive:s,isExactActive:a,navigate:o}}const zb=Pi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sh,setup(t,{slots:e}){const n=kr(sh(t)),{options:r}=bt(kl),i=et(()=>({[oh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[oh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:ta("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Vb=zb;function Kb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qb(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ft(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function ah(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oh=(t,e,n)=>t??e??n,Yb=Pi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=bt(So),i=et(()=>t.route||r.value),s=bt(ih,0),a=et(()=>{let c=An(s);const{matched:h}=i.value;let u;for(;(u=h[c])&&!u.components;)c++;return c}),o=et(()=>i.value.matched[a.value]);Xr(ih,et(()=>a.value+1)),Xr(jb,o),Xr(So,i);const l=Yr();return ar(()=>[l.value,o.value,t.name],([c,h,u],[d,p,f])=>{h&&(h.instances[u]=c,p&&p!==h&&c&&c===d&&(h.leaveGuards.size||(h.leaveGuards=p.leaveGuards),h.updateGuards.size||(h.updateGuards=p.updateGuards))),c&&h&&(!p||!yr(h,p)||!d)&&(h.enterCallbacks[u]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,h=t.name,u=o.value,d=u&&u.components[h];if(!d)return lh(n.default,{Component:d,route:c});const p=u.props[h],f=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=ta(d,we({},f,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(u.instances[h]=null)},ref:l}));return lh(n.default,{Component:_,route:c})||_}}});function lh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Xb=Yb;function Jb(t){const e=Eb(t.routes,t),n=t.parseQuery||Ub,r=t.stringifyQuery||rh,i=t.history,s=Mr(),a=Mr(),o=Mr(),l=lu(Wt);let c=Wt;Zn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=xa.bind(null,O=>""+O),u=xa.bind(null,$b),d=xa.bind(null,Os);function p(O,V){let K,X;return pf(O)?(K=e.getRecordMatcher(O),X=V):X=O,e.addRoute(X,K)}function f(O){const V=e.getRecordMatcher(O);V&&e.removeRoute(V)}function v(){return e.getRoutes().map(O=>O.record)}function _(O){return!!e.getRecordMatcher(O)}function b(O,V){if(V=we({},V||l.value),typeof O=="string"){const m=Ra(n,O,V.path),C=e.resolve({path:m.path},V),x=i.createHref(m.fullPath);return we(m,C,{params:d(C.params),hash:Os(m.hash),redirectedFrom:void 0,href:x})}let K;if("path"in O)K=we({},O,{path:Ra(n,O.path,V.path).path});else{const m=we({},O.params);for(const C in m)m[C]==null&&delete m[C];K=we({},O,{params:u(O.params)}),V.params=u(V.params)}const X=e.resolve(K,V),fe=O.hash||"";X.params=h(d(X.params));const xe=Qy(r,we({},O,{hash:Fb(fe),path:X.path})),he=i.createHref(xe);return we({fullPath:xe,hash:fe,query:r===rh?Hb(O.query):O.query||{}},X,{redirectedFrom:void 0,href:he})}function g(O){return typeof O=="string"?Ra(n,O,l.value.path):we({},O)}function y(O,V){if(c!==O)return br(8,{from:V,to:O})}function S(O){return R(O)}function I(O){return S(we(g(O),{replace:!0}))}function k(O){const V=O.matched[O.matched.length-1];if(V&&V.redirect){const{redirect:K}=V;let X=typeof K=="function"?K(O):K;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=g(X):{path:X},X.params={}),we({query:O.query,hash:O.hash,params:"path"in X?{}:O.params},X)}}function R(O,V){const K=c=b(O),X=l.value,fe=O.state,xe=O.force,he=O.replace===!0,m=k(K);if(m)return R(we(g(m),{state:typeof m=="object"?we({},fe,m.state):fe,force:xe,replace:he}),V||K);const C=K;C.redirectedFrom=V;let x;return!xe&&eb(r,X,K)&&(x=br(16,{to:C,from:X}),ee(X,X,!0,!1)),(x?Promise.resolve(x):L(C,X)).catch(D=>Tt(D)?Tt(D,2)?D:ue(D):Z(D,C,X)).then(D=>{if(D){if(Tt(D,2))return R(we({replace:he},g(D.to),{state:typeof D.to=="object"?we({},fe,D.to.state):fe,force:xe}),V||C)}else D=N(C,X,!0,he,fe);return M(C,X,D),D})}function T(O,V){const K=y(O,V);return K?Promise.reject(K):Promise.resolve()}function L(O,V){let K;const[X,fe,xe]=Zb(O,V);K=Oa(X.reverse(),"beforeRouteLeave",O,V);for(const m of X)m.leaveGuards.forEach(C=>{K.push(qt(C,O,V))});const he=T.bind(null,O,V);return K.push(he),qn(K).then(()=>{K=[];for(const m of s.list())K.push(qt(m,O,V));return K.push(he),qn(K)}).then(()=>{K=Oa(fe,"beforeRouteUpdate",O,V);for(const m of fe)m.updateGuards.forEach(C=>{K.push(qt(C,O,V))});return K.push(he),qn(K)}).then(()=>{K=[];for(const m of O.matched)if(m.beforeEnter&&!V.matched.includes(m))if(ft(m.beforeEnter))for(const C of m.beforeEnter)K.push(qt(C,O,V));else K.push(qt(m.beforeEnter,O,V));return K.push(he),qn(K)}).then(()=>(O.matched.forEach(m=>m.enterCallbacks={}),K=Oa(xe,"beforeRouteEnter",O,V),K.push(he),qn(K))).then(()=>{K=[];for(const m of a.list())K.push(qt(m,O,V));return K.push(he),qn(K)}).catch(m=>Tt(m,8)?m:Promise.reject(m))}function M(O,V,K){for(const X of o.list())X(O,V,K)}function N(O,V,K,X,fe){const xe=y(O,V);if(xe)return xe;const he=V===Wt,m=Zn?history.state:{};K&&(X||he?i.replace(O.fullPath,we({scroll:he&&m&&m.scroll},fe)):i.push(O.fullPath,fe)),l.value=O,ee(O,V,K,he),ue()}let F;function A(){F||(F=i.listen((O,V,K)=>{if(!Fe.listening)return;const X=b(O),fe=k(X);if(fe){R(we(fe,{replace:!0}),X).catch(ni);return}c=X;const xe=l.value;Zn&&lb(Yc(xe.fullPath,K.delta),ha()),L(X,xe).catch(he=>Tt(he,12)?he:Tt(he,2)?(R(he.to,X).then(m=>{Tt(m,20)&&!K.delta&&K.type===wi.pop&&i.go(-1,!1)}).catch(ni),Promise.reject()):(K.delta&&i.go(-K.delta,!1),Z(he,X,xe))).then(he=>{he=he||N(X,xe,!1),he&&(K.delta&&!Tt(he,8)?i.go(-K.delta,!1):K.type===wi.pop&&Tt(he,20)&&i.go(-1,!1)),M(X,xe,he)}).catch(ni)}))}let P=Mr(),Y=Mr(),$;function Z(O,V,K){ue(O);const X=Y.list();return X.length?X.forEach(fe=>fe(O,V,K)):console.error(O),Promise.reject(O)}function re(){return $&&l.value!==Wt?Promise.resolve():new Promise((O,V)=>{P.add([O,V])})}function ue(O){return $||($=!O,A(),P.list().forEach(([V,K])=>O?K(O):V()),P.reset()),O}function ee(O,V,K,X){const{scrollBehavior:fe}=t;if(!Zn||!fe)return Promise.resolve();const xe=!K&&cb(Yc(O.fullPath,0))||(X||!K)&&history.state&&history.state.scroll||null;return Ws().then(()=>fe(O,V,xe)).then(he=>he&&ob(he)).catch(he=>Z(he,O,V))}const ce=O=>i.go(O);let de;const _e=new Set,Fe={currentRoute:l,listening:!0,addRoute:p,removeRoute:f,hasRoute:_,getRoutes:v,resolve:b,options:t,push:S,replace:I,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Y.add,isReady:re,install(O){const V=this;O.component("RouterLink",Vb),O.component("RouterView",Xb),O.config.globalProperties.$router=V,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>An(l)}),Zn&&!de&&l.value===Wt&&(de=!0,S(i.location).catch(fe=>{}));const K={};for(const fe in Wt)K[fe]=et(()=>l.value[fe]);O.provide(kl,V),O.provide(Sf,kr(K)),O.provide(So,l);const X=O.unmount;_e.add(O),O.unmount=function(){_e.delete(O),_e.size<1&&(c=Wt,F&&F(),F=null,l.value=Wt,de=!1,$=!1),X()}}};return Fe}function qn(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function Zb(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const o=e.matched[a];o&&(t.matched.find(c=>yr(c,o))?r.push(o):n.push(o));const l=t.matched[a];l&&(e.matched.find(c=>yr(c,l))||i.push(l))}return[n,r,i]}const Un=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Qb={data(){return{langIsSe:!0,menuMobile:!1,loggedInUser:!0,userId:""}},methods:{valueSIgnIn(t){this.loggedInUser=!0,this.userId=t},signOutUser(){const t=Yy();D0(t).then(()=>{this.loggedInUser=!1,this.userId=""}).catch(e=>{alert(e)})}}},ew={class:"footer-content"},tw=Xu('<div class="footer-child"><div style="display:flex;align-items:center;"><i class="fa-solid fa-phone"></i> <div><p> 010-300 14 10 </p><p><a href="mailto:info@swemount.se">info@swemount.se</a></p></div></div><div style="display:flex;align-items:center;"><i class="fa-solid fa-location-dot"></i> <div><p>Fabriksgatan 15 </p> <p>571 78 Forserum</p></div></div><div style="display:flex;align-items:center;"><i class="fa-solid fa-clock"></i> <div><p>MN-FRE 09:00 - 19:00</p><p>LR-SN stngt</p></div></div></div><div class="sm-icon"><p style="display:flex;justify-content:space-between;"><a href="https://www.facebook.com/swemount"><i class="fa-brands fa-facebook"></i></a><a href="https://www.linkedin.com/company/swemount"><i class="fa-brands fa-linkedin"></i></a><a href="https://www.Instagram.com/swemount"><i class="fa-brands fa-instagram"></i></a></p></div>',2),nw=ge("div",{class:"copy-right"}," Copyright CFW TRADING AB  2023 ",-1);function rw(t,e,n,r,i,s){const a=Ru("RouterView");return pt(),cn($e,null,[Ae(a,{langIsSe:i.langIsSe,loggedInUser:i.loggedInUser,userId:i.userId,onIsSignedIn:s.valueSIgnIn},null,8,["langIsSe","loggedInUser","userId","onIsSignedIn"]),ge("footer",null,[ge("div",ew,[ge("h2",null,Cn(i.langIsSe?"Kontakta oss":"Contact us"),1),tw]),nw])],64)}const iw=Un(Qb,[["render",rw]]),sw="modulepreload",aw=function(t){return"/"+t},ch={},yn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=aw(s),s in ch)return;ch[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const u=i[h];if(u.href===s&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":sw,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},ow="/assets/swemountvideo-e9c05396.mp4",lw="/img/swemount9.jpg",cw="/img/swemount18.jpg",hw="/img/swemount19.jpg",uw="/img/swemount20.jpg",dw={props:{langIsSe:Boolean},data(){return{screenwidthHere:window.innerWidth,en:["Welcome to Swemount! We are a company specializing in the sale and installation of solar cell systems and parts. Our team of trained professionals is dedicated to providing top-quality products and services to help our customers save energy and reduce their carbon footprint. Whether you are a homeowner looking to switch to solar power or a business owner interested in incorporating renewable energy into your operations, we have the expertise and resources to help you reach your goals. Contact us today to learn more about how we can support your transition to solar energy!",`With Swemounts' systems, you are sure to get a stable and secure installation of your solar panels.

By using the innovative material Zinc/Magnesium ZM310, you get products with excellent corrosion resistance and the ability to mount in exposed locations. The systems have undergone careful calculations and testing to withstand tough weather conditions such as strong winds and heavy snow loads.

Swemounts' free software for project design and calculation makes it easy to plan and execute your solar panel installation project.

With Swemounts' systems, the installation becomes easy and efficient. You get a few and easy-to-use components, as well as fast delivery directly to the installation site. Swemount offers various solutions for varying needs.

Swemount also cares about the environment. The products are manufactured using an energy-efficient machine park and work towards becoming climate-neutral.

Choose Swemount and get a reliable and sustainable solution for mounting solar panels.`],se:["Swemount erbjuder innovativa och enkla lsningar av hg kvalitet fr montering av solcellspaneler. Vi erbjuder stlprodukter med den optimala ytbehandlingen fr vra svenska klimat. Vi lmnar 30 rs garanti p samtliga av vra standard produkter fr underkonstruktioner.",`Med Swemounts system r du sker p att f en stabil och sker installation av dina solceller. 

Genom att anvnda det innovativa materialet Zink/Magnesium ZM310 fr du produkter med utmrkt korrosionsbestndighet och mjlighet att montera p utsatta stllen.
Systemen har genomgtt noggranna berkningar och tester fr att klara tuffa vderfrhllanden ssom hrd vind och tung snbelastning.

Swemounts gratis programvara fr projektutformning och berkning blir det enkelt att planera och genomfra ditt solcellsmontageprojekt.

Med Swemounts system blir montaget enkelt och effektivt. 
Du fr f och lttanvnda detaljer, samt snabb leverans direkt till montageplatsen. 
Swemount erbjuder olika lsningar fr varierande behov

Swemount tnker ocks p miljn. Produkterna tillverkas med hjlp av en energisnl maskinpark och jobbar fr att bli klimatneutrala. 

Vlj Swemount och f en plitlig och hllbar lsning fr montage av solceller.`]}},methods:{}},fw={class:"video-container"},pw={style:{"max-width":"1200px",margin:"auto"}},gw={class:"head-text"},mw=ge("h1",{class:""},"Swemount",-1),vw=ge("p",{class:"white"}," Swemount erbjuder innovativa och enkla lsningar med hg kvalitet fr montering av solcellspaneler. Alla vra system r utvecklade i Sverige, med fokus p varje detalj. Registrera dig och ta del av vr kalkylator fr sn & vindlastberkningar, eller kontakta oss fr en skrddarsydd offert.",-1),_w={class:"a-button",href:"/contact",style:{}},yw=ge("video",{class:"bg-video",src:ow,muted:"",autoplay:"",loop:""},null,-1),bw={class:"home-article1"},ww={style:{display:"flex","align-items":"center","max-width":"1200px"}},Sw={class:"p-text"},Cw={class:"yellow h2-home"},Ew={class:"lines-included white"},Tw=ge("img",{class:"img-home",src:lw,alt:""},null,-1),kw=ge("div",{class:"home-article2",style:{"max-width":"1200px"}},[ge("div",{class:"news-part",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[ge("div",null,[ge("img",{src:cw,alt:""})]),ge("iframe",{class:"video-present",src:"https://www.youtube.com/embed/iUtYNfyG18M?&loop=1&playlist=iUtYNfyG18M",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""}),ge("div",null,[ge("img",{src:hw,alt:""})])])],-1),Iw={class:"home-article3"},Pw={style:{display:"flex","align-items":"center","max-width":"1200px"}},Aw=ge("img",{class:"img-home",src:uw,alt:""},null,-1),xw={class:"p-text"},Rw={class:"white h2-home"},Ow={class:"lines-included"};function Mw(t,e,n,r,i,s){return pt(),cn("main",null,[ge("div",fw,[ge("div",pw,[ge("div",gw,[mw,vw,ge("a",_w,Cn(n.langIsSe?"Kontakta oss":"Contact us"),1)])]),yw]),ge("div",bw,[ge("div",ww,[ge("div",Sw,[ge("h2",Cw,Cn(n.langIsSe?"Swemount, vem r vi?":"Swemount, who are we?"),1),ge("p",Ew,Cn(n.langIsSe?i.se[0]:i.en[0]),1)]),Tw])]),kw,ge("div",Iw,[ge("div",Pw,[Aw,ge("div",xw,[ge("h2",Rw,Cn(n.langIsSe?"Varfr ska du vlja swemounts fstsystem ?":"Why should you choose Swemounts mounting systems?"),1),ge("p",Ow,Cn(n.langIsSe?i.se[1]:i.en[1]),1)])])])])}const Lw=Un(dw,[["render",Mw]]),Cf=Jb({history:fb("/"),routes:[{path:"/",name:"home",component:Lw,redirect:"/calculator"},{path:"/products",name:"products",component:()=>yn(()=>import("./productsView-0cdeeabe.js"),["assets/productsView-0cdeeabe.js","assets/productsinfo-d87bcb69.js"])},{path:"/calculator",name:"calculator",component:()=>yn(()=>import("./calculator-c6bd017b.js").then(t=>t.c),["assets/calculator-c6bd017b.js","assets/history-ec96cada.js","assets/swemount15-8fb474d5.js","assets/history-5fa12a1b.css","assets/calculator-3fe64b83.css"])},{path:"/about",name:"about",component:()=>yn(()=>import("./AboutView-84830cfb.js"),["assets/AboutView-84830cfb.js","assets/swemount15-8fb474d5.js","assets/AboutView-e3b0c442.css"])},{path:"/contact",name:"contact",component:()=>yn(()=>import("./supportView-b330320c.js"),[])},{path:"/logInOut",name:"logInOut",component:()=>yn(()=>import("./AboutView-84830cfb.js"),["assets/AboutView-84830cfb.js","assets/swemount15-8fb474d5.js","assets/AboutView-e3b0c442.css"])},{path:"/products/:id",name:"SingleProduct",component:()=>yn(()=>import("./SingleProduct-b025f74c.js"),["assets/SingleProduct-b025f74c.js","assets/productsinfo-d87bcb69.js","assets/AboutView-e3b0c442.css"])},{path:"/history",name:"history",component:()=>yn(()=>import("./history-ec96cada.js").then(t=>t.h),["assets/history-ec96cada.js","assets/swemount15-8fb474d5.js","assets/history-5fa12a1b.css"])}]});var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ef(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Co={},Fw={get exports(){return Co},set exports(t){Co=t}};const Bw=Ef(bv);var Gw=Math.PI/180;function $w(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const hr=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Q={_global:hr,version:"8.4.2",isBrowser:$w(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle(t){return Q.angleDeg?t*Gw:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Q.DD.isDragging},isDragReady(){return!!Q.DD.node},releaseCanvasOnDestroy:!0,document:hr.document,_injectGlobal(t){hr.Konva=t}},Me=t=>{Q[t.prototype.getClassName()]=t};Q._injectGlobal(Q);class tt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new tt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,a=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=a,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}multiply(e){var n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],a=this.m[5],o=e*i-n*r;let l={x:s,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){var c=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/c):-Math.acos(e/c),l.scaleX=c,l.scaleY=o/c,l.skewX=(e*r+n*i)/o,l.skewY=0}else if(r!=0||i!=0){var h=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/h):-Math.acos(r/h)),l.scaleX=o/h,l.scaleY=h,l.skewX=0,l.skewY=(e*r+n*i)/o}return l.rotation=E._getRotation(l.rotation),l}}var Uw="[object Array]",Hw="[object Number]",jw="[object String]",Ww="[object Boolean]",zw=Math.PI/180,Vw=180/Math.PI,Ma="#",Kw="",qw="0",Yw="Konva warning: ",hh="Konva error: ",Xw="rgb(",La={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Jw=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,Xi=[];const Zw=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},E={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===Uw},_isNumber(t){return Object.prototype.toString.call(t)===Hw&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===jw},_isBoolean(t){return Object.prototype.toString.call(t)===Ww},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Xi.push(t),Xi.length===1&&Zw(function(){const e=Xi;Xi=[],e.forEach(function(n){n()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=E.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Ma,Kw);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=qw+t;return Ma+t},getRGB(t){var e;return t in La?(e=La[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Ma?this._hexToRgb(t.substring(1)):t.substr(0,4)===Xw?(e=Jw.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",E._namedColorToRBA(t)||E._hex3ColorToRGBA(t)||E._hex4ColorToRGBA(t)||E._hex6ColorToRGBA(t)||E._hex8ColorToRGBA(t)||E._rgbColorToRGBA(t)||E._rgbaColorToRGBA(t)||E._hslColorToRGBA(t)},_namedColorToRBA(t){var e=La[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let a,o,l;if(i===0)return l=s*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s<.5?a=s*(1+i):a=s+i-s*i;const c=2*s-a,h=[0,0,0];for(let u=0;u<3;u++)o=r+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?l=c+(a-c)*6*o:2*o<1?l=a:3*o<2?l=c+(a-c)*(2/3-o)*6:l=c,h[u]=l*255;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*zw},radToDeg(t){return t*Vw},_degToRad(t){return E.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),E.degToRad(t)},_radToDeg(t){return E.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),E.radToDeg(t)},_getRotation(t){return Q.angleDeg?E.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(hh+t)},error(t){console.error(hh+t)},warn(t){Q.showWarnings&&console.warn(Yw+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){var a,o,l,c=(t-n)*(t-n)+(e-r)*(e-r);if(c==0)a=t,o=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{var h=((i-t)*(n-t)+(s-e)*(r-e))/c;h<0?(a=t,o=e,l=(t-i)*(t-i)+(e-s)*(e-s)):h>1?(a=n,o=r,l=(n-i)*(n-i)+(r-s)*(r-s)):(a=t+h*(n-t),o=e+h*(r-e),l=(a-i)*(a-i)+(o-s)*(o-s))}return[a,o,l]},_getProjectionToLine(t,e,n){var r=E.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(s,a){if(!(!n&&a===e.length-1)){var o=e[(a+1)%e.length],l=E._getProjectionToSegment(s.x,s.y,o.x,o.y,t.x,t.y),c=l[0],h=l[1],u=l[2];u<i&&(r.x=c,r.y=h,i=u)}}),r},_prepareArrayForTween(t,e,n){var r,i=[],s=[];if(t.length>e.length){var a=e;e=t,t=a}for(r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)s.push({x:e[r],y:e[r+1]});var o=[];return s.forEach(function(l){var c=E._getProjectionToLine(l,i,n);o.push(c.x),o.push(c.y)}),o},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||E._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(E._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Q.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=0,s=0,a=0,o=0;typeof r=="number"?i=s=a=o=Math.min(r,e/2,n/2):(i=Math.min(r[0]||0,e/2,n/2),s=Math.min(r[1]||0,e/2,n/2),o=Math.min(r[2]||0,e/2,n/2),a=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i,0),t.lineTo(e-s,0),t.arc(e-s,s,s,Math.PI*3/2,0,!1),t.lineTo(e,n-o),t.arc(e-o,n-o,o,0,Math.PI/2,!1),t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}};function fn(t){return E._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||E._isBoolean(t)?t:Object.prototype.toString.call(t)}function Tf(t){return t>255?255:t<0?0:Math.round(t)}function j(){if(Q.isUnminified)return function(t,e){return E._isNumber(t)||E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Il(t){if(Q.isUnminified)return function(e,n){let r=E._isNumber(e),i=E._isArray(e)&&e.length==t;return!r&&!i&&E.warn(fn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Pl(){if(Q.isUnminified)return function(t,e){var n=E._isNumber(t),r=t==="auto";return n||r||E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Pr(){if(Q.isUnminified)return function(t,e){return E._isString(t)||E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function kf(){if(Q.isUnminified)return function(t,e){const n=E._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function Qw(){if(Q.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(E._isArray(t)?t.forEach(function(r){E._isNumber(r)||E.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function gt(){if(Q.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||E.warn(fn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function eS(t){if(Q.isUnminified)return function(e,n){return e==null||E.isObject(e)||E.warn(fn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}var Lr="get",Dr="set";const w={addGetterSetter(t,e,n,r,i){w.addGetter(t,e,n),w.addSetter(t,e,r,i),w.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var r=Lr+E._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){var i=Dr+E._capitalize(e);t.prototype[i]||w.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){var i=Dr+E._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){var s=n.length,a=E._capitalize,o=Lr+a(e),l=Dr+a(e),c,h;t.prototype[o]=function(){var d={};for(c=0;c<s;c++)h=n[c],d[h]=this.getAttr(e+a(h));return d};var u=eS(n);t.prototype[l]=function(d){var p=this.attrs[e],f;r&&(d=r.call(this,d)),u&&u.call(this,d,e);for(f in d)d.hasOwnProperty(f)&&this._setAttr(e+a(f),d[f]);return d||n.forEach(v=>{this._setAttr(e+a(v),void 0)}),this._fireChangeEvent(e,p,d),i&&i.call(this),this},w.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=E._capitalize(e),r=Dr+n,i=Lr+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){E.error("Adding deprecated "+e);var i=Lr+E._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){E.error(s);var a=this.attrs[e];return a===void 0?n:a},w.addSetter(t,e,r,function(){E.error(s)}),w.addOverloadedGetterSetter(t,e)},backCompat(t,e){E.each(e,function(n,r){var i=t.prototype[r],s=Lr+E._capitalize(n),a=Dr+E._capitalize(n);function o(){i.apply(this,arguments),E.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=o,t.prototype[s]=o,t.prototype[a]=o})},afterSetFilter(){this._filterUpToDate=!1}};function tS(t){var e=[],n=t.length,r=E,i,s;for(i=0;i<n;i++)s=t[i],r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s);return e}var uh=",",nS="(",rS=")",iS="([",sS="])",aS=";",oS="()",lS="=",dh=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],cS=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const hS=100;class ua{constructor(e){this.canvas=e,Q.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var r=this.traceArr,i=r.length,s="",a,o,l,c;for(a=0;a<i;a++)o=r[a],l=o.method,l?(c=o.args,s+=l,e?s+=oS:E._isArray(c[0])?s+=iS+c.join(uh)+sS:(n&&(c=c.map(h=>typeof h=="number"?Math.floor(h):h)),s+=nS+c.join(uh)+rS)):(s+=o.property,e||(s+=lS+o.val)),s+=aS;return s}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,r;n.push(e),r=n.length,r>=hS&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){var n=e.getLineCap();n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){var n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,a){this._context.arc(e,n,r,i,s,a)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,a){this._context.bezierCurveTo(e,n,r,i,s,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,a){return this._context.createRadialGradient(e,n,r,i,s,a)}drawImage(e,n,r,i,s,a,o,l,c){var h=arguments,u=this._context;h.length===3?u.drawImage(e,n,r):h.length===5?u.drawImage(e,n,r,i,s):h.length===9&&u.drawImage(e,n,r,i,s,a,o,l,c)}ellipse(e,n,r,i,s,a,o,l){this._context.ellipse(e,n,r,i,s,a,o,l)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,a){this._context.setTransform(e,n,r,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,a){this._context.transform(e,n,r,i,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=dh.length,r=this.setAttr,i,s,a=function(o){var l=e[o],c;e[o]=function(){return s=tS(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:o,args:s}),c}};for(i=0;i<n;i++)a(dh[i]);e.setAttr=function(){r.apply(e,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}cS.forEach(function(t){Object.defineProperty(ua.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class uS extends ua{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){var n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){var n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}var i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}var s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}var a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=e.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i,s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),h=l.x*c,u=l.y*c;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(h),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*h),this.setAttr("shadowOffsetY",o.y*u)}}class dS extends ua{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var n=e.getStrokeScaleEnabled();if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),s=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}var Ji;function fS(){if(Ji)return Ji;var t=E.createCanvasElement(),e=t.getContext("2d");return Ji=function(){var n=Q._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),E.releaseCanvas(t),Ji}class da{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},r=n.pixelRatio||Q.pixelRatio||fS();this.pixelRatio=r,this._canvas=E.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return E.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}w.addGetterSetter(da,"pixelRatio",void 0,j());class ur extends da{constructor(e={width:0,height:0}){super(e),this.context=new uS(this),this.setSize(e.width,e.height)}}class Al extends da{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new dS(this),this.setSize(e.width,e.height)}}const ye={get isDragging(){var t=!1;return ye._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return ye._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];ye._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=E._getFirstPointerId(t));const a=s._changedPointerPositions.find(c=>c.id===n.pointerId);if(a){if(n.dragStatus!=="dragging"){var o=i.dragDistance(),l=Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y));if(l<o||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];ye._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(ye.justDragged=!0,Q._mouseListenClick=!1,Q._touchListenClick=!1,Q._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof Q.Stage&&n.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){ye._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&ye._dragElements.delete(n)})}};Q.isBrowser&&(window.addEventListener("mouseup",ye._endDragBefore,!0),window.addEventListener("touchend",ye._endDragBefore,!0),window.addEventListener("mousemove",ye._drag),window.addEventListener("touchmove",ye._drag),window.addEventListener("mouseup",ye._endDragAfter,!1),window.addEventListener("touchend",ye._endDragAfter,!1));var fs="absoluteOpacity",Zi="allEventListeners",It="absoluteTransform",fh="absoluteScale",bn="canvas",pS="Change",gS="children",mS="konva",Eo="listening",ph="mouseenter",gh="mouseleave",mh="set",vh="Shape",ps=" ",_h="stage",Vt="transform",vS="Stage",To="visible",_S=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ps);let yS=1;class H{constructor(e){this._id=yS++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Vt||e===It)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var r=this._cache.get(e),i=e===Vt||e===It,s=r===void 0||i&&r.dirty===!0;return s&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(ps);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(bn)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===It&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(bn)){const{scene:e,filter:n,hit:r}=this._cache.get(bn);E.releaseCanvas(e,n,r),this._cache.delete(bn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),a=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,c=n.offset||0,h=n.drawBorder||!1,u=n.hitCanvasPixelRatio||1;if(!i||!s){E.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=c*2+1,s+=c*2+1,o-=c,l-=c;var d=new ur({pixelRatio:a,width:i,height:s}),p=new ur({pixelRatio:a,width:0,height:0}),f=new Al({pixelRatio:u,width:i,height:s}),v=d.getContext(),_=f.getContext();return f.isCache=!0,d.isCache=!0,this._cache.delete(bn),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(d.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1),v.save(),_.save(),v.translate(-o,-l),_.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(fs),this._clearSelfAndDescendantCache(fh),this.drawScene(d,this),this.drawHit(f,this),this._isUnderCache=!1,v.restore(),_.restore(),h&&(v.save(),v.beginPath(),v.rect(0,0,i,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(bn,{scene:d,filter:p,hit:f,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(bn)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i,s,a,o,l=this.getAbsoluteTransform(n);return r.forEach(function(c){var h=l.point(c);i===void 0&&(i=a=h.x,s=o=h.y),i=Math.min(i,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),{x:i,y:s,width:a-i,height:o-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),a,o,l,c;if(e){if(!this._filterUpToDate){var h=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(a=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<a;l++){if(c=e[l],typeof c!="function"){E.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,o),s.putImageData(o,0,0)}}catch(u){E.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Zi),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(ps),i=r.length,s,a,o,l,c;for(s=0;s<i;s++)a=r[s],o=a.split("."),l=o[0],c=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:n});return this}off(e,n){var r=(e||"").split(ps),i=r.length,s,a,o,l,c,h;if(this._cache&&this._cache.delete(Zi),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(o=r[s],l=o.split("."),c=l[0],h=l[1],c)this.eventListeners[c]&&this._off(c,h,n);else for(a in this.eventListeners)this._off(a,h,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var i=this;this.on(e,function(s){for(var a=s.target.findAncestors(n,!0,i),o=0;o<a.length;o++)s=E.cloneObject(s),s.currentTarget=a[o],r.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),ye._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(It),this._clearSelfAndDescendantCache(fs),this._clearSelfAndDescendantCache(fh),this._clearSelfAndDescendantCache(_h),this._clearSelfAndDescendantCache(To),this._clearSelfAndDescendantCache(Eo)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+E._capitalize(e);return E._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)n!==gS&&(r=mh+E._capitalize(n),E._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Eo,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(To,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;ye._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});var s=!n&&!Q.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,r=0,i,s,a,o;function l(c){for(i=[],s=c.length,a=0;a<s;a++)o=c[a],r++,o.nodeType!==vh&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&l(i)}return n.nodeType!==vS&&l(n.getStage().getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Vt),this._clearSelfAndDescendantCache(It)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new tt,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(Vt);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Vt),this._clearSelfAndDescendantCache(It),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){var r=[],i=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,a=0;a<s;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return E.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return E.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return E.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return E.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return E.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&E.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(fs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),r,i,s,a,o;e.attrs={};for(r in n)i=n[r],o=E.isObject(i)&&!E._isPlainObject(i)&&!E._isArray(i),!o&&(s=typeof this[r]=="function"&&this[r],delete n[r],a=s?s.call(this):null,n[r]=i,a!==i&&(e.attrs[r]=i));return e.className=this.getClassName(),E._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var i=[];n&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],E.isValidSelector(s)||(E.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),E.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),E.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(_h,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(It,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new tt,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();s==="all"?n.multiply(i.getTransform()):s==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;n=this._cache.get(It)||new tt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-a,s-o)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Vt,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(Vt)||new tt;r.reset();var i=this.x(),s=this.y(),a=Q.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),a!==0&&r.rotate(a),(c!==0||h!==0)&&r.skew(c,h),(o!==1||l!==1)&&r.scale(o,l),(u!==0||d!==0)&&r.translate(-1*u,-1*d),r.dirty=!1,r}clone(e){var n=E.cloneObject(this.attrs),r,i,s,a,o;for(r in e)n[r]=e[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,a=0;a<s;a++)o=i[a],o.name.indexOf(mS)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,o=new ur({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),l=o.getContext();return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(o),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,E._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)})}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Q.dragDistance}_off(e,n,r){var i=this.eventListeners[e],s,a,o;for(s=0;s<i.length;s++)if(a=i[s].name,o=i[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===o)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+pS,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this[mh+E._capitalize(e)];return E._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Q.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var r=this.attrs[e];r===n&&!E.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===vh&&(n.target=this);var i=(e===ph||e===gh)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(e,n);var s=(e===ph||e===gh)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(Zi);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const s=i.eventListeners[r],a=n[r]||[];n[r]=s.concat(a)}i=Object.getPrototypeOf(i)}this._cache.set(Zi,n)}return n[e]}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(var i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(n)||r._changedPointerPositions[0]||i;ye._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){ye._dragElements.has(this._id)||this._createDragElement(e);const r=ye._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:E.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const n=ye._dragElements.get(this._id);n&&(n.dragStatus="stopped"),ye._endDragBefore(e),ye._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=ye._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,r=!n||Q.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;ye._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=ye._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&ye._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return E.haveIntersection(r,this.getClientRect())}static create(e,n){return E._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var r=H.prototype.getClassName.call(e),i=e.children,s,a,o;n&&(e.attrs.container=n),Q[r]||(E.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Q[r];if(s=new l(e.attrs),i)for(a=i.length,o=0;o<a;o++)s.add(H._createNode(i[o]));return s}}H.prototype.nodeType="Node";H.prototype._attrsAffectingSize=[];H.prototype.eventListeners={};H.prototype.on.call(H.prototype,_S,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Vt),this._clearSelfAndDescendantCache(It)});H.prototype.on.call(H.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(To)});H.prototype.on.call(H.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Eo)});H.prototype.on.call(H.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(fs)});const ke=w.addGetterSetter;ke(H,"zIndex");ke(H,"absolutePosition");ke(H,"position");ke(H,"x",0,j());ke(H,"y",0,j());ke(H,"globalCompositeOperation","source-over",Pr());ke(H,"opacity",1,j());ke(H,"name","",Pr());ke(H,"id","",Pr());ke(H,"rotation",0,j());w.addComponentsGetterSetter(H,"scale",["x","y"]);ke(H,"scaleX",1,j());ke(H,"scaleY",1,j());w.addComponentsGetterSetter(H,"skew",["x","y"]);ke(H,"skewX",0,j());ke(H,"skewY",0,j());w.addComponentsGetterSetter(H,"offset",["x","y"]);ke(H,"offsetX",0,j());ke(H,"offsetY",0,j());ke(H,"dragDistance",null,j());ke(H,"width",0,j());ke(H,"height",0,j());ke(H,"listening",!0,gt());ke(H,"preventDefault",!0,gt());ke(H,"filters",null,function(t){return this._filterUpToDate=!1,t});ke(H,"visible",!0,gt());ke(H,"transformsEnabled","all",Pr());ke(H,"size");ke(H,"dragBoundFunc");ke(H,"draggable",!1,gt());w.backCompat(H,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class rt extends H{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){var e=H.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=H.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){s.save();var c=this.getAbsoluteTransform(n).getMatrix();s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache(),o=a&&a.hit;if(o){s.save();var l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r){var i,s=n&&n.getContext(),a=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),c=a&&o||l;const h=r===this;if(c){s.save();var u=this.getAbsoluteTransform(r),d=u.getMatrix();if(s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),s.beginPath(),l)l.call(this,s,this);else{var p=this.clipX(),f=this.clipY();s.rect(p,f,a,o)}s.clip(),d=u.copy().invert().getMatrix(),s.transform(d[0],d[1],d[2],d[3],d[4],d[5])}var v=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";v&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(_){_[e](n,r)}),v&&s.restore(),c&&s.restore()}getClientRect(e){var n;e=e||{};var r=e.skipTransform,i=e.relativeTo,s,a,o,l,c={x:1/0,y:1/0,width:0,height:0},h=this;(n=this.children)===null||n===void 0||n.forEach(function(v){if(v.visible()){var _=v.getClientRect({relativeTo:h,skipShadow:e.skipShadow,skipStroke:e.skipStroke});_.width===0&&_.height===0||(s===void 0?(s=_.x,a=_.y,o=_.x+_.width,l=_.y+_.height):(s=Math.min(s,_.x),a=Math.min(a,_.y),o=Math.max(o,_.x+_.width),l=Math.max(l,_.y+_.height)))}});for(var u=this.find("Shape"),d=!1,p=0;p<u.length;p++){var f=u[p];if(f._isVisible(this)){d=!0;break}}return d&&s!==void 0?c={x:s,y:a,width:o-s,height:l-a}:c={x:0,y:0,width:0,height:0},r?c:this._transformedRect(c,i)}}w.addComponentsGetterSetter(rt,"clip",["x","y","width","height"]);w.addGetterSetter(rt,"clipX",void 0,j());w.addGetterSetter(rt,"clipY",void 0,j());w.addGetterSetter(rt,"clipWidth",void 0,j());w.addGetterSetter(rt,"clipHeight",void 0,j());w.addGetterSetter(rt,"clipFunc");const Si=new Map,If=Q._global.PointerEvent!==void 0;function Da(t){return Si.get(t)}function xl(t){return{evt:t,pointerId:t.pointerId}}function Pf(t,e){return Si.get(t)===e}function Af(t,e){ii(t),e.getStage()&&(Si.set(t,e),If&&e._fire("gotpointercapture",xl(new PointerEvent("gotpointercapture"))))}function ii(t,e){const n=Si.get(t);if(!n)return;const r=n.getStage();r&&r.content,Si.delete(t),If&&n._fire("lostpointercapture",xl(new PointerEvent("lostpointercapture")))}var bS="Stage",wS="string",yh="px",SS="mouseout",xf="mouseleave",Rf="mouseover",Of="mouseenter",Mf="mousemove",Lf="mousedown",Df="mouseup",jr="pointermove",Wr="pointerdown",er="pointerup",zr="pointercancel",CS="lostpointercapture",Qi="pointerout",es="pointerleave",ts="pointerover",ns="pointerenter",ko="contextmenu",Nf="touchstart",Ff="touchend",Bf="touchmove",Gf="touchcancel",Io="wheel",ES=5,TS=[[Of,"_pointerenter"],[Lf,"_pointerdown"],[Mf,"_pointermove"],[Df,"_pointerup"],[xf,"_pointerleave"],[Nf,"_pointerdown"],[Bf,"_pointermove"],[Ff,"_pointerup"],[Gf,"_pointercancel"],[Rf,"_pointerover"],[Io,"_wheel"],[ko,"_contextmenu"],[Wr,"_pointerdown"],[jr,"_pointermove"],[er,"_pointerup"],[zr,"_pointercancel"],[CS,"_lostpointercapture"]];const Na={mouse:{[Qi]:SS,[es]:xf,[ts]:Rf,[ns]:Of,[jr]:Mf,[Wr]:Lf,[er]:Df,[zr]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Qi]:"touchout",[es]:"touchleave",[ts]:"touchover",[ns]:"touchenter",[jr]:Bf,[Wr]:Nf,[er]:Ff,[zr]:Gf,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Qi]:Qi,[es]:es,[ts]:ts,[ns]:ns,[jr]:jr,[Wr]:Wr,[er]:er,[zr]:zr,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Vr=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Yn=t=>{const e=Vr(t);if(e==="pointer")return Q.pointerEventsEnabled&&Na.pointer;if(e==="touch")return Na.touch;if(e==="mouse")return Na.mouse};function bh(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&E.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const kS="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",gs=[];class fa extends rt{constructor(e){super(bh(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),gs.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{bh(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||E.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===wS){if(e.charAt(0)==="."){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var r;e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,n=e.length,r;for(r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),rt.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&E._isInDocument(e)&&this.container().removeChild(e);var n=gs.indexOf(this);return n>-1&&gs.splice(n,1),E.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(E.warn(kS),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new ur({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(s.isVisible()){var a=s._toKonvaCanvas(e);r.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var n=this.children,r=n.length,i=r-1,s;for(s=i;s>=0;s--){const a=n[s].getIntersection(e);if(a)return a}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+yh,this.content.style.height=n+yh),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var i=this.children.length;return i>ES&&E.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Q.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Pf(e,this)}setPointerCapture(e){Af(e,this)}releaseCapture(e){ii(e)}getLayers(){return this.children}_bindContentEvents(){Q.isBrowser&&TS.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=Yn(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=Yn(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=Yn(e.type),r=Vr(e.type);if(n){this.setPointersPositions(e);var i=this._getTargetShape(r),s=!ye.isDragging||Q.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=Yn(e.type),r=Vr(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var a=this.getIntersection(s);if(ye.justDragged=!1,Q["_"+r+"ListenClick"]=!0,!(a&&a.isListening()))return;Q.capturePointerEventsEnabled&&a.setPointerCapture(s.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=Yn(e.type),r=Vr(e.type);if(!n)return;ye.isDragging&&ye.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var i=!ye.isDragging||Q.hitOnDragEnabled;if(!i)return;var s={};let a=!1;var o=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const c=Da(l.id)||this.getIntersection(l),h=l.id,u={evt:e,pointerId:h};var d=o!==c;if(d&&o&&(o._fireAndBubble(n.pointerout,Object.assign({},u),c),o._fireAndBubble(n.pointerleave,Object.assign({},u),c)),c){if(s[c._id])return;s[c._id]=!0}c&&c.isListening()?(a=!0,d&&(c._fireAndBubble(n.pointerover,Object.assign({},u),o),c._fireAndBubble(n.pointerenter,Object.assign({},u),o),this[r+"targetShape"]=c),c._fireAndBubble(n.pointermove,Object.assign({},u))):o&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),a||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=Yn(e.type),r=Vr(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"];var a={};let o=!1;this._changedPointerPositions.forEach(l=>{const c=Da(l.id)||this.getIntersection(l);if(c){if(c.releaseCapture(l.id),a[c._id])return;a[c._id]=!0}const h=l.id,u={evt:e,pointerId:h};let d=!1;Q["_"+r+"InDblClickWindow"]?(d=!0,clearTimeout(this[r+"DblTimeout"])):ye.justDragged||(Q["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Q["_"+r+"InDblClickWindow"]=!1},Q.dblClickWindow),c&&c.isListening()?(o=!0,this[r+"ClickEndShape"]=c,c._fireAndBubble(n.pointerup,Object.assign({},u)),Q["_"+r+"ListenClick"]&&i&&i===c&&(c._fireAndBubble(n.pointerclick,Object.assign({},u)),d&&s&&s===c&&c._fireAndBubble(n.pointerdblclick,Object.assign({},u)))):(this[r+"ClickEndShape"]=null,Q["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:h}),d&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:h}))}),o||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Q["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(ko,{evt:e}):this._fire(ko,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Io,{evt:e}):this._fire(Io,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Da(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(er,xl(e)),ii(e.pointerId)}_lostpointercapture(e){ii(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:E._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:E._getFirstPointerId(e)}])}_setPointerPosition(e){E.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ur({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Al({pixelRatio:1,width:this.width(),height:this.height()}),!!Q.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return E.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}fa.prototype.nodeType=bS;Me(fa);w.addGetterSetter(fa,"container");var $f="hasShadow",Uf="shadowRGBA",Hf="patternImage",jf="linearGradient",Wf="radialGradient";let rs;function Fa(){return rs||(rs=E.createCanvasElement().getContext("2d"),rs)}const si={};function IS(t){t.fill()}function PS(t){t.stroke()}function AS(t){t.fill()}function xS(t){t.stroke()}function RS(){this._clearCache($f)}function OS(){this._clearCache(Uf)}function MS(){this._clearCache(Hf)}function LS(){this._clearCache(jf)}function DS(){this._clearCache(Wf)}class G extends H{constructor(e){super(e);let n;for(;n=E.getRandomColor(),!(n&&!(n in si)););this.colorKey=n,si[n]=this}getContext(){return E.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return E.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache($f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Hf,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=Fa();const n=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new tt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Q.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(jf,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=Fa(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}_getRadialGradient(){return this._getCache(Wf,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=Fa(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}getShadowRGBA(){return this._getCache(Uf,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=E.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var n=this.getStage(),r=n.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,i[3]>0}destroy(){return H.prototype.destroy.call(this),delete si[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&s&&a)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&o&&l)}setStrokeHitEnabled(e){E.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,r=e.relativeTo,i=this.getSelfRect(),a=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+a,l=i.height+a,c=!e.skipShadow&&this.hasShadow(),h=c?this.shadowOffsetX():0,u=c?this.shadowOffsetY():0,d=o+Math.abs(h),p=l+Math.abs(u),f=c&&this.shadowBlur()||0,v=d+f*2,_=p+f*2,b={width:v,height:_,x:-(a/2+f)+Math.min(h,0)+i.x,y:-(a/2+f)+Math.min(u,0)+i.y};return n?b:this._transformedRect(b,r)}drawScene(e,n){var r=this.getLayer(),i=e||r.getCanvas(),s=i.getContext(),a=this._getCanvasCache(),o=this.getSceneFunc(),l=this.hasShadow(),c,h,u,d=i.isCache,p=n===this;if(!this.isVisible()&&!p)return this;if(a){s.save();var f=this.getAbsoluteTransform(n).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),this._useBufferCanvas()&&!d){c=this.getStage(),h=c.bufferCanvas,u=h.getContext(),u.clear(),u.save(),u._applyLineJoin(this);var v=this.getAbsoluteTransform(n).getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),o.call(this,u,this),u.restore();var _=h.pixelRatio;l&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(h._canvas,0,0,h.width/_,h.height/_)}else{if(s._applyLineJoin(this),!p){var v=this.getAbsoluteTransform(n).getMatrix();s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}l&&s._applyShadow(this),o.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),s=e||i.hitCanvas,a=s&&s.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||E.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){a.save();var h=this.getAbsoluteTransform(n).getMatrix();return a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),a._applyLineJoin(this),!(this===n)){var d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}return o.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),a=i.getWidth(),o=i.getHeight(),l,c,h,u,d,p;s.clear(),s.drawImage(r._canvas,0,0,a,o);try{for(l=s.getImageData(0,0,a,o),c=l.data,h=c.length,u=E._hexToRgb(this.colorKey),d=0;d<h;d+=4)p=c[d+3],p>e?(c[d]=u.r,c[d+1]=u.g,c[d+2]=u.b,c[d+3]=255):c[d+3]=0;s.putImageData(l,0,0)}catch(f){E.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(e){return Pf(e,this)}setPointerCapture(e){Af(e,this)}releaseCapture(e){ii(e)}}G.prototype._fillFunc=IS;G.prototype._strokeFunc=PS;G.prototype._fillFuncHit=AS;G.prototype._strokeFuncHit=xS;G.prototype._centroid=!1;G.prototype.nodeType="Shape";Me(G);G.prototype.eventListeners={};G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",RS);G.prototype.on.call(G.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",OS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",MS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",LS);G.prototype.on.call(G.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",DS);w.addGetterSetter(G,"stroke",void 0,kf());w.addGetterSetter(G,"strokeWidth",2,j());w.addGetterSetter(G,"fillAfterStrokeEnabled",!1);w.addGetterSetter(G,"hitStrokeWidth","auto",Pl());w.addGetterSetter(G,"strokeHitEnabled",!0,gt());w.addGetterSetter(G,"perfectDrawEnabled",!0,gt());w.addGetterSetter(G,"shadowForStrokeEnabled",!0,gt());w.addGetterSetter(G,"lineJoin");w.addGetterSetter(G,"lineCap");w.addGetterSetter(G,"sceneFunc");w.addGetterSetter(G,"hitFunc");w.addGetterSetter(G,"dash");w.addGetterSetter(G,"dashOffset",0,j());w.addGetterSetter(G,"shadowColor",void 0,Pr());w.addGetterSetter(G,"shadowBlur",0,j());w.addGetterSetter(G,"shadowOpacity",1,j());w.addComponentsGetterSetter(G,"shadowOffset",["x","y"]);w.addGetterSetter(G,"shadowOffsetX",0,j());w.addGetterSetter(G,"shadowOffsetY",0,j());w.addGetterSetter(G,"fillPatternImage");w.addGetterSetter(G,"fill",void 0,kf());w.addGetterSetter(G,"fillPatternX",0,j());w.addGetterSetter(G,"fillPatternY",0,j());w.addGetterSetter(G,"fillLinearGradientColorStops");w.addGetterSetter(G,"strokeLinearGradientColorStops");w.addGetterSetter(G,"fillRadialGradientStartRadius",0);w.addGetterSetter(G,"fillRadialGradientEndRadius",0);w.addGetterSetter(G,"fillRadialGradientColorStops");w.addGetterSetter(G,"fillPatternRepeat","repeat");w.addGetterSetter(G,"fillEnabled",!0);w.addGetterSetter(G,"strokeEnabled",!0);w.addGetterSetter(G,"shadowEnabled",!0);w.addGetterSetter(G,"dashEnabled",!0);w.addGetterSetter(G,"strokeScaleEnabled",!0);w.addGetterSetter(G,"fillPriority","color");w.addComponentsGetterSetter(G,"fillPatternOffset",["x","y"]);w.addGetterSetter(G,"fillPatternOffsetX",0,j());w.addGetterSetter(G,"fillPatternOffsetY",0,j());w.addComponentsGetterSetter(G,"fillPatternScale",["x","y"]);w.addGetterSetter(G,"fillPatternScaleX",1,j());w.addGetterSetter(G,"fillPatternScaleY",1,j());w.addComponentsGetterSetter(G,"fillLinearGradientStartPoint",["x","y"]);w.addComponentsGetterSetter(G,"strokeLinearGradientStartPoint",["x","y"]);w.addGetterSetter(G,"fillLinearGradientStartPointX",0);w.addGetterSetter(G,"strokeLinearGradientStartPointX",0);w.addGetterSetter(G,"fillLinearGradientStartPointY",0);w.addGetterSetter(G,"strokeLinearGradientStartPointY",0);w.addComponentsGetterSetter(G,"fillLinearGradientEndPoint",["x","y"]);w.addComponentsGetterSetter(G,"strokeLinearGradientEndPoint",["x","y"]);w.addGetterSetter(G,"fillLinearGradientEndPointX",0);w.addGetterSetter(G,"strokeLinearGradientEndPointX",0);w.addGetterSetter(G,"fillLinearGradientEndPointY",0);w.addGetterSetter(G,"strokeLinearGradientEndPointY",0);w.addComponentsGetterSetter(G,"fillRadialGradientStartPoint",["x","y"]);w.addGetterSetter(G,"fillRadialGradientStartPointX",0);w.addGetterSetter(G,"fillRadialGradientStartPointY",0);w.addComponentsGetterSetter(G,"fillRadialGradientEndPoint",["x","y"]);w.addGetterSetter(G,"fillRadialGradientEndPointX",0);w.addGetterSetter(G,"fillRadialGradientEndPointY",0);w.addGetterSetter(G,"fillPatternRotation",0);w.backCompat(G,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var NS="#",FS="beforeDraw",BS="draw",zf=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],GS=zf.length;class Hn extends rt{constructor(e){super(e),this.canvas=new ur,this.hitCanvas=new Al({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){H.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=H.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(H.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(H.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return H.prototype.remove.call(this),e&&e.parentNode&&E._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&E.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),H.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){E.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){E.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,E.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<GS;i++){const s=zf[i],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),o=a.shape;if(o)return o;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=E._rgbToHex(r[0],r[1],r[2]),a=si[NS+s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire(FS,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),rt.prototype.drawScene.call(this,i,n),this._fire(BS,{node:this}),this}drawHit(e,n){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),rt.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){E.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return E.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return E.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Hn.prototype.nodeType="Layer";Me(Hn);w.addGetterSetter(Hn,"imageSmoothingEnabled",!0);w.addGetterSetter(Hn,"clearBeforeDraw",!0);w.addGetterSetter(Hn,"hitGraphEnabled",!0,gt());class Rl extends Hn{constructor(e){super(e),this.listening(!1),E.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Rl.prototype.nodeType="FastLayer";Me(Rl);class wr extends rt{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&E.throw("You may only add groups and shapes to groups.")}}wr.prototype.nodeType="Group";Me(wr);var Ba=function(){return hr.performance&&hr.performance.now?function(){return hr.performance.now()}:function(){return new Date().getTime()}}();class ot{constructor(e,n){this.id=ot.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ba(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,r=n.length,i;for(i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=ot,n=e.animations,r=n.length,i;for(i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ba(),ot._addAnimation(this),this}stop(){return ot._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,r=this.animations,i=r.length,s;for(s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){var e={},n=this.animations,r,i,s,a,o,l,c,h,u;for(a=0;a<n.length;a++)if(r=n[a],i=r.layers,s=r.func,r._updateFrameObject(Ba()),l=i.length,s?u=s.call(r,r.frame)!==!1:u=!0,!!u)for(o=0;o<l;o++)c=i[o],c._id!==void 0&&(e[c._id]=c);for(h in e)e.hasOwnProperty(h)&&e[h].batchDraw()}static _animationLoop(){var e=ot;e.animations.length?(e._runFrames(),E.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,E.requestAnimFrame(this._animationLoop))}}ot.animations=[];ot.animIdCounter=0;ot.animRunning=!1;var $S={node:1,duration:1,easing:1,onFinish:1,yoyo:1},US=1,wh=2,Sh=3,HS=0,Ch=["fill","stroke","shadowColor"];class jS{constructor(e,n,r,i,s,a,o){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=wh,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Sh,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===wh?this.setTime(e):this.state===Sh&&this.setTime(this.duration-e)}pause(){this.state=US,this.fire("onPause")}getTimer(){return new Date().getTime()}}class De{constructor(e){var n=this,r=e.node,i=r._id,s,a=e.easing||ai.Linear,o=!!e.yoyo,l;typeof e.duration>"u"?s=.3:e.duration===0?s=.001:s=e.duration,this.node=r,this._id=HS++;var c=r.getLayer()||(r instanceof Q.Stage?r.getLayers():null);c||E.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ot(function(){n.tween.onEnterFrame()},c),this.tween=new jS(l,function(h){n._tweenFunc(h)},a,0,1,s*1e3,o),this._addListeners(),De.attrs[i]||(De.attrs[i]={}),De.attrs[i][this._id]||(De.attrs[i][this._id]={}),De.tweens[i]||(De.tweens[i]={});for(l in e)$S[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){var r=this.node,i=r._id,s,a,o,l,c,h,u,d;if(o=De.tweens[i][e],o&&delete De.attrs[i][o][e],s=r.getAttr(e),E._isArray(n))if(a=[],c=Math.max(n.length,s.length),e==="points"&&n.length!==s.length&&(n.length>s.length?(u=s,s=E._prepareArrayForTween(s,n,r.closed())):(h=n,n=E._prepareArrayForTween(n,s,r.closed()))),e.indexOf("fill")===0)for(l=0;l<c;l++)if(l%2===0)a.push(n[l]-s[l]);else{var p=E.colorToRGBA(s[l]);d=E.colorToRGBA(n[l]),s[l]=p,a.push({r:d.r-p.r,g:d.g-p.g,b:d.b-p.b,a:d.a-p.a})}else for(l=0;l<c;l++)a.push(n[l]-s[l]);else Ch.indexOf(e)!==-1?(s=E.colorToRGBA(s),d=E.colorToRGBA(n),a={r:d.r-s.r,g:d.g-s.g,b:d.b-s.b,a:d.a-s.a}):a=n-s;De.attrs[i][this._id][e]={start:s,diff:a,end:n,trueEnd:h,trueStart:u},De.tweens[i][e]=this._id}_tweenFunc(e){var n=this.node,r=De.attrs[n._id][this._id],i,s,a,o,l,c,h,u;for(i in r){if(s=r[i],a=s.start,o=s.diff,u=s.end,E._isArray(a))if(l=[],h=Math.max(a.length,u.length),i.indexOf("fill")===0)for(c=0;c<h;c++)c%2===0?l.push((a[c]||0)+o[c]*e):l.push("rgba("+Math.round(a[c].r+o[c].r*e)+","+Math.round(a[c].g+o[c].g*e)+","+Math.round(a[c].b+o[c].b*e)+","+(a[c].a+o[c].a*e)+")");else for(c=0;c<h;c++)l.push((a[c]||0)+o[c]*e);else Ch.indexOf(i)!==-1?l="rgba("+Math.round(a.r+o.r*e)+","+Math.round(a.g+o.g*e)+","+Math.round(a.b+o.b*e)+","+(a.a+o.a*e)+")":l=a+o*e;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,n=De.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,n=De.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,n=this._id,r=De.tweens[e],i;this.pause();for(i in r)delete De.tweens[e][i];delete De.attrs[e][n]}}De.attrs={};De.tweens={};H.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new De(t);n.play()};const ai={BackEaseIn(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){var a=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-ai.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?ai.BounceEaseIn(t*2,0,n,r)*.5+e:ai.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Eh=E._assign(Q,{Util:E,Transform:tt,Node:H,Container:rt,Stage:fa,stages:gs,Layer:Hn,FastLayer:Rl,Group:wr,DD:ye,Shape:G,shapes:si,Animation:ot,Tween:De,Easings:ai,Context:ua,Canvas:da});class Ft extends G{_sceneFunc(e){var n=Q.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Q.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=s*(s>0?e:n),h=a*n,u=o*(o>0?e:n),d=l*(l>0?n:e);return{x:c,y:r?-1*d:u,width:h-c,height:d-u}}}Ft.prototype._centroid=!0;Ft.prototype.className="Arc";Ft.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(Ft);w.addGetterSetter(Ft,"innerRadius",0,j());w.addGetterSetter(Ft,"outerRadius",0,j());w.addGetterSetter(Ft,"angle",0,j());w.addGetterSetter(Ft,"clockwise",!1,gt());function Po(t,e,n,r,i,s,a){var o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),c=a*o/(o+l),h=a*l/(o+l),u=n-c*(i-t),d=r-c*(s-e),p=n+h*(i-t),f=r+h*(s-e);return[u,d,p,f]}function Th(t,e){var n=t.length,r=[],i,s;for(i=2;i<n-2;i+=2)s=Po(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(s[0])&&(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]));return r}class Bt extends G{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),r=n.length,i=this.tension(),s=this.closed(),a=this.bezier(),o,l,c;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,c=s?0:4,s||e.quadraticCurveTo(o[0],o[1],o[2],o[3]);c<l-2;)e.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);s||e.quadraticCurveTo(o[l-2],o[l-1],n[r-2],n[r-1])}else if(a)for(c=2;c<r;)e.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<r;c+=2)e.lineTo(n[c],n[c+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Th(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),i=Po(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=Po(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=Th(e,r),o=[i[2],i[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],r=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);return{x:n,y:i,width:r-n,height:s-i}}}Bt.prototype.className="Line";Bt.prototype._attrsAffectingSize=["points","bezier","tension"];Me(Bt);w.addGetterSetter(Bt,"closed",!1);w.addGetterSetter(Bt,"bezier",!1);w.addGetterSetter(Bt,"tension",0,j());w.addGetterSetter(Bt,"points",[],Qw());class Ce extends G{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,i=0;i<n.length;i++){var s=n[i].command,a=n[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],l=a[1],c=a[2],h=a[3],u=a[4],d=a[5],p=a[6],f=a[7],v=c>h?c:h,_=c>h?1:c/h,b=c>h?h/c:1;e.translate(o,l),e.rotate(p),e.scale(_,b),e.arc(0,0,v,u,u+d,1-f),e.scale(1/_,1/b),e.rotate(-p),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(c){if(c.command==="A"){var h=c.points[4],u=c.points[5],d=c.points[4]+u,p=Math.PI/180;if(Math.abs(h-d)<p&&(p=Math.abs(h-d)),u<0)for(let f=h-p;f>d;f-=p){const v=Ce.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(v.x,v.y)}else for(let f=h+p;f<d;f+=p){const v=Ce.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],f,0);e.push(v.x,v.y)}}else if(c.command==="C")for(let f=0;f<=1;f+=.01){const v=Ce.getPointOnCubicBezier(f,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);e.push(v.x,v.y)}else e=e.concat(c.points)});for(var n=e[0],r=e[0],i=e[1],s=e[1],a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(o)||(i=Math.min(i,o),s=Math.max(s,o));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var s=this.dataArray[r],a=s.points;switch(s.command){case"L":return Ce.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return Ce.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Ce.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var o=a[0],l=a[1],c=a[2],h=a[3],u=a[4],d=a[5],p=a[6];return u+=d*e/s.pathLength,Ce.getPointOnEllipticalArc(o,l,c,h,u,p)}return null}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPointOnLine(e,n,r,i,s,a,o){a===void 0&&(a=n),o===void 0&&(o=r);var l=(s-r)/(i-n+1e-8),c=Math.sqrt(e*e/(1+l*l));i<n&&(c*=-1);var h=l*c,u;if(i===n)u={x:a,y:o+h};else if((o-r)/(a-n+1e-8)===l)u={x:a+c,y:o+h};else{var d,p,f=this.getLineLength(n,r,i,s),v=(a-n)*(i-n)+(o-r)*(s-r);v=v/(f*f),d=n+v*(i-n),p=r+v*(s-r);var _=this.getLineLength(a,o,d,p),b=Math.sqrt(e*e-_*_);c=Math.sqrt(b*b/(1+l*l)),i<n&&(c*=-1),h=l*c,u={x:d+c,y:p+h}}return u}static getPointOnCubicBezier(e,n,r,i,s,a,o,l,c){function h(_){return _*_*_}function u(_){return 3*_*_*(1-_)}function d(_){return 3*_*(1-_)*(1-_)}function p(_){return(1-_)*(1-_)*(1-_)}var f=l*h(e)+a*u(e)+i*d(e)+n*p(e),v=c*h(e)+o*u(e)+s*d(e)+r*p(e);return{x:f,y:v}}static getPointOnQuadraticBezier(e,n,r,i,s,a,o){function l(p){return p*p}function c(p){return 2*p*(1-p)}function h(p){return(1-p)*(1-p)}var u=a*l(e)+i*c(e)+n*h(e),d=o*l(e)+s*c(e)+r*h(e);return{x:u,y:d}}static getPointOnEllipticalArc(e,n,r,i,s,a){var o=Math.cos(a),l=Math.sin(a),c={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(c.x*o-c.y*l),y:n+(c.x*l+c.y*o)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var s=n.split("|"),a=[],o=[],l=0,c=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u;for(i=1;i<s.length;i++){var d=s[i],p=d.charAt(0);for(d=d.slice(1),o.length=0;u=h.exec(d);)o.push(u[0]);for(var f=[],v=0,_=o.length;v<_;v++){if(o[v]==="00"){f.push(0,0);continue}var b=parseFloat(o[v]);isNaN(b)?f.push(0):f.push(b)}for(;f.length>0&&!isNaN(f[0]);){var g=null,y=[],S=l,I=c,k,R,T,L,M,N,F,A,P,Y;switch(p){case"l":l+=f.shift(),c+=f.shift(),g="L",y.push(l,c);break;case"L":l=f.shift(),c=f.shift(),y.push(l,c);break;case"m":var $=f.shift(),Z=f.shift();if(l+=$,c+=Z,g="M",a.length>2&&a[a.length-1].command==="z"){for(var re=a.length-2;re>=0;re--)if(a[re].command==="M"){l=a[re].points[0]+$,c=a[re].points[1]+Z;break}}y.push(l,c),p="l";break;case"M":l=f.shift(),c=f.shift(),g="M",y.push(l,c),p="L";break;case"h":l+=f.shift(),g="L",y.push(l,c);break;case"H":l=f.shift(),g="L",y.push(l,c);break;case"v":c+=f.shift(),g="L",y.push(l,c);break;case"V":c=f.shift(),g="L",y.push(l,c);break;case"C":y.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),c=f.shift(),y.push(l,c);break;case"c":y.push(l+f.shift(),c+f.shift(),l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="C",y.push(l,c);break;case"S":R=l,T=c,k=a[a.length-1],k.command==="C"&&(R=l+(l-k.points[2]),T=c+(c-k.points[3])),y.push(R,T,f.shift(),f.shift()),l=f.shift(),c=f.shift(),g="C",y.push(l,c);break;case"s":R=l,T=c,k=a[a.length-1],k.command==="C"&&(R=l+(l-k.points[2]),T=c+(c-k.points[3])),y.push(R,T,l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="C",y.push(l,c);break;case"Q":y.push(f.shift(),f.shift()),l=f.shift(),c=f.shift(),y.push(l,c);break;case"q":y.push(l+f.shift(),c+f.shift()),l+=f.shift(),c+=f.shift(),g="Q",y.push(l,c);break;case"T":R=l,T=c,k=a[a.length-1],k.command==="Q"&&(R=l+(l-k.points[0]),T=c+(c-k.points[1])),l=f.shift(),c=f.shift(),g="Q",y.push(R,T,l,c);break;case"t":R=l,T=c,k=a[a.length-1],k.command==="Q"&&(R=l+(l-k.points[0]),T=c+(c-k.points[1])),l+=f.shift(),c+=f.shift(),g="Q",y.push(R,T,l,c);break;case"A":L=f.shift(),M=f.shift(),N=f.shift(),F=f.shift(),A=f.shift(),P=l,Y=c,l=f.shift(),c=f.shift(),g="A",y=this.convertEndpointToCenterParameterization(P,Y,l,c,F,A,L,M,N);break;case"a":L=f.shift(),M=f.shift(),N=f.shift(),F=f.shift(),A=f.shift(),P=l,Y=c,l+=f.shift(),c+=f.shift(),g="A",y=this.convertEndpointToCenterParameterization(P,Y,l,c,F,A,L,M,N);break}a.push({command:g||p,points:y,start:{x:S,y:I},pathLength:this.calcLength(S,I,g||p,y)})}(p==="z"||p==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,n,r,i){var s,a,o,l,c=Ce;switch(r){case"L":return c.getLineLength(e,n,i[0],i[1]);case"C":for(s=0,a=c.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=c.getPointOnCubicBezier(l,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"Q":for(s=0,a=c.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=c.getPointOnQuadraticBezier(l,e,n,i[0],i[1],i[2],i[3]),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return s;case"A":s=0;var h=i[4],u=i[5],d=i[4]+u,p=Math.PI/180;if(Math.abs(h-d)<p&&(p=Math.abs(h-d)),a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),u<0)for(l=h-p;l>d;l-=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=h+p;l<d;l+=p)o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=c.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,a,o,l,c){var h=c*(Math.PI/180),u=Math.cos(h)*(e-r)/2+Math.sin(h)*(n-i)/2,d=-1*Math.sin(h)*(e-r)/2+Math.cos(h)*(n-i)/2,p=u*u/(o*o)+d*d/(l*l);p>1&&(o*=Math.sqrt(p),l*=Math.sqrt(p));var f=Math.sqrt((o*o*(l*l)-o*o*(d*d)-l*l*(u*u))/(o*o*(d*d)+l*l*(u*u)));s===a&&(f*=-1),isNaN(f)&&(f=0);var v=f*o*d/l,_=f*-l*u/o,b=(e+r)/2+Math.cos(h)*v-Math.sin(h)*_,g=(n+i)/2+Math.sin(h)*v+Math.cos(h)*_,y=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},S=function(M,N){return(M[0]*N[0]+M[1]*N[1])/(y(M)*y(N))},I=function(M,N){return(M[0]*N[1]<M[1]*N[0]?-1:1)*Math.acos(S(M,N))},k=I([1,0],[(u-v)/o,(d-_)/l]),R=[(u-v)/o,(d-_)/l],T=[(-1*u-v)/o,(-1*d-_)/l],L=I(R,T);return S(R,T)<=-1&&(L=Math.PI),S(R,T)>=1&&(L=0),a===0&&L>0&&(L=L-2*Math.PI),a===1&&L<0&&(L=L+2*Math.PI),[b,g,o,l,k,L,h,a]}}Ce.prototype.className="Path";Ce.prototype._attrsAffectingSize=["data"];Me(Ce);w.addGetterSetter(Ce,"data");class jn extends Bt{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,r=this.points(),i=r,s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());var a=this.pointerLength(),o=r.length,l,c;if(s){const d=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],p=Ce.calcLength(i[i.length-4],i[i.length-3],"C",d),f=Ce.getPointOnQuadraticBezier(Math.min(1,1-a/p),d[0],d[1],d[2],d[3],d[4],d[5]);l=r[o-2]-f.x,c=r[o-1]-f.y}else l=r[o-2]-r[o-4],c=r[o-1]-r[o-3];var h=(Math.atan2(c,l)+n)%n,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(h),e.moveTo(0,0),e.lineTo(-a,u/2),e.lineTo(-a,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],c=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],c=r[3]-r[1]),e.rotate((Math.atan2(-c,-l)+n)%n),e.moveTo(0,0),e.lineTo(-a,u/2),e.lineTo(-a,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}jn.prototype.className="Arrow";Me(jn);w.addGetterSetter(jn,"pointerLength",10,j());w.addGetterSetter(jn,"pointerWidth",10,j());w.addGetterSetter(jn,"pointerAtBeginning",!1);w.addGetterSetter(jn,"pointerAtEnding",!0);let Ar=class extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Ar.prototype._centroid=!0;Ar.prototype.className="Circle";Ar.prototype._attrsAffectingSize=["radius"];Me(Ar);w.addGetterSetter(Ar,"radius",0,j());class pn extends G{_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}pn.prototype.className="Ellipse";pn.prototype._centroid=!0;pn.prototype._attrsAffectingSize=["radiusX","radiusY"];Me(pn);w.addComponentsGetterSetter(pn,"radius",["x","y"]);w.addGetterSetter(pn,"radiusX",0,j());w.addGetterSetter(pn,"radiusY",0,j());class lt extends G{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,n,r]:a=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?E.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){var n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?E.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){var i=E.createImageElement();i.onload=function(){var s=new lt({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}lt.prototype.className="Image";Me(lt);w.addGetterSetter(lt,"cornerRadius",0,Il(4));w.addGetterSetter(lt,"image");w.addComponentsGetterSetter(lt,"crop",["x","y","width","height"]);w.addGetterSetter(lt,"cropX",0,j());w.addGetterSetter(lt,"cropY",0,j());w.addGetterSetter(lt,"cropWidth",0,j());w.addGetterSetter(lt,"cropHeight",0,j());var Vf=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],WS="Change.konva",zS="none",Ao="up",xo="right",Ro="down",Oo="left",VS=Vf.length;class Ol extends wr{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,r,i=function(){n._sync()};for(r=0;r<VS;r++)e.on(Vf[r]+WS,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),r,i,s,a,o,l,c;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),c=n.pointerHeight(),o=0,l=0,s){case Ao:o=r/2,l=-1*c;break;case xo:o=r+a,l=i/2;break;case Ro:o=r/2,l=i+c;break;case Oo:o=-1*a,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*o,y:-1*l})}}}Ol.prototype.className="Label";Me(Ol);class Wn extends G{_sceneFunc(e){var n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,c=0,h=0,u=0;typeof o=="number"?l=c=h=u=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),c=Math.min(o[1]||0,n/2,r/2),u=Math.min(o[2]||0,n/2,r/2),h=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),i===Ao&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-c,0),e.arc(n-c,c,c,Math.PI*3/2,0,!1),i===xo&&(e.lineTo(n,(r-a)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-u),e.arc(n-u,r-u,u,0,Math.PI/2,!1),i===Ro&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-s)/2,r)),e.lineTo(h,r),e.arc(h,r-h,h,Math.PI/2,Math.PI,!1),i===Oo&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===Ao?(n-=i,o+=i):s===Ro?o+=i:s===Oo?(e-=r*1.5,a+=r):s===xo&&(a+=r*1.5),{x:e,y:n,width:a,height:o}}}Wn.prototype.className="Tag";Me(Wn);w.addGetterSetter(Wn,"pointerDirection",zS);w.addGetterSetter(Wn,"pointerWidth",0,j());w.addGetterSetter(Wn,"pointerHeight",0,j());w.addGetterSetter(Wn,"cornerRadius",0,Il(4));class Fi extends G{_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?E.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}}Fi.prototype.className="Rect";Me(Fi);w.addGetterSetter(Fi,"cornerRadius",0,Il(4));class zn extends G{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}zn.prototype.className="RegularPolygon";zn.prototype._centroid=!0;zn.prototype._attrsAffectingSize=["radius"];Me(zn);w.addGetterSetter(zn,"radius",0,j());w.addGetterSetter(zn,"sides",0,j());var kh=Math.PI*2;class Vn extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,kh,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),kh,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Vn.prototype.className="Ring";Vn.prototype._centroid=!0;Vn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(Vn);w.addGetterSetter(Vn,"innerRadius",0,j());w.addGetterSetter(Vn,"outerRadius",0,j());class Et extends G{constructor(e){super(e),this._updated=!0,this.anim=new ot(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+0],l=s[i+1],c=s[i+2],h=s[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,h),e.closePath(),e.fillStrokeShape(this)),u)if(a){var d=a[n],p=r*2;e.drawImage(u,o,l,c,h,d[p+0],d[p+1],c,h)}else e.drawImage(u,o,l,c,h,0,0,c,h)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),o=s[i+2],l=s[i+3];if(e.beginPath(),a){var c=a[n],h=r*2;e.rect(c[h+0],c[h+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}Et.prototype.className="Sprite";Me(Et);w.addGetterSetter(Et,"animation");w.addGetterSetter(Et,"animations");w.addGetterSetter(Et,"frameOffsets");w.addGetterSetter(Et,"image");w.addGetterSetter(Et,"frameIndex",0,j());w.addGetterSetter(Et,"frameRate",17,j());w.backCompat(Et,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class gn extends G{_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<i*2;s++){var a=s%2===0?r:n,o=a*Math.sin(s*Math.PI/i),l=-1*a*Math.cos(s*Math.PI/i);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}gn.prototype.className="Star";gn.prototype._centroid=!0;gn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Me(gn);w.addGetterSetter(gn,"numPoints",5,j());w.addGetterSetter(gn,"innerRadius",0,j());w.addGetterSetter(gn,"outerRadius",0,j());function Kf(t){return Array.from(t)}var Xn="auto",KS="center",Nr="justify",qS="Change.konva",YS="2d",Ih="-",qf="left",XS="text",JS="Text",ZS="top",QS="bottom",Ph="middle",Yf="normal",eC="px ",is=" ",tC="right",nC="word",rC="char",Ah="none",Ga="",Xf=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],iC=Xf.length;function sC(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var ss;function $a(){return ss||(ss=E.createCanvasElement().getContext(YS),ss)}function aC(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function oC(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function lC(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Oe extends G{constructor(e){super(lC(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<iC;n++)this.on(Xf[n]+qS,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=0,c=this.align(),h=this.getWidth(),u=this.letterSpacing(),d=this.fill(),p=this.textDecoration(),f=p.indexOf("underline")!==-1,v=p.indexOf("line-through")!==-1,_,b=0,b=a/2,g=0,y=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Ph),e.setAttr("textAlign",qf),o===Ph?l=(this.getHeight()-r*a-i*2)/2:o===QS&&(l=this.getHeight()-r*a-i*2),e.translate(i,l+i),_=0;_<r;_++){var g=0,y=0,S=n[_],I=S.text,k=S.width,R=S.lastInParagraph,T,L,M;if(e.save(),c===tC?g+=h-k-i*2:c===KS&&(g+=(h-k-i*2)/2),f){e.save(),e.beginPath(),e.moveTo(g,b+y+Math.round(s/2)),T=I.split(" ").length-1,L=T===0,M=c===Nr&&!R?h-i*2:k,e.lineTo(g+Math.round(M),b+y+Math.round(s/2)),e.lineWidth=s/15;const $=this._getLinearGradient();e.strokeStyle=$||d,e.stroke(),e.restore()}if(v){e.save(),e.beginPath(),e.moveTo(g,b+y),T=I.split(" ").length-1,L=T===0,M=c===Nr&&R&&!L?h-i*2:k,e.lineTo(g+Math.round(M),b+y),e.lineWidth=s/15;const $=this._getLinearGradient();e.strokeStyle=$||d,e.stroke(),e.restore()}if(u!==0||c===Nr){T=I.split(" ").length-1;for(var N=Kf(I),F=0;F<N.length;F++){var A=N[F];A===" "&&!R&&c===Nr&&(g+=(h-i*2-k)/T),this._partialTextX=g,this._partialTextY=b+y,this._partialText=A,e.fillStrokeShape(this),g+=this.measureSize(A).width+u}}else this._partialTextX=g,this._partialTextY=b+y,this._partialText=I,e.fillStrokeShape(this);e.restore(),r>1&&(b+=a)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=E._isString(e)?e:e==null?"":e+"";return this._setAttr(XS,n),this}getWidth(){var e=this.attrs.width===Xn||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Xn||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return E.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=$a(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(e),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+is+this.fontVariant()+is+(this.fontSize()+eC)+sC(this.fontFamily())}_addTextLine(e){this.align()===Nr&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return $a().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,o=s!==Xn&&s!==void 0,l=a!==Xn&&a!==void 0,c=this.padding(),h=s-c*2,u=a-c*2,d=0,p=this.wrap(),f=p!==Ah,v=p!==rC&&f,_=this.ellipsis();this.textArr=[],$a().font=this._getContextFont();for(var b=_?this._getTextWidth(Ga):0,g=0,y=e.length;g<y;++g){var S=e[g],I=this._getTextWidth(S);if(o&&I>h)for(;S.length>0;){for(var k=0,R=S.length,T="",L=0;k<R;){var M=k+R>>>1,N=S.slice(0,M+1),F=this._getTextWidth(N)+b;F<=h?(k=M+1,T=N,L=F):R=M}if(T){if(v){var A,P=S[T.length],Y=P===is||P===Ih;Y&&L<=h?A=T.length:A=Math.max(T.lastIndexOf(is),T.lastIndexOf(Ih))+1,A>0&&(k=A,T=T.slice(0,k),L=this._getTextWidth(T))}T=T.trimRight(),this._addTextLine(T),r=Math.max(r,L),d+=i;var $=this._shouldHandleEllipsis(d);if($){this._tryToAddEllipsisToLastLine();break}if(S=S.slice(k),S=S.trimLeft(),S.length>0&&(I=this._getTextWidth(S),I<=h)){this._addTextLine(S),d+=i,r=Math.max(r,I);break}}else break}else this._addTextLine(S),d+=i,r=Math.max(r,I),this._shouldHandleEllipsis(d)&&g<y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&d+i>u)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Xn&&i!==void 0,a=this.padding(),o=i-a*2,l=this.wrap(),c=l!==Ah;return!c||s&&e+r>o}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==Xn&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(!(!a||!s)){if(n){var o=this._getTextWidth(a.text+Ga)<i;o||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+Ga)}}getStrokeScaleEnabled(){return!0}}Oe.prototype._fillFunc=aC;Oe.prototype._strokeFunc=oC;Oe.prototype.className=JS;Oe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Me(Oe);w.overWriteSetter(Oe,"width",Pl());w.overWriteSetter(Oe,"height",Pl());w.addGetterSetter(Oe,"fontFamily","Arial");w.addGetterSetter(Oe,"fontSize",12,j());w.addGetterSetter(Oe,"fontStyle",Yf);w.addGetterSetter(Oe,"fontVariant",Yf);w.addGetterSetter(Oe,"padding",0,j());w.addGetterSetter(Oe,"align",qf);w.addGetterSetter(Oe,"verticalAlign",ZS);w.addGetterSetter(Oe,"lineHeight",1,j());w.addGetterSetter(Oe,"wrap",nC);w.addGetterSetter(Oe,"ellipsis",!1,gt());w.addGetterSetter(Oe,"letterSpacing",0,j());w.addGetterSetter(Oe,"text","",Pr());w.addGetterSetter(Oe,"textDecoration","");var cC="",Jf="normal";function Zf(t){t.fillText(this.partialText,0,0)}function Qf(t){t.strokeText(this.partialText,0,0)}class Ge extends G{constructor(e){super(e),this.dummyCanvas=E.createCanvasElement(),this.dataArray=[],this.dataArray=Ce.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(var a=0;a<s.length;a++){e.save();var o=s[a].p0;e.translate(o.x,o.y),e.rotate(s[a].rotation),this.partialText=s[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var s=n[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return E.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Oe.prototype.setText.call(this,e)}_getContextFont(){return Oe.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var o=0,l=0;l<e.dataArray.length;l++)e.dataArray[l].pathLength>0&&(o+=e.dataArray[l].pathLength);var c=0;i==="center"&&(c=Math.max(0,o/2-a/2)),i==="right"&&(c=Math.max(0,o-a));for(var h=Kf(this.text()),u=this.text().split(" ").length-1,d,p,f,v=-1,_=0,b=function(){_=0;for(var F=e.dataArray,A=v+1;A<F.length;A++){if(F[A].pathLength>0)return v=A,F[A];F[A].command==="M"&&(d={x:F[A].points[0],y:F[A].points[1]})}return{}},g=function(F){var A=e._getTextSize(F).width+r;F===" "&&i==="justify"&&(A+=(o-a)/u);var P=0,Y=0;for(p=void 0;Math.abs(A-P)/A>.01&&Y<20;){Y++;for(var $=P;f===void 0;)f=b(),f&&$+f.pathLength<A&&($+=f.pathLength,f=void 0);if(Object.keys(f).length===0||d===void 0)return;var Z=!1;switch(f.command){case"L":Ce.getLineLength(d.x,d.y,f.points[0],f.points[1])>A?p=Ce.getPointOnLine(A,d.x,d.y,f.points[0],f.points[1],d.x,d.y):f=void 0;break;case"A":var re=f.points[4],ue=f.points[5],ee=f.points[4]+ue;_===0?_=re+1e-8:A>P?_+=Math.PI/180*ue/Math.abs(ue):_-=Math.PI/360*ue/Math.abs(ue),(ue<0&&_<ee||ue>=0&&_>ee)&&(_=ee,Z=!0),p=Ce.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,f.points[6]);break;case"C":_===0?A>f.pathLength?_=1e-8:_=A/f.pathLength:A>P?_+=(A-P)/f.pathLength/2:_=Math.max(_-(P-A)/f.pathLength/2,0),_>1&&(_=1,Z=!0),p=Ce.getPointOnCubicBezier(_,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":_===0?_=A/f.pathLength:A>P?_+=(A-P)/f.pathLength:_-=(P-A)/f.pathLength,_>1&&(_=1,Z=!0),p=Ce.getPointOnQuadraticBezier(_,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3]);break}p!==void 0&&(P=Ce.getLineLength(d.x,d.y,p.x,p.y)),Z&&(Z=!1,f=void 0)}},y="C",S=e._getTextSize(y).width+r,I=c/S-1,k=0;k<I&&(g(y),!(d===void 0||p===void 0));k++)d=p;for(var R=0;R<h.length&&(g(h[R]),!(d===void 0||p===void 0));R++){var T=Ce.getLineLength(d.x,d.y,p.x,p.y),L=0;if(s)try{L=s(h[R-1],h[R])*this.fontSize()}catch{L=0}d.x+=L,p.x+=L,this.textWidth+=L;var M=Ce.getPointOnLine(L+T/2,d.x,d.y,p.x,p.y),N=Math.atan2(p.y-d.y,p.x-d.x);this.glyphInfo.push({transposeX:M.x,transposeY:M.y,text:h[R],rotation:N,p0:d,p1:p}),d=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});for(var n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,a,o,l=0;l<e.length/2;l++)a=e[l*2],o=e[l*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,o),s=Math.max(s,o);var c=this.fontSize();return{x:n-c/2,y:i-c/2,width:r-n+c,height:s-i+c}}destroy(){return E.releaseCanvas(this.dummyCanvas),super.destroy()}}Ge.prototype._fillFunc=Zf;Ge.prototype._strokeFunc=Qf;Ge.prototype._fillFuncHit=Zf;Ge.prototype._strokeFuncHit=Qf;Ge.prototype.className="TextPath";Ge.prototype._attrsAffectingSize=["text","fontSize","data"];Me(Ge);w.addGetterSetter(Ge,"data");w.addGetterSetter(Ge,"fontFamily","Arial");w.addGetterSetter(Ge,"fontSize",12,j());w.addGetterSetter(Ge,"fontStyle",Jf);w.addGetterSetter(Ge,"align","left");w.addGetterSetter(Ge,"letterSpacing",0,j());w.addGetterSetter(Ge,"textBaseline","middle");w.addGetterSetter(Ge,"fontVariant",Jf);w.addGetterSetter(Ge,"text",cC);w.addGetterSetter(Ge,"textDecoration",null);w.addGetterSetter(Ge,"kerningFunc",null);var ep="tr-konva",hC=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${ep}`).join(" "),xh="nodesRect",uC=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],dC={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const fC="ontouchstart"in Q._global;function pC(t,e){if(t==="rotater")return"crosshair";e+=E.degToRad(dC[t]||0);var n=(E.radToDeg(e)%360+360)%360;return E._inRange(n,315+22.5,360)||E._inRange(n,0,22.5)?"ns-resize":E._inRange(n,45-22.5,45+22.5)?"nesw-resize":E._inRange(n,90-22.5,90+22.5)?"ew-resize":E._inRange(n,135-22.5,135+22.5)?"nwse-resize":E._inRange(n,180-22.5,180+22.5)?"ns-resize":E._inRange(n,225-22.5,225+22.5)?"nesw-resize":E._inRange(n,270-22.5,270+22.5)?"ew-resize":E._inRange(n,315-22.5,315+22.5)?"nwse-resize":(E.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var Ms=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Rh=1e8;function gC(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function tp(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:r,y:i})}function mC(t,e){const n=gC(t);return tp(t,e,n)}function vC(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Q.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=s)}return r}class be extends wr{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(hC,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return E.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return ep+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=r._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(uC.map(a=>a+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,a=i.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(xh),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(xh,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),o=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y;const c=(Q.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),h={x:a.x+o*Math.cos(c)+l*Math.sin(-c),y:a.y+l*Math.cos(c)+o*Math.sin(c),width:i.width*s.x,height:i.height*s.y,rotation:c};return tp(h,-Q.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Rh,y:-Rh,width:0,height:0,rotation:0};const n=[];this.nodes().map(c=>{const h=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var u=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],d=c.getAbsoluteTransform();u.forEach(function(p){var f=d.point(p);n.push(f)})});const r=new tt;r.rotate(-Q.getAngle(this.rotation()));var i,s,a,o;n.forEach(function(c){var h=r.point(c);i===void 0&&(i=a=h.x,s=o=h.y),i=Math.min(i,h.x),s=Math.min(s,h.y),a=Math.max(a,h.x),o=Math.max(o,h.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:a-i,height:o-s,rotation:Q.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Ms.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new Fi({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:fC?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=Q.getAngle(this.rotation()),s=pC(e,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new G({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+i*2,this.height()+i*2),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*E._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var n,r,i,s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const c=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),s.setAbsolutePosition(l);const h=s.getAbsolutePosition();if(!(c.x===h.x&&c.y===h.y)){if(this._movingAnchorName==="rotater"){var u=this._getNodeRect();n=s.x()-u.width/2,r=-s.y()+u.height/2;let F=Math.atan2(-r,n)+Math.PI/2;u.height<0&&(F-=Math.PI);var d=Q.getAngle(this.rotation());const A=d+F,P=Q.getAngle(this.rotationSnapTolerance()),$=vC(this.rotationSnaps(),A,P)-u.rotation,Z=mC(u,$);this._fitNodesInto(Z,e);return}var p=this.keepRatio()||e.shiftKey,g=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(f.y-s.y(),2));var v=this.findOne(".top-left").x()>f.x?-1:1,_=this.findOne(".top-left").y()>f.y?-1:1;n=i*this.cos*v,r=i*this.sin*_,this.findOne(".top-left").x(f.x-n),this.findOne(".top-left").y(f.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(f.y-s.y(),2));var v=this.findOne(".top-right").x()<f.x?-1:1,_=this.findOne(".top-right").y()>f.y?-1:1;n=i*this.cos*v,r=i*this.sin*_,this.findOne(".top-right").x(f.x+n),this.findOne(".top-right").y(f.y-r)}var b=s.position();this.findOne(".top-left").y(b.y),this.findOne(".bottom-right").x(b.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(s.y()-f.y,2));var v=f.x<s.x()?-1:1,_=s.y()<f.y?-1:1;n=i*this.cos*v,r=i*this.sin*_,s.x(f.x-n),s.y(f.y+r)}b=s.position(),this.findOne(".top-left").x(b.x),this.findOne(".bottom-right").y(b.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(p){var f=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(s.y()-f.y,2));var v=this.findOne(".bottom-right").x()<f.x?-1:1,_=this.findOne(".bottom-right").y()<f.y?-1:1;n=i*this.cos*v,r=i*this.sin*_,this.findOne(".bottom-right").x(f.x+n),this.findOne(".bottom-right").y(f.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var g=this.centeredScaling()||e.altKey;if(g){var y=this.findOne(".top-left"),S=this.findOne(".bottom-right"),I=y.x(),k=y.y(),R=this.getWidth()-S.x(),T=this.getHeight()-S.y();S.move({x:-I,y:-k}),y.move({x:R,y:T})}var L=this.findOne(".top-left").getAbsolutePosition();n=L.x,r=L.y;var M=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),N=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:M,height:N,rotation:Q.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();const i=1;if(E._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(E._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=this.flipEnabled();var a=new tt;if(a.rotate(Q.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const u=a.point({x:-this.padding()*2,y:0});if(e.x+=u.x,e.y+=u.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,!s){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const u=a.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.width+=this.padding()*2,!s){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const u=a.point({x:0,y:-this.padding()*2});if(e.x+=u.x,e.y+=u.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=this.padding()*2,!s){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const u=a.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=u.x,this._anchorDragOffset.y-=u.y,e.height+=this.padding()*2,!s){this.update();return}}if(this.boundBoxFunc()){const u=this.boundBoxFunc()(r,e);u?e=u:E.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new tt;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/o,r.height/o);const c=new tt;c.translate(e.x,e.y),c.rotate(e.rotation),c.scale(e.width/o,e.height/o);const h=c.multiply(l.invert());this._nodes.forEach(u=>{var d;const p=u.getParent().getAbsoluteTransform(),f=u.getTransform().copy();f.translate(u.offsetX(),u.offsetY());const v=new tt;v.multiply(p.copy().invert()).multiply(h).multiply(p).multiply(f);const _=v.decompose();u.setAttrs(_),this._fire("transform",{evt:n,target:u}),u._fire("transform",{evt:n,target:u}),(d=u.getLayer())===null||d===void 0||d.batchDraw()}),this.rotation(E._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(E._getRotation(n.rotation));var r=n.width,i=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*E._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),wr.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return H.prototype.toObject.call(this)}clone(e){var n=H.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function _C(t){return t instanceof Array||E.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Ms.indexOf(e)===-1&&E.warn("Unknown anchor name: "+e+". Available names are: "+Ms.join(", "))}),t||[]}be.prototype.className="Transformer";Me(be);w.addGetterSetter(be,"enabledAnchors",Ms,_C);w.addGetterSetter(be,"flipEnabled",!0,gt());w.addGetterSetter(be,"resizeEnabled",!0);w.addGetterSetter(be,"anchorSize",10,j());w.addGetterSetter(be,"rotateEnabled",!0);w.addGetterSetter(be,"rotationSnaps",[]);w.addGetterSetter(be,"rotateAnchorOffset",50,j());w.addGetterSetter(be,"rotationSnapTolerance",5,j());w.addGetterSetter(be,"borderEnabled",!0);w.addGetterSetter(be,"anchorStroke","rgb(0, 161, 255)");w.addGetterSetter(be,"anchorStrokeWidth",1,j());w.addGetterSetter(be,"anchorFill","white");w.addGetterSetter(be,"anchorCornerRadius",0,j());w.addGetterSetter(be,"borderStroke","rgb(0, 161, 255)");w.addGetterSetter(be,"borderStrokeWidth",1,j());w.addGetterSetter(be,"borderDash");w.addGetterSetter(be,"keepRatio",!0);w.addGetterSetter(be,"centeredScaling",!1);w.addGetterSetter(be,"ignoreStroke",!1);w.addGetterSetter(be,"padding",0,j());w.addGetterSetter(be,"node");w.addGetterSetter(be,"nodes");w.addGetterSetter(be,"boundBoxFunc");w.addGetterSetter(be,"anchorDragBoundFunc");w.addGetterSetter(be,"shouldOverdrawWholeArea",!1);w.addGetterSetter(be,"useSingleNodeRotation",!0);w.backCompat(be,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Gt extends G{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Q.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Gt.prototype.className="Wedge";Gt.prototype._centroid=!0;Gt.prototype._attrsAffectingSize=["radius"];Me(Gt);w.addGetterSetter(Gt,"radius",0,j());w.addGetterSetter(Gt,"angle",0,j());w.addGetterSetter(Gt,"clockwise",!1);w.backCompat(Gt,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Oh(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var yC=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],bC=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function wC(t,e){var n=t.data,r=t.width,i=t.height,s,a,o,l,c,h,u,d,p,f,v,_,b,g,y,S,I,k,R,T,L,M,N,F,A=e+e+1,P=r-1,Y=i-1,$=e+1,Z=$*($+1)/2,re=new Oh,ue=null,ee=re,ce=null,de=null,_e=yC[e],Fe=bC[e];for(o=1;o<A;o++)ee=ee.next=new Oh,o===$&&(ue=ee);for(ee.next=re,u=h=0,a=0;a<i;a++){for(S=I=k=R=d=p=f=v=0,_=$*(T=n[h]),b=$*(L=n[h+1]),g=$*(M=n[h+2]),y=$*(N=n[h+3]),d+=Z*T,p+=Z*L,f+=Z*M,v+=Z*N,ee=re,o=0;o<$;o++)ee.r=T,ee.g=L,ee.b=M,ee.a=N,ee=ee.next;for(o=1;o<$;o++)l=h+((P<o?P:o)<<2),d+=(ee.r=T=n[l])*(F=$-o),p+=(ee.g=L=n[l+1])*F,f+=(ee.b=M=n[l+2])*F,v+=(ee.a=N=n[l+3])*F,S+=T,I+=L,k+=M,R+=N,ee=ee.next;for(ce=re,de=ue,s=0;s<r;s++)n[h+3]=N=v*_e>>Fe,N!==0?(N=255/N,n[h]=(d*_e>>Fe)*N,n[h+1]=(p*_e>>Fe)*N,n[h+2]=(f*_e>>Fe)*N):n[h]=n[h+1]=n[h+2]=0,d-=_,p-=b,f-=g,v-=y,_-=ce.r,b-=ce.g,g-=ce.b,y-=ce.a,l=u+((l=s+e+1)<P?l:P)<<2,S+=ce.r=n[l],I+=ce.g=n[l+1],k+=ce.b=n[l+2],R+=ce.a=n[l+3],d+=S,p+=I,f+=k,v+=R,ce=ce.next,_+=T=de.r,b+=L=de.g,g+=M=de.b,y+=N=de.a,S-=T,I-=L,k-=M,R-=N,de=de.next,h+=4;u+=r}for(s=0;s<r;s++){for(I=k=R=S=p=f=v=d=0,h=s<<2,_=$*(T=n[h]),b=$*(L=n[h+1]),g=$*(M=n[h+2]),y=$*(N=n[h+3]),d+=Z*T,p+=Z*L,f+=Z*M,v+=Z*N,ee=re,o=0;o<$;o++)ee.r=T,ee.g=L,ee.b=M,ee.a=N,ee=ee.next;for(c=r,o=1;o<=e;o++)h=c+s<<2,d+=(ee.r=T=n[h])*(F=$-o),p+=(ee.g=L=n[h+1])*F,f+=(ee.b=M=n[h+2])*F,v+=(ee.a=N=n[h+3])*F,S+=T,I+=L,k+=M,R+=N,ee=ee.next,o<Y&&(c+=r);for(h=s,ce=re,de=ue,a=0;a<i;a++)l=h<<2,n[l+3]=N=v*_e>>Fe,N>0?(N=255/N,n[l]=(d*_e>>Fe)*N,n[l+1]=(p*_e>>Fe)*N,n[l+2]=(f*_e>>Fe)*N):n[l]=n[l+1]=n[l+2]=0,d-=_,p-=b,f-=g,v-=y,_-=ce.r,b-=ce.g,g-=ce.b,y-=ce.a,l=s+((l=a+$)<Y?l:Y)*r<<2,d+=S+=ce.r=n[l],p+=I+=ce.g=n[l+1],f+=k+=ce.b=n[l+2],v+=R+=ce.a=n[l+3],ce=ce.next,_+=T=de.r,b+=L=de.g,g+=M=de.b,y+=N=de.a,S-=T,I-=L,k-=M,R-=N,de=de.next,h+=r}}const SC=function(e){var n=Math.round(this.blurRadius());n>0&&wC(e,n)};w.addGetterSetter(H,"blurRadius",0,j(),w.afterSetFilter);const CC=function(t){var e=this.brightness()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};w.addGetterSetter(H,"brightness",0,j(),w.afterSetFilter);const EC=function(t){var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,s=150,a=150,o;for(o=0;o<r;o+=4)i=n[o],s=n[o+1],a=n[o+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[o]=i,n[o+1]=s,n[o+2]=a};w.addGetterSetter(H,"contrast",0,j(),w.afterSetFilter);const TC=function(t){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=0,a=0,o=t.data,l=t.width,c=t.height,h=l*4,u=c;switch(r){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:E.error("Unknown emboss direction: "+r)}do{var d=(u-1)*h,p=s;u+p<1&&(p=0),u+p>c&&(p=0);var f=(u-1+p)*l*4,v=l;do{var _=d+(v-1)*4,b=a;v+b<1&&(b=0),v+b>l&&(b=0);var g=f+(v-1+b)*4,y=o[_]-o[g],S=o[_+1]-o[g+1],I=o[_+2]-o[g+2],k=y,R=k>0?k:-k,T=S>0?S:-S,L=I>0?I:-I;if(T>R&&(k=S),L>R&&(k=I),k*=e,i){var M=o[_]+k,N=o[_+1]+k,F=o[_+2]+k;o[_]=M>255?255:M<0?0:M,o[_+1]=N>255?255:N<0?0:N,o[_+2]=F>255?255:F<0?0:F}else{var A=n-k;A<0?A=0:A>255&&(A=255),o[_]=o[_+1]=o[_+2]=A}}while(--v)}while(--u)};w.addGetterSetter(H,"embossStrength",.5,j(),w.afterSetFilter);w.addGetterSetter(H,"embossWhiteLevel",.5,j(),w.afterSetFilter);w.addGetterSetter(H,"embossDirection","top-left",null,w.afterSetFilter);w.addGetterSetter(H,"embossBlend",!1,null,w.afterSetFilter);function Ua(t,e,n,r,i){var s=n-e,a=i-r,o;return s===0?r+a/2:a===0?r:(o=(t-e)/s,o=a*o+r,o)}const kC=function(t){var e=t.data,n=e.length,r=e[0],i=r,s,a=e[1],o=a,l,c=e[2],h=c,u,d,p=this.enhance();if(p!==0){for(d=0;d<n;d+=4)s=e[d+0],s<r?r=s:s>i&&(i=s),l=e[d+1],l<a?a=l:l>o&&(o=l),u=e[d+2],u<c?c=u:u>h&&(h=u);i===r&&(i=255,r=0),o===a&&(o=255,a=0),h===c&&(h=255,c=0);var f,v,_,b,g,y,S,I,k;for(p>0?(v=i+p*(255-i),_=r-p*(r-0),g=o+p*(255-o),y=a-p*(a-0),I=h+p*(255-h),k=c-p*(c-0)):(f=(i+r)*.5,v=i+p*(i-f),_=r+p*(r-f),b=(o+a)*.5,g=o+p*(o-b),y=a+p*(a-b),S=(h+c)*.5,I=h+p*(h-S),k=c+p*(c-S)),d=0;d<n;d+=4)e[d+0]=Ua(e[d+0],r,i,_,v),e[d+1]=Ua(e[d+1],a,o,y,g),e[d+2]=Ua(e[d+2],c,h,k,I)}};w.addGetterSetter(H,"enhance",0,j(),w.afterSetFilter);const IC=function(t){var e=t.data,n=e.length,r,i;for(r=0;r<n;r+=4)i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=i,e[r+1]=i,e[r+2]=i};w.addGetterSetter(H,"hue",0,j(),w.afterSetFilter);w.addGetterSetter(H,"saturation",0,j(),w.afterSetFilter);w.addGetterSetter(H,"luminance",0,j(),w.afterSetFilter);const PC=function(t){var e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o,l=r*i*Math.cos(s*Math.PI/180),c=r*i*Math.sin(s*Math.PI/180),h=.299*r+.701*l+.167*c,u=.587*r-.587*l+.33*c,d=.114*r-.114*l-.497*c,p=.299*r-.299*l-.328*c,f=.587*r+.413*l+.035*c,v=.114*r-.114*l+.293*c,_=.299*r-.3*l+1.25*c,b=.587*r-.586*l-1.05*c,g=.114*r+.886*l-.2*c,y,S,I,k;for(o=0;o<n;o+=4)y=e[o+0],S=e[o+1],I=e[o+2],k=e[o+3],e[o+0]=h*y+u*S+d*I+a,e[o+1]=p*y+f*S+v*I+a,e[o+2]=_*y+b*S+g*I+a,e[o+3]=k},AC=function(t){var e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a,o=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),c=.299*r+.701*o+.167*l,h=.587*r-.587*o+.33*l,u=.114*r-.114*o-.497*l,d=.299*r-.299*o-.328*l,p=.587*r+.413*o+.035*l,f=.114*r-.114*o+.293*l,v=.299*r-.3*o+1.25*l,_=.587*r-.586*o-1.05*l,b=.114*r+.886*o-.2*l,g,y,S,I;for(a=0;a<n;a+=4)g=e[a+0],y=e[a+1],S=e[a+2],I=e[a+3],e[a+0]=c*g+h*y+u*S,e[a+1]=d*g+p*y+f*S,e[a+2]=v*g+_*y+b*S,e[a+3]=I};w.addGetterSetter(H,"hue",0,j(),w.afterSetFilter);w.addGetterSetter(H,"saturation",0,j(),w.afterSetFilter);w.addGetterSetter(H,"value",0,j(),w.afterSetFilter);const xC=function(t){var e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};var RC=function(t,e,n){var r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2,c,h,u,d=0,p=0,f=0,v=0,_,b=Math.sqrt(o*o+l*l);h=s-o,u=a-l,_=Math.sqrt(h*h+u*u),b=_>b?_:b;var g=a,y=s,S,I,k=360/y*Math.PI/180,R,T;for(I=0;I<y;I+=1)for(R=Math.sin(I*k),T=Math.cos(I*k),S=0;S<g;S+=1)h=Math.floor(o+b*S/g*T),u=Math.floor(l+b*S/g*R),c=(u*s+h)*4,d=r[c+0],p=r[c+1],f=r[c+2],v=r[c+3],c=(I+S*s)*4,i[c+0]=d,i[c+1]=p,i[c+2]=f,i[c+3]=v},OC=function(t,e,n){var r=t.data,i=e.data,s=t.width,a=t.height,o=n.polarCenterX||s/2,l=n.polarCenterY||a/2,c,h,u,d,p,f=0,v=0,_=0,b=0,g,y=Math.sqrt(o*o+l*l);h=s-o,u=a-l,g=Math.sqrt(h*h+u*u),y=g>y?g:y;var S=a,I=s,k,R,T=n.polarRotation||0,L,M;for(h=0;h<s;h+=1)for(u=0;u<a;u+=1)d=h-o,p=u-l,k=Math.sqrt(d*d+p*p)*S/y,R=(Math.atan2(p,d)*180/Math.PI+360+T)%360,R=R*I/360,L=Math.floor(R),M=Math.floor(k),c=(M*s+L)*4,f=r[c+0],v=r[c+1],_=r[c+2],b=r[c+3],c=(u*s+h)*4,i[c+0]=f,i[c+1]=v,i[c+2]=_,i[c+3]=b};const MC=function(t){var e=t.width,n=t.height,r,i,s,a,o,l,c,h,u,d,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(f%360)/360);if(!(p<1)){var _=E.createCanvasElement();_.width=e,_.height=n;var b=_.getContext("2d").getImageData(0,0,e,n);E.releaseCanvas(_),RC(t,b,{polarCenterX:e/2,polarCenterY:n/2});for(var g=e/Math.pow(2,p);g<=8;)g=g*2,p-=1;g=Math.ceil(g);var y=g,S=0,I=y,k=1;for(v+g>e&&(S=y,I=0,k=-1),i=0;i<n;i+=1)for(r=S;r!==I;r+=k)s=Math.round(r+v)%e,u=(e*i+s)*4,o=b.data[u+0],l=b.data[u+1],c=b.data[u+2],h=b.data[u+3],d=(e*i+r)*4,b.data[d+0]=o,b.data[d+1]=l,b.data[d+2]=c,b.data[d+3]=h;for(i=0;i<n;i+=1)for(y=Math.floor(g),a=0;a<p;a+=1){for(r=0;r<y+1;r+=1)u=(e*i+r)*4,o=b.data[u+0],l=b.data[u+1],c=b.data[u+2],h=b.data[u+3],d=(e*i+y*2-r-1)*4,b.data[d+0]=o,b.data[d+1]=l,b.data[d+2]=c,b.data[d+3]=h;y*=2}OC(b,t,{polarRotation:0})}};w.addGetterSetter(H,"kaleidoscopePower",2,j(),w.afterSetFilter);w.addGetterSetter(H,"kaleidoscopeAngle",0,j(),w.afterSetFilter);function as(t,e,n){var r=(n*t.width+e)*4,i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Fr(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function LC(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function DC(t,e){var n=as(t,0,0),r=as(t,t.width-1,0),i=as(t,0,t.height-1),s=as(t,t.width-1,t.height-1),a=e||10;if(Fr(n,r)<a&&Fr(r,s)<a&&Fr(s,i)<a&&Fr(i,n)<a){for(var o=LC([r,n,s,i]),l=[],c=0;c<t.width*t.height;c++){var h=Fr(o,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=h<a?0:255}return l}}function NC(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function FC(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var v=p*e+f,_=r[u*i+d];h+=t[v]*_}}a[c]=h===255*8?255:0}return a}function BC(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var v=p*e+f,_=r[u*i+d];h+=t[v]*_}}a[c]=h>=255*4?255:0}return a}function GC(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[],o=0;o<n;o++)for(var l=0;l<e;l++){for(var c=o*e+l,h=0,u=0;u<i;u++)for(var d=0;d<i;d++){var p=o+u-s,f=l+d-s;if(p>=0&&p<n&&f>=0&&f<e){var v=p*e+f,_=r[u*i+d];h+=t[v]*_}}a[c]=h}return a}const $C=function(t){var e=this.threshold(),n=DC(t,e);return n&&(n=FC(n,t.width,t.height),n=BC(n,t.width,t.height),n=GC(n,t.width,t.height),NC(t,n)),t};w.addGetterSetter(H,"threshold",0,j(),w.afterSetFilter);const UC=function(t){var e=this.noise()*255,n=t.data,r=n.length,i=e/2,s;for(s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};w.addGetterSetter(H,"noise",.2,j(),w.afterSetFilter);const HC=function(t){var e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i,s,a,o,l,c,h,u=Math.ceil(n/e),d=Math.ceil(r/e),p,f,v,_,b,g,y,S=t.data;if(e<=0){E.error("pixelSize value can not be <= 0");return}for(b=0;b<u;b+=1)for(g=0;g<d;g+=1){for(o=0,l=0,c=0,h=0,p=b*e,f=p+e,v=g*e,_=v+e,y=0,i=p;i<f;i+=1)if(!(i>=n))for(s=v;s<_;s+=1)s>=r||(a=(n*s+i)*4,o+=S[a+0],l+=S[a+1],c+=S[a+2],h+=S[a+3],y+=1);for(o=o/y,l=l/y,c=c/y,h=h/y,i=p;i<f;i+=1)if(!(i>=n))for(s=v;s<_;s+=1)s>=r||(a=(n*s+i)*4,S[a+0]=o,S[a+1]=l,S[a+2]=c,S[a+3]=h)}};w.addGetterSetter(H,"pixelSize",8,j(),w.afterSetFilter);const jC=function(t){var e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e,s;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};w.addGetterSetter(H,"levels",.5,j(),w.afterSetFilter);const WC=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a,o;for(a=0;a<n;a+=4)o=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255,e[a]=o*r,e[a+1]=o*i,e[a+2]=o*s,e[a+3]=e[a+3]};w.addGetterSetter(H,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(H,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(H,"blue",0,Tf,w.afterSetFilter);const zC=function(t){var e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha(),o,l;for(o=0;o<n;o+=4)l=1-a,e[o]=r*a+e[o]*l,e[o+1]=i*a+e[o+1]*l,e[o+2]=s*a+e[o+2]*l};w.addGetterSetter(H,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(H,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});w.addGetterSetter(H,"blue",0,Tf,w.afterSetFilter);w.addGetterSetter(H,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const VC=function(t){var e=t.data,n=e.length,r,i,s,a;for(r=0;r<n;r+=4)i=e[r+0],s=e[r+1],a=e[r+2],e[r+0]=Math.min(255,i*.393+s*.769+a*.189),e[r+1]=Math.min(255,i*.349+s*.686+a*.168),e[r+2]=Math.min(255,i*.272+s*.534+a*.131)},KC=function(t){var e=t.data,n=t.width,r=t.height,i=n*4,s=r;do{var a=(s-1)*i,o=n;do{var l=a+(o-1)*4,c=e[l],h=e[l+1],u=e[l+2];c>127&&(c=255-c),h>127&&(h=255-h),u>127&&(u=255-u),e[l]=c,e[l+1]=h,e[l+2]=u}while(--o)}while(--s)},qC=function(t){var e=this.threshold()*255,n=t.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<e?0:255};w.addGetterSetter(H,"threshold",.5,j(),w.afterSetFilter);const YC=Eh.Util._assign(Eh,{Arc:Ft,Arrow:jn,Circle:Ar,Ellipse:pn,Image:lt,Label:Ol,Tag:Wn,Line:Bt,Path:Ce,Rect:Fi,RegularPolygon:zn,Ring:Vn,Sprite:Et,Star:gn,Text:Oe,TextPath:Ge,Transformer:be,Wedge:Gt,Filters:{Blur:SC,Brighten:CC,Contrast:EC,Emboss:TC,Enhance:kC,Grayscale:IC,HSL:PC,HSV:AC,Invert:xC,Kaleidoscope:MC,Mask:$C,Noise:UC,Pixelate:HC,Posterize:jC,RGB:WC,RGBA:zC,Sepia:VC,Solarize:KC,Threshold:qC}}),XC=Object.freeze(Object.defineProperty({__proto__:null,default:YC},Symbol.toStringTag,{value:"Module"})),JC=Ef(XC);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(r,i){t.exports=i(Bw,JC)})(Dw,function(n,r){return function(i){var s={};function a(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return i[o].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=i,a.c=s,a.d=function(o,l,c){a.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:c})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,l){if(l&1&&(o=a(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var h in o)a.d(c,h,function(u){return o[u]}.bind(null,h));return c},a.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(l,"a",l),l},a.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},a.p="",a(a.s=2)}([function(i,s){i.exports=n},function(i,s){i.exports=r},function(i,s,a){i.exports=a(3)},function(i,s,a){a.r(s);var o=a(0),l=a(1),c=a.n(l);function h(A){if(!c.a.autoDrawEnabled){var P=A.getLayer()||A.getStage();P&&P.batchDraw()}}var u={key:!0,style:!0,elm:!0,isRootInsert:!0},d=".vue-konva-event";function p(A,P,Y,$){P===void 0&&(P={}),Y===void 0&&(Y={});var Z=A.__konvaNode,re={},ue=!1;for(var ee in Y)if(!u[ee]){var ce=ee.slice(0,2)==="on",de=Y[ee]!==P[ee];if(ce&&de){var _e=ee.substr(2).toLowerCase();_e.substr(0,7)==="content"&&(_e="content"+_e.substr(7,1).toUpperCase()+_e.substr(8)),Z.off(_e+d,Y[ee])}var Fe=!P.hasOwnProperty(ee);Fe&&Z.setAttr(ee,void 0)}for(var O in P)if(!u[O]){var V=O.slice(0,2)==="on",K=Y[O]!==P[O];if(V&&K){var X=O.substr(2).toLowerCase();X.substr(0,7)==="content"&&(X="content"+X.substr(7,1).toUpperCase()+X.substr(8)),P[O]&&(Z.off(X+d),Z.on(X+d,P[O]))}!V&&(P[O]!==Y[O]||$&&P[O]!==Z.getAttr(O))&&(ue=!0,re[O]=P[O])}ue&&(Z.setAttrs(re),h(Z))}var f="v";function v(A){function P(Y){return Y.__konvaNode?Y:Y.parent?P(Y.parent):(console.error("vue-konva error: Can not find parent node"),{})}return P(A.parent)}function _(A){if(A!=null&&A.component)return A.component.__konvaNode||_(A.component.subTree)}function b(A){var P=A.el,Y=A.component,$=_(A);if(P!=null&&P.tagName&&Y&&!$){var Z=P&&P.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+Z+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return $}function g(A){var P=[];return A.children&&A.children.forEach(function(Y){!Y.component&&Array.isArray(Y.children)&&Y.children.forEach(function($){!$.component&&Array.isArray($.children)?P.push.apply(P,$.children):P.push($)}),Y.component&&P.push(Y)}),P}function y(A,P){var Y=g(A),$=[];Y.forEach(function(re){var ue=b(re);ue&&$.push(ue)});var Z=!1;$.forEach(function(re,ue){re.getZIndex()!==ue&&(re.setZIndex(ue),Z=!0)}),Z&&h(P)}function S(){return S=Object.assign||function(A){for(var P=1;P<arguments.length;P++){var Y=arguments[P];for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(A[$]=Y[$])}return A},S.apply(this,arguments)}var I={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(P,Y){var $=Y.attrs,Z=Y.slots,re=Y.expose;Y.emits;var ue=Object(o.getCurrentInstance)(),ee=Object(o.reactive)({}),ce=Object(o.ref)(null),de=new window.Konva.Stage({width:P.config.width,height:P.config.height,container:document.createElement("div")});ue.__konvaNode=de,O();function _e(){return ue.__konvaNode}function Fe(){return ue.__konvaNode}function O(){var V=ee||{},K=S({},$,P.config);p(ue,K,V,P.__useStrictMode),Object.assign(ee,K)}return Object(o.onMounted)(function(){ce.value.innerHTML="",de.container(ce.value),O()}),Object(o.onUpdated)(function(){O(),y(ue.subTree,de)}),Object(o.onBeforeUnmount)(function(){de.destroy()}),Object(o.watch)(function(){return P.config},O,{deep:!0}),re({getStage:Fe,getNode:_e}),function(){var V;return Object(o.h)("div",{ref:ce},(V=Z.default)===null||V===void 0?void 0:V.call(Z))}}};function k(){return k=Object.assign||function(A){for(var P=1;P<arguments.length;P++){var Y=arguments[P];for(var $ in Y)Object.prototype.hasOwnProperty.call(Y,$)&&(A[$]=Y[$])}return A},k.apply(this,arguments)}var R=".vue-konva-event",T={Group:!0,Layer:!0,FastLayer:!0,Label:!0},L=function(A){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(Y,$){var Z=$.attrs,re=$.slots,ue=$.expose,ee=Object(o.getCurrentInstance)(),ce=Object(o.reactive)({}),de=window.Konva[A];if(!de){console.error("vue-konva error: Can not find node "+A);return}var _e=new de;ee.__konvaNode=_e,ee.vnode.__konvaNode=_e,V();function Fe(){return ee.__konvaNode}function O(){return ee.__konvaNode}function V(){var X={};for(var fe in ee.vnode.props)fe.slice(0,2)==="on"&&(X[fe]=ee.vnode.props[fe]);var xe=ce||{},he=k({},Z,Y.config,X);p(ee,he,xe,Y.__useStrictMode),Object.assign(ce,he)}Object(o.onMounted)(function(){var X=v(ee).__konvaNode;X.add(_e),h(_e)}),Object(o.onUnmounted)(function(){h(_e),_e.destroy(),_e.off(R)}),Object(o.onUpdated)(function(){V(),y(ee.subTree,_e)}),Object(o.watch)(function(){return Y.config},V,{deep:!0}),ue({getStage:O,getNode:Fe});var K=T[A];return K?function(){var X;return Object(o.h)("template",{},(X=re.default)===null||X===void 0?void 0:X.call(re))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var M=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],N=[{name:"Stage",component:I}].concat(M.map(function(A){return{name:A,component:L(A)}})),F={install:function(P,Y){var $=f;Y&&Y.prefix&&($=Y.prefix),N.forEach(function(Z){P.component(""+$+Z.name,Z.component)})}};s.default=F}]).default})})(Fw);const ZC=Nw(Co),Mh=t=>{let e=!1,n;return()=>(e||(e=!0,n=t()),n)};class Mo{static isServer(){return typeof document>"u"}}function QC(t){const e=document.createElement("SCRIPT");if(typeof t!="object")throw new Error("options should  be an object");Array.prototype.isPrototypeOf(t.libraries)&&(t.libraries=t.libraries.join(",")),t.v||(t.v=3.47),t.callback="vueGoogleMapsInit";let r="https://maps.googleapis.com/maps/api/js?"+Object.keys(t).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(t[i])).join("&");return e.setAttribute("src",r),e.setAttribute("async",""),e.setAttribute("defer",""),e}let Lh=!1;function e1(t){if(!Mo.isServer()){if(Lh)throw new Error("You already started the loading of google maps");{Lh=!0;const e=QC(t);document.head.appendChild(e)}}}const np=(t,e,n)=>{for(let r of n){const i=`on${r.charAt(0).toUpperCase()}${r.slice(1)}`.replace(/[-_]+(.)?/g,(s,a)=>a?a.toUpperCase():"");t.$props[i]||t.$attrs[i]?e.addListener(r,s=>{t.$emit(r,s)}):(t.$gmapOptions.autobindAllEvents||t.$attrs[r])&&e.addListener(r,s=>{t.$emit(r,s)})}};function rp(t,e,n,r=!1){let i=!1;function s(){i||(i=!0,t.$nextTick(()=>{i=!1,n()}))}for(let a of e)t.$watch(a,s,{immediate:r})}class Dh{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}function Ls(t,e){return Object.keys(e).reduce((n,r)=>(t[r]!==void 0&&(n[r]=t[r]),n),{})}function Ml(t,e,n){for(let r in n){let{twoWay:i,type:s,trackProperties:a,noBind:o}=n[r];if(o)continue;const l="set"+Dh.capitalizeFirstLetter(r),c="get"+Dh.capitalizeFirstLetter(r),h=r.toLowerCase()+"_changed",u=t[r];if(typeof e[l]>"u")throw new Error(`${l} is not a method of (the Maps object corresponding to) ${t.$options._componentTag}`);s!==Object||!a?t.$watch(r,()=>{const d=t[r];e[l](d)},{immediate:typeof u<"u",deep:s===Object}):rp(t,a.map(d=>`${r}.${d}`),()=>{e[l](t[r])},t[r]!==void 0),i&&(t.$gmapOptions.autobindAllEvents||t.$attrs[h])&&e.addListener(h,()=>{t.$emit(h,e[c]())})}}const t1={inject:{$mapPromise:{default:"abcdef"}},provide(){return this.$mapPromise.then(t=>{this.$map=t}),{}}};function mn(t){const{mappedProps:e,name:n,ctr:r,ctrArgs:i,events:s,beforeCreate:a,afterCreate:o,props:l,...c}=t,h=`$${n}Promise`,u=`$${n}Object`;return n1(!(c.props instanceof Array),"`props` should be an object, not Array"),{...typeof GENERATE_DOC<"u"?{$vgmOptions:t}:{},mixins:[t1],props:{...l,...Ll(e)},render(){return""},provide(){const d=this.$mapPromise.then(p=>{this.$map=p;const f={...this.options,map:p,...Ls(this,e)};if(delete f.options,a){const v=a.bind(this)(f);if(v instanceof Promise)return v.then(()=>({options:f}))}return{options:f}}).then(({options:p})=>{const f=r();return this[u]=i?new(Function.prototype.bind.call(f,null,...i(p,Ls(this,l||{})))):new f(p),Ml(this,this[u],e),np(this,this[u],s),o&&o.bind(this)(this[u]),this[u]});return this[h]=d,{[h]:d}},unmounted(){this[u]&&this[u].setMap&&this[u].setMap(null)},...c}}function n1(t,e){if(!t)throw new Error(e)}function Ll(t){return Object.entries(t).map(([e,n])=>{const r={};return"type"in n&&(r.type=n.type),"default"in n&&(r.default=n.default),"required"in n&&(r.required=n.required),[e,r]}).reduce((e,[n,r])=>(e[n]=r,e),{})}const r1={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0}},i1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],s1=mn({mappedProps:r1,props:{deepWatch:{type:Boolean,default:!1}},events:i1,name:"polyline",ctr:()=>google.maps.Polyline,afterCreate(){let t=()=>{};this.$watch("path",e=>{if(e){t(),this.$polylineObject.setPath(e);const n=this.$polylineObject.getPath(),r=[],i=()=>{this.$emit("path_changed",this.$polylineObject.getPath())};r.push([n,n.addListener("insert_at",i)]),r.push([n,n.addListener("remove_at",i)]),r.push([n,n.addListener("set_at",i)]),t=()=>{r.map(([s,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0})}}),a1={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0,noBind:!0},paths:{type:Array,twoWay:!0,noBind:!0}},o1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l1=mn({props:{deepWatch:{type:Boolean,default:!1}},events:o1,mappedProps:a1,name:"polygon",ctr:()=>google.maps.Polygon,beforeCreate(t){t.path||delete t.path,t.paths||delete t.paths},afterCreate(t){let e=()=>{};this.$watch("paths",n=>{if(n){e(),t.setPaths(n);const r=()=>{this.$emit("paths_changed",t.getPaths())},i=[],s=t.getPaths();for(let a=0;a<s.getLength();a++){let o=s.getAt(a);i.push([o,o.addListener("insert_at",r)]),i.push([o,o.addListener("remove_at",r)]),i.push([o,o.addListener("set_at",r)])}i.push([s,s.addListener("insert_at",r)]),i.push([s,s.addListener("remove_at",r)]),i.push([s,s.addListener("set_at",r)]),e=()=>{i.map(([a,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",n=>{if(n){e(),t.setPaths(n);const r=t.getPath(),i=[],s=()=>{this.$emit("path_changed",t.getPath())};i.push([r,r.addListener("insert_at",s)]),i.push([r,r.addListener("remove_at",s)]),i.push([r,r.addListener("set_at",s)]),e=()=>{i.map(([a,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0})}}),c1={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},h1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],u1=mn({mappedProps:c1,name:"circle",ctr:()=>google.maps.Circle,events:h1}),d1={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},f1=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],p1=mn({mappedProps:d1,name:"rectangle",ctr:()=>google.maps.Rectangle,events:f1}),g1={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},options:{type:Object},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}},Ha=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],m1=mn({mappedProps:g1,events:Ha,name:"marker",ctr:()=>google.maps.Marker,inject:{$clusterPromise:{default:null}},emits:Ha,unmounted(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject,!0):this.$markerObject.setMap(null))},beforeCreate(t){return this.$clusterPromise&&(t.map=null),this.$clusterPromise},afterCreate(t){Ha.forEach(e=>{t.addListener(e,n=>{this.$emit(e,n)})}),this.$clusterPromise&&this.$clusterPromise.then(e=>{this.$clusterObject=e,e.addMarker(t)})}});function v1(t,e,n,r,i,s){return pt(),cn("div",{onClick:e[0]||(e[0]=()=>{t.console.log("sdfsd")})},[pr(t.$slots,"default")])}const _1=Un(m1,[["render",v1]]);var Nh=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};function Lo(t,e,n,r,i,s){if(i-r<=n)return;const a=r+i>>1;ip(t,e,a,r,i,s%2),Lo(t,e,n,r,a-1,s+1),Lo(t,e,n,a+1,i,s+1)}function ip(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,h=n-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*d*(c-d)/c)*(h-c/2<0?-1:1),f=Math.max(r,Math.floor(n-h*d/c+p)),v=Math.min(i,Math.floor(n+(c-h)*d/c+p));ip(t,e,n,f,v,s)}const a=e[2*n+s];let o=r,l=i;for(Br(t,e,r,n),e[2*i+s]>a&&Br(t,e,r,i);o<l;){for(Br(t,e,o,l),o++,l--;e[2*o+s]<a;)o++;for(;e[2*l+s]>a;)l--}e[2*r+s]===a?Br(t,e,r,l):(l++,Br(t,e,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function Br(t,e,n,r){ja(t,n,r),ja(e,2*n,2*r),ja(e,2*n+1,2*r+1)}function ja(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function y1(t,e,n,r,i,s,a){const o=[0,t.length-1,0],l=[];let c,h;for(;o.length;){const u=o.pop(),d=o.pop(),p=o.pop();if(d-p<=a){for(let _=p;_<=d;_++)c=e[2*_],h=e[2*_+1],c>=n&&c<=i&&h>=r&&h<=s&&l.push(t[_]);continue}const f=Math.floor((p+d)/2);c=e[2*f],h=e[2*f+1],c>=n&&c<=i&&h>=r&&h<=s&&l.push(t[f]);const v=(u+1)%2;(u===0?n<=c:r<=h)&&(o.push(p),o.push(f-1),o.push(v)),(u===0?i>=c:s>=h)&&(o.push(f+1),o.push(d),o.push(v))}return l}function b1(t,e,n,r,i,s){const a=[0,t.length-1,0],o=[],l=i*i;for(;a.length;){const c=a.pop(),h=a.pop(),u=a.pop();if(h-u<=s){for(let _=u;_<=h;_++)Fh(e[2*_],e[2*_+1],n,r)<=l&&o.push(t[_]);continue}const d=Math.floor((u+h)/2),p=e[2*d],f=e[2*d+1];Fh(p,f,n,r)<=l&&o.push(t[d]);const v=(c+1)%2;(c===0?n-i<=p:r-i<=f)&&(a.push(u),a.push(d-1),a.push(v)),(c===0?n+i>=p:r+i>=f)&&(a.push(d+1),a.push(h),a.push(v))}return o}function Fh(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const w1=t=>t[0],S1=t=>t[1];class Bh{constructor(e,n=w1,r=S1,i=64,s=Float64Array){this.nodeSize=i,this.points=e;const a=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new a(e.length),l=this.coords=new s(e.length*2);for(let c=0;c<e.length;c++)o[c]=c,l[2*c]=n(e[c]),l[2*c+1]=r(e[c]);Lo(o,l,i,0,o.length-1,0)}range(e,n,r,i){return y1(this.ids,this.coords,e,n,r,i,this.nodeSize)}within(e,n,r){return b1(this.ids,this.coords,e,n,r,this.nodeSize)}}const C1={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Ds=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class E1{constructor(e){this.options=oi(Object.create(C1),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:r,maxZoom:i,nodeSize:s}=this.options;n&&console.time("total time");const a=`prepare ${e.length} points`;n&&console.time(a),this.points=e;let o=[];for(let l=0;l<e.length;l++)e[l].geometry&&o.push(k1(e[l],l));this.trees[i+1]=new Bh(o,$h,Uh,s,Float32Array),n&&console.timeEnd(a);for(let l=i;l>=r;l--){const c=+Date.now();o=this._cluster(o,l),this.trees[l]=new Bh(o,$h,Uh,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,o.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const h=this.getClusters([r,i,180,a],n),u=this.getClusters([-180,i,s,a],n);return h.concat(u)}const o=this.trees[this._limitZoom(n)],l=o.range(ms(r),vs(a),ms(s),vs(i)),c=[];for(const h of l){const u=o.points[h];c.push(u.numPoints?Gh(u):this.points[u.index])}return c}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const a=s.points[n];if(!a)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s.within(a.x,a.y,o),c=[];for(const h of l){const u=s.points[h];u.parentId===e&&c.push(u.numPoints?Gh(u):this.points[u.index])}if(c.length===0)throw new Error(i);return c}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:a,radius:o}=this.options,l=o/a,c=(r-l)/s,h=(r+1+l)/s,u={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,h),i.points,n,r,s,u),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,h),i.points,s,r,s,u),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,h),i.points,-1,r,s,u),u.features.length?u:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const a=this.getChildren(n);for(const o of a){const l=o.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(o),e.length===r)break}return s}_addTileFeatures(e,n,r,i,s,a){for(const o of e){const l=n[o],c=l.numPoints;let h,u,d;if(c)h=sp(l),u=l.x,d=l.y;else{const v=this.points[l.index];h=v.properties,u=ms(v.geometry.coordinates[0]),d=vs(v.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(u*s-r)),Math.round(this.options.extent*(d*s-i))]],tags:h};let f;c?f=l.id:this.options.generateId?f=l.index:this.points[l.index].id&&(f=this.points[l.index].id),f!==void 0&&(p.id=f),a.features.push(p)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const r=[],{radius:i,extent:s,reduce:a,minPoints:o}=this.options,l=i/(s*Math.pow(2,n));for(let c=0;c<e.length;c++){const h=e[c];if(h.zoom<=n)continue;h.zoom=n;const u=this.trees[n+1],d=u.within(h.x,h.y,l),p=h.numPoints||1;let f=p;for(const v of d){const _=u.points[v];_.zoom>n&&(f+=_.numPoints||1)}if(f>p&&f>=o){let v=h.x*p,_=h.y*p,b=a&&p>1?this._map(h,!0):null;const g=(c<<5)+(n+1)+this.points.length;for(const y of d){const S=u.points[y];if(S.zoom<=n)continue;S.zoom=n;const I=S.numPoints||1;v+=S.x*I,_+=S.y*I,S.parentId=g,a&&(b||(b=this._map(h,!0)),a(b,this._map(S)))}h.parentId=g,r.push(T1(v/f,_/f,g,f,b))}else if(r.push(h),f>1)for(const v of d){const _=u.points[v];_.zoom<=n||(_.zoom=n,r.push(_))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?oi({},e.properties):e.properties;const r=this.points[e.index].properties,i=this.options.map(r);return n&&i===r?oi({},i):i}}function T1(t,e,n,r,i){return{x:Ds(t),y:Ds(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function k1(t,e){const[n,r]=t.geometry.coordinates;return{x:Ds(ms(n)),y:Ds(vs(r)),zoom:1/0,index:e,parentId:-1}}function Gh(t){return{type:"Feature",id:t.id,properties:sp(t),geometry:{type:"Point",coordinates:[I1(t.x),P1(t.y)]}}}function sp(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return oi(oi({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function ms(t){return t/360+.5}function vs(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function I1(t){return(t-.5)*360}function P1(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function oi(t,e){for(const n in e)t[n]=e[n];return t}function $h(t){return t.x}function Uh(t){return t.y}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function A1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Do{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position))return this.markers.reduce((e,n)=>e.extend(n.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class x1{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return R1(e)}}const R1=t=>t.map(n=>new Do({position:n.getPosition(),markers:[n]}));class O1 extends x1{constructor(e){var{maxZoom:n,radius:r=60}=e,i=A1(e,["maxZoom","radius"]);super({maxZoom:n}),this.superCluster=new E1(Object.assign({maxZoom:this.maxZoom,radius:r},i)),this.state={zoom:null}}calculate(e){let n=!1;if(!Nh(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>({type:"Feature",geometry:{type:"Point",coordinates:[s.getPosition().lng(),s.getPosition().lat()]},properties:{marker:s}}));this.superCluster.load(i)}const r={zoom:e.map.getZoom()};return n||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(n=n||!Nh(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Do({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:n,lng:e})});{const i=r.marker;return new Do({markers:[i],position:i.getPosition()})}}}class M1{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,a)=>s+a,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class L1{render({count:e,position:n},r){const i=e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",s=window.btoa(`
  <svg fill="${i}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`);return new google.maps.Marker({position:n,icon:{url:`data:image/svg+xml;base64,${s}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}function D1(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Dl{constructor(){D1(Dl,google.maps.OverlayView)}}var li;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(li||(li={}));const N1=(t,e,n)=>{n.fitBounds(e.bounds)};class Hh extends Dl{constructor({map:e,markers:n=[],algorithm:r=new O1({}),renderer:i=new L1,onClusterClick:s=N1}){super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,li.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=n,this.renderClusters()),google.maps.event.trigger(this,li.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new M1(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,li.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),r.marker.setMap(n)})}}const Wa={maxZoom:{type:Number,twoWay:!1},batchSizeIE:{type:Number,twoWay:!1},calculator:{type:Function,twoWay:!1},enableRetinaIcons:{type:Boolean,twoWay:!1},gridSize:{type:Number,twoWay:!1},ignoreHidden:{type:Boolean,twoWay:!1},imageExtension:{type:String,twoWay:!1},imagePath:{type:String,twoWay:!1},imageSizes:{type:Array,twoWay:!1},minimumClusterSize:{type:Number,twoWay:!1},styles:{type:Array,twoWay:!1},zoomOnClick:{type:Boolean,twoWay:!1}},F1=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],B1=mn({mappedProps:Wa,events:F1,name:"cluster",ctr:()=>{if(typeof Hh>"u"){const t="MarkerClusterer is not installed!";throw console.error(t),new Error(t)}return Hh},ctrArgs:({map:t,...e})=>[t,[],e],afterCreate(t){const e=()=>{const n=t.getMarkers();t.clearMarkers(),t.addMarkers(n)};for(let n in Wa)Wa[n].twoWay&&this.$on(n.toLowerCase()+"_changed",e)},updated(){this.$clusterObject&&this.$clusterObject.repaint()},beforeUnmount(){this.$children&&this.$children.length&&this.$children.forEach(t=>{t.$clusterObject===this.$clusterObject&&(t.$clusterObject=null)}),this.$clusterObject&&this.$clusterObject.clearMarkers()}});function G1(t,e,n,r,i,s){return pt(),cn("div",null,[pr(t.$slots,"default")])}const $1=Un(B1,[["render",G1]]),U1={options:{type:Object,required:!1,default(){return{}}},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}},H1=["domready","click","closeclick","content_changed"],j1=mn({mappedProps:U1,events:H1,name:"infoWindow",ctr:()=>google.maps.InfoWindow,props:{opened:{type:Boolean,default:!0}},inject:{$markerPromise:{default:null}},mounted(){const t=this.$refs.infoWindow;t.parentNode.removeChild(t)},beforeCreate(t){if(t.content=this.$refs.infoWindow,this.$markerPromise)return delete t.position,this.$markerPromise.then(e=>(this.$markerObject=e,e))},emits:["closeclick"],methods:{_openInfoWindow(){this.$infoWindowObject.close(),this.opened?this.$infoWindowObject.open(this.$map,this.$markerObject):this.$emit("closeclick")}},afterCreate(){this._openInfoWindow(),this.$watch("opened",()=>{this._openInfoWindow()})}}),W1={ref:"infoWindow"};function z1(t,e,n,r,i,s){return pt(),cn("div",W1,[pr(t.$slots,"default")],512)}const V1=Un(j1,[["render",z1]]),K1={props:["resizeBus"],data(){return{_actualResizeBus:null}},created(){typeof this.resizeBus>"u"?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback(){this.resize()},isFunction(t){return t&&{}.toString.call(t)==="[object Function]"},_delayedResizeCallback(){this.$nextTick(()=>this._resizeCallback())}},watch:{resizeBus(t){this.$data._actualResizeBus=t},"$data._actualResizeBus"(t,e){e&&e.$off("resize",this._delayedResizeCallback)}},unmounted(){this.$data._actualResizeBus&&this.isFunction(this.$data._actualResizeBus.$off)&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}};function q1(t){let e=0;t(()=>{e+=1},()=>{e=Math.max(0,e-1)},()=>e===0)}const za={center:{required:!0,twoWay:!0,type:Object,noBind:!0},zoom:{required:!1,twoWay:!0,type:Number,noBind:!0},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},tilt:{twoWay:!0,type:Number},options:{type:Object,default(){return{}}}},jh=["bounds_changed","click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],Y1=["panBy","panTo","panToBounds","fitBounds"].reduce((t,e)=>(t[e]=function(){this.$mapObject&&this.$mapObject[e].apply(this.$mapObject,arguments)},t),{}),X1={resize(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter(){if(!this.$mapObject)return;const t=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(t)},_resizeCallback(){this.resizePreserveCenter()}},J1={mixins:[K1],props:Ll({...za,...jh.reduce((t,e)=>({...t,[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`.replace(/[-_]+(.)?/g,(n,r)=>r?r.toUpperCase():"")]:Function}),{})}),inheritAttrs:!1,provide(){return this.$mapPromise=new Promise((t,e)=>{this.$mapPromiseDeferred={resolve:t,reject:e}}),{$mapPromise:this.$mapPromise}},emits:["center_changed","zoom_changed","bounds_changed"],computed:{finalLat(){return this.center&&typeof this.center.lat=="function"?this.center.lat():this.center.lat},finalLng(){return this.center&&typeof this.center.lng=="function"?this.center.lng():this.center.lng},finalLatLng(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom(t){this.$mapObject&&this.$mapObject.setZoom(t)}},mounted(){return this.$gmapApiPromiseLazy().then(()=>{const t=this.$refs["vue-map"],e={...this.options,...Ls(this,za)};return delete e.options,this.$mapObject=new google.maps.Map(t,e),Ml(this,this.$mapObject,za),np(this,this.$mapObject,jh),q1((n,r,i)=>{this.$mapObject.addListener("center_changed",()=>{i()&&this.$emit("center_changed",this.$mapObject.getCenter()),r()}),rp(this,["finalLat","finalLng"],()=>{n(),this.$mapObject.setCenter(this.finalLatLng)})}),this.$mapObject.addListener("zoom_changed",()=>{this.$emit("zoom_changed",this.$mapObject.getZoom())}),this.$mapObject.addListener("bounds_changed",()=>{this.$emit("bounds_changed",this.$mapObject.getBounds())}),this.$mapPromiseDeferred.resolve(this.$mapObject),this.$mapObject}).catch(t=>{throw t})},methods:{...X1,...Y1}},Z1={class:"vue-map-hidden"};function Q1(t,e,n,r,i,s){return pt(),cn("div",{class:Cr(["vue-map-container",t.$attrs.class])},[ge("div",{ref:"vue-map",class:"vue-map",style:Sr(t.$attrs.style?t.$attrs.style:"")},null,4),ge("div",Z1,[pr(t.$slots,"default")]),pr(t.$slots,"visible")],2)}const eE=Un(J1,[["render",Q1]]),tE={options:{type:Object,twoWay:!1,default:()=>{}},data:{type:Array,twoWay:!0}},nE=[],rE=mn({mappedProps:tE,name:"heatmap",ctr:()=>google.maps.visualization.HeatmapLayer,events:nE}),iE=t=>{const e=t.addEventListener?t.addEventListener:t.attachEvent;function n(r,i){if(r==="keydown"){const s=i;i=function(a){const o=document.getElementsByClassName("pac-item-selected").length>0;if(a.which===13&&!o){const l=document.createEvent("Event");l.keyCode=40,l.which=40,s.apply(t,[l])}s.apply(t,[a])}}e.apply(t,[r,i])}t.addEventListener=n,t.attachEvent=n},Va={bounds:{type:Object},componentRestrictions:{type:Object,noBind:!0},types:{type:Array,default:function(){return[]}}},sE={selectFirstOnEnter:{required:!1,type:Boolean,default:!1},options:{type:Object}},aE={mounted(){this.$gmapApiPromiseLazy().then(()=>{if(this.selectFirstOnEnter&&iE(this.$refs.input),typeof google.maps.places.Autocomplete!="function")throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");const t={...Ls(this,Va),...this.options};this.$autocomplete=new google.maps.places.Autocomplete(this.$refs.input,t),Ml(this,this.$autocomplete,Va),this.$watch("componentRestrictions",e=>{e!==void 0&&this.$autocomplete.setComponentRestrictions(e)}),this.$autocomplete.addListener("place_changed",()=>{this.$emit("place_changed",this.$autocomplete.getPlace())})})},props:{...Ll(Va),...sE}};function oE(t,e,n,r,i,s){return pt(),cn("input",hl({ref:"input"},t.$attrs,Lu(t.$attrs,!0)),null,16)}const lE=Un(aE,[["render",oE]]);let ap=null;function cE(t,e){e={installComponents:!0,autobindAllEvents:!1,...e},ap=Es({data:function(){return{gmapApi:null}}});const n=Es();let r=hE(e);t.mixin({created(){this.$gmapDefaultResizeBus=n,this.$gmapOptions=e,this.$gmapApiPromiseLazy=r}}),t.$gmapDefaultResizeBus=n,t.$gmapApiPromiseLazy=r,e.installComponents&&(t.component("GMapMap",eE),t.component("GMapMarker",_1),t.component("GMapInfoWindow",V1),t.component("GMapCluster",$1),t.component("GMapPolyline",s1),t.component("GMapPolygon",l1),t.component("GMapCircle",u1),t.component("GMapRectangle",p1),t.component("GMapAutocomplete",lE),t.component("GMapHeatmap",rE))}function hE(t){function e(){return ap.gmapApi={},window.google}if(t.load)return Mh(()=>Mo.isServer()?new Promise(()=>{}).then(e):new Promise((n,r)=>{try{window.vueGoogleMapsInit=n,e1(t.load)}catch(i){r(i)}}).then(e));{const n=new Promise(r=>{Mo.isServer()||(window.vueGoogleMapsInit=r)}).then(e);return Mh(()=>n)}}var uE="firebase",dE="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(uE,dE,"app");const fE={apiKey:"AIzaSyBrArPrjK2RdAXddP3ZAKVRpagfztXjrwA",authDomain:"swemount-2d137.firebaseapp.com",projectId:"swemount-2d137",storageBucket:"swemount-2d137.appspot.com",messagingSenderId:"401638769719",appId:"1:401638769719:web:0765de6a911bfa41e16bb2",measurementId:"G-CVNKCYMPGH"};Md(fE);Cf.afterEach((t,e)=>{window.scrollTo(0,0)});const pa=Es(iw);pa.use(Cf);pa.use(ZC);pa.use(cE,{load:{key:"AIzaSyAiwsX0pst4lZq1uBA6h1x89yRDZ4tO7TM",libraries:"places"}});pa.mount("#app");export{md as A,mi as B,vr as C,or as D,un as E,$e as F,dn as G,G_ as H,Od as I,pE as J,gE as K,Pe as L,Ad as M,ra as S,ul as T,Un as _,ge as a,Hg as b,cn as c,ol as d,Ae as e,um as f,yn as g,Ef as h,Dw as i,ll as j,Bg as k,pd as l,dl as m,Cr as n,pt as o,vg as p,_g as q,Ru as r,Sr as s,Cn as t,Xu as u,Cs as v,Jo as w,Yy as x,mE as y,fv as z};
